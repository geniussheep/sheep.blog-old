!function(a,b){"use strict";function c(){d.READY||(d.event.determineEventTypes(),d.utils.each(d.gestures,function(a){d.detection.register(a)}),d.event.onTouch(d.DOCUMENT,d.EVENT_MOVE,d.detection.detect),d.event.onTouch(d.DOCUMENT,d.EVENT_END,d.detection.detect),d.READY=!0)}var d=function(a,b){return new d.Instance(a,b||{})};d.defaults={stop_browser_behavior:{userSelect:"none",touchAction:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},d.HAS_POINTEREVENTS=a.navigator.pointerEnabled||a.navigator.msPointerEnabled,d.HAS_TOUCHEVENTS="ontouchstart"in a,d.MOBILE_REGEX=/mobile|tablet|ip(ad|hone|od)|android|silk/i,d.NO_MOUSEEVENTS=d.HAS_TOUCHEVENTS&&a.navigator.userAgent.match(d.MOBILE_REGEX),d.EVENT_TYPES={},d.DIRECTION_DOWN="down",d.DIRECTION_LEFT="left",d.DIRECTION_UP="up",d.DIRECTION_RIGHT="right",d.POINTER_MOUSE="mouse",d.POINTER_TOUCH="touch",d.POINTER_PEN="pen",d.EVENT_START="start",d.EVENT_MOVE="move",d.EVENT_END="end",d.DOCUMENT=a.document,d.plugins=d.plugins||{},d.gestures=d.gestures||{},d.READY=!1,d.utils={extend:function(a,c,d){for(var e in c)a[e]!==b&&d||(a[e]=c[e]);return a},each:function(a,c,d){var e,f;if("forEach"in a)a.forEach(c,d);else if(a.length!==b){for(e=0,f=a.length;f>e;e++)if(c.call(d,a[e],e,a)===!1)return}else for(e in a)if(a.hasOwnProperty(e)&&c.call(d,a[e],e,a)===!1)return},hasParent:function(a,b){for(;a;){if(a==b)return!0;a=a.parentNode}return!1},getCenter:function(a){var b=[],c=[];return d.utils.each(a,function(a){b.push("undefined"!=typeof a.clientX?a.clientX:a.pageX),c.push("undefined"!=typeof a.clientY?a.clientY:a.pageY)}),{pageX:(Math.min.apply(Math,b)+Math.max.apply(Math,b))/2,pageY:(Math.min.apply(Math,c)+Math.max.apply(Math,c))/2}},getVelocity:function(a,b,c){return{x:Math.abs(b/a)||0,y:Math.abs(c/a)||0}},getAngle:function(a,b){var c=b.pageY-a.pageY,d=b.pageX-a.pageX;return 180*Math.atan2(c,d)/Math.PI},getDirection:function(a,b){var c=Math.abs(a.pageX-b.pageX),e=Math.abs(a.pageY-b.pageY);return c>=e?a.pageX-b.pageX>0?d.DIRECTION_LEFT:d.DIRECTION_RIGHT:a.pageY-b.pageY>0?d.DIRECTION_UP:d.DIRECTION_DOWN},getDistance:function(a,b){var c=b.pageX-a.pageX,d=b.pageY-a.pageY;return Math.sqrt(c*c+d*d)},getScale:function(a,b){return a.length>=2&&b.length>=2?this.getDistance(b[0],b[1])/this.getDistance(a[0],a[1]):1},getRotation:function(a,b){return a.length>=2&&b.length>=2?this.getAngle(b[1],b[0])-this.getAngle(a[1],a[0]):0},isVertical:function(a){return a==d.DIRECTION_UP||a==d.DIRECTION_DOWN},stopDefaultBrowserBehavior:function(a,b){b&&a&&a.style&&(d.utils.each(["webkit","khtml","moz","Moz","ms","o",""],function(c){d.utils.each(b,function(b){c&&(b=c+b.substring(0,1).toUpperCase()+b.substring(1)),b in a.style&&(a.style[b]=b)})}),"none"==b.userSelect&&(a.onselectstart=function(){return!1}),"none"==b.userDrag&&(a.ondragstart=function(){return!1}))}},d.Instance=function(a,b){var e=this;return c(),this.element=a,this.enabled=!0,this.options=d.utils.extend(d.utils.extend({},d.defaults),b||{}),this.options.stop_browser_behavior&&d.utils.stopDefaultBrowserBehavior(this.element,this.options.stop_browser_behavior),d.event.onTouch(a,d.EVENT_START,function(a){e.enabled&&d.detection.startDetect(e,a)}),this},d.Instance.prototype={on:function(a,b){var c=a.split(" ");return d.utils.each(c,function(a){this.element.addEventListener(a,b,!1)},this),this},off:function(a,b){var c=a.split(" ");return d.utils.each(c,function(a){this.element.removeEventListener(a,b,!1)},this),this},trigger:function(a,b){b||(b={});var c=d.DOCUMENT.createEvent("Event");c.initEvent(a,!0,!0),c.gesture=b;var e=this.element;return d.utils.hasParent(b.target,e)&&(e=b.target),e.dispatchEvent(c),this},enable:function(a){return this.enabled=a,this}};var e=null,f=!1,g=!1;d.event={bindDom:function(a,b,c){var e=b.split(" ");d.utils.each(e,function(b){a.addEventListener(b,c,!1)})},onTouch:function(a,b,c){var h=this;this.bindDom(a,d.EVENT_TYPES[b],function(i){var j=i.type.toLowerCase();if(!j.match(/mouse/)||!g){j.match(/touch/)||j.match(/pointerdown/)||j.match(/mouse/)&&1===i.which?f=!0:j.match(/mouse/)&&!i.which&&(f=!1),j.match(/touch|pointer/)&&(g=!0);var k=0;f&&(d.HAS_POINTEREVENTS&&b!=d.EVENT_END?k=d.PointerEvent.updatePointer(b,i):j.match(/touch/)?k=i.touches.length:g||(k=j.match(/up/)?0:1),k>0&&b==d.EVENT_END?b=d.EVENT_MOVE:k||(b=d.EVENT_END),(k||null===e)&&(e=i),c.call(d.detection,h.collectEventData(a,b,h.getTouchList(e,b),i)),d.HAS_POINTEREVENTS&&b==d.EVENT_END&&(k=d.PointerEvent.updatePointer(b,i))),k||(e=null,f=!1,g=!1,d.PointerEvent.reset())}})},determineEventTypes:function(){var a;a=d.HAS_POINTEREVENTS?d.PointerEvent.getEvents():d.NO_MOUSEEVENTS?["touchstart","touchmove","touchend touchcancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"],d.EVENT_TYPES[d.EVENT_START]=a[0],d.EVENT_TYPES[d.EVENT_MOVE]=a[1],d.EVENT_TYPES[d.EVENT_END]=a[2]},getTouchList:function(a){return d.HAS_POINTEREVENTS?d.PointerEvent.getTouchList():a.touches?a.touches:(a.identifier=1,[a])},collectEventData:function(a,b,c,e){var f=d.POINTER_TOUCH;return(e.type.match(/mouse/)||d.PointerEvent.matchType(d.POINTER_MOUSE,e))&&(f=d.POINTER_MOUSE),{center:d.utils.getCenter(c),timeStamp:(new Date).getTime(),target:e.target,touches:c,eventType:b,pointerType:f,srcEvent:e,preventDefault:function(){this.srcEvent.preventManipulation&&this.srcEvent.preventManipulation(),this.srcEvent.preventDefault&&this.srcEvent.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return d.detection.stopDetect()}}}},d.PointerEvent={pointers:{},getTouchList:function(){var a=this,b=[];return d.utils.each(a.pointers,function(a){b.push(a)}),b},updatePointer:function(a,b){return a==d.EVENT_END?this.pointers={}:(b.identifier=b.pointerId,this.pointers[b.pointerId]=b),Object.keys(this.pointers).length},matchType:function(a,b){if(!b.pointerType)return!1;var c=b.pointerType,e={};return e[d.POINTER_MOUSE]=c===b.MSPOINTER_TYPE_MOUSE||c===d.POINTER_MOUSE,e[d.POINTER_TOUCH]=c===b.MSPOINTER_TYPE_TOUCH||c===d.POINTER_TOUCH,e[d.POINTER_PEN]=c===b.MSPOINTER_TYPE_PEN||c===d.POINTER_PEN,e[a]},getEvents:function(){return["pointerdown MSPointerDown","pointermove MSPointerMove","pointerup pointercancel MSPointerUp MSPointerCancel"]},reset:function(){this.pointers={}}},d.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(a,b){this.current||(this.stopped=!1,this.current={inst:a,startEvent:d.utils.extend({},b),lastEvent:!1,name:""},this.detect(b))},detect:function(a){if(this.current&&!this.stopped){a=this.extendEventData(a);var b=this.current.inst.options;return d.utils.each(this.gestures,function(c){return this.stopped||b[c.name]===!1||c.handler.call(c,a,this.current.inst)!==!1?void 0:(this.stopDetect(),!1)},this),this.current&&(this.current.lastEvent=a),a.eventType==d.EVENT_END&&!a.touches.length-1&&this.stopDetect(),a}},stopDetect:function(){this.previous=d.utils.extend({},this.current),this.current=null,this.stopped=!0},extendEventData:function(a){var b=this.current.startEvent;!b||a.touches.length==b.touches.length&&a.touches!==b.touches||(b.touches=[],d.utils.each(a.touches,function(a){b.touches.push(d.utils.extend({},a))}));var c,e,f=a.timeStamp-b.timeStamp,g=a.center.pageX-b.center.pageX,h=a.center.pageY-b.center.pageY,i=d.utils.getVelocity(f,g,h);return"end"===a.eventType?(c=this.current.lastEvent&&this.current.lastEvent.interimAngle,e=this.current.lastEvent&&this.current.lastEvent.interimDirection):(c=this.current.lastEvent&&d.utils.getAngle(this.current.lastEvent.center,a.center),e=this.current.lastEvent&&d.utils.getDirection(this.current.lastEvent.center,a.center)),d.utils.extend(a,{deltaTime:f,deltaX:g,deltaY:h,velocityX:i.x,velocityY:i.y,distance:d.utils.getDistance(b.center,a.center),angle:d.utils.getAngle(b.center,a.center),interimAngle:c,direction:d.utils.getDirection(b.center,a.center),interimDirection:e,scale:d.utils.getScale(b.touches,a.touches),rotation:d.utils.getRotation(b.touches,a.touches),startEvent:b}),a},register:function(a){var c=a.defaults||{};return c[a.name]===b&&(c[a.name]=!0),d.utils.extend(d.defaults,c,!0),a.index=a.index||1e3,this.gestures.push(a),this.gestures.sort(function(a,b){return a.index<b.index?-1:a.index>b.index?1:0}),this.gestures}},d.gestures.Drag={name:"drag",index:50,defaults:{drag_min_distance:10,correct_for_drag_min_distance:!0,drag_max_touches:1,drag_block_horizontal:!1,drag_block_vertical:!1,drag_lock_to_axis:!1,drag_lock_min_distance:25},triggered:!1,handler:function(a,b){if(d.detection.current.name!=this.name&&this.triggered)return b.trigger(this.name+"end",a),void(this.triggered=!1);if(!(b.options.drag_max_touches>0&&a.touches.length>b.options.drag_max_touches))switch(a.eventType){case d.EVENT_START:this.triggered=!1;break;case d.EVENT_MOVE:if(a.distance<b.options.drag_min_distance&&d.detection.current.name!=this.name)return;if(d.detection.current.name!=this.name&&(d.detection.current.name=this.name,b.options.correct_for_drag_min_distance&&a.distance>0)){var c=Math.abs(b.options.drag_min_distance/a.distance);d.detection.current.startEvent.center.pageX+=a.deltaX*c,d.detection.current.startEvent.center.pageY+=a.deltaY*c,a=d.detection.extendEventData(a)}(d.detection.current.lastEvent.drag_locked_to_axis||b.options.drag_lock_to_axis&&b.options.drag_lock_min_distance<=a.distance)&&(a.drag_locked_to_axis=!0);var e=d.detection.current.lastEvent.direction;a.drag_locked_to_axis&&e!==a.direction&&(a.direction=d.utils.isVertical(e)?a.deltaY<0?d.DIRECTION_UP:d.DIRECTION_DOWN:a.deltaX<0?d.DIRECTION_LEFT:d.DIRECTION_RIGHT),this.triggered||(b.trigger(this.name+"start",a),this.triggered=!0),b.trigger(this.name,a),b.trigger(this.name+a.direction,a),(b.options.drag_block_vertical&&d.utils.isVertical(a.direction)||b.options.drag_block_horizontal&&!d.utils.isVertical(a.direction))&&a.preventDefault();break;case d.EVENT_END:this.triggered&&b.trigger(this.name+"end",a),this.triggered=!1}}},d.gestures.Hold={name:"hold",index:10,defaults:{hold_timeout:500,hold_threshold:1},timer:null,handler:function(a,b){switch(a.eventType){case d.EVENT_START:clearTimeout(this.timer),d.detection.current.name=this.name,this.timer=setTimeout(function(){"hold"==d.detection.current.name&&b.trigger("hold",a)},b.options.hold_timeout);break;case d.EVENT_MOVE:a.distance>b.options.hold_threshold&&clearTimeout(this.timer);break;case d.EVENT_END:clearTimeout(this.timer)}}},d.gestures.Release={name:"release",index:1/0,handler:function(a,b){a.eventType==d.EVENT_END&&b.trigger(this.name,a)}},d.gestures.Swipe={name:"swipe",index:40,defaults:{swipe_min_touches:1,swipe_max_touches:1,swipe_velocity:.7},handler:function(a,b){if(a.eventType==d.EVENT_END){if(b.options.swipe_max_touches>0&&a.touches.length<b.options.swipe_min_touches&&a.touches.length>b.options.swipe_max_touches)return;(a.velocityX>b.options.swipe_velocity||a.velocityY>b.options.swipe_velocity)&&(b.trigger(this.name,a),b.trigger(this.name+a.direction,a))}}},d.gestures.Tap={name:"tap",index:100,defaults:{tap_max_touchtime:250,tap_max_distance:10,tap_always:!0,doubletap_distance:20,doubletap_interval:300},handler:function(a,b){if(a.eventType==d.EVENT_END&&"touchcancel"!=a.srcEvent.type){var c=d.detection.previous,e=!1;if(a.deltaTime>b.options.tap_max_touchtime||a.distance>b.options.tap_max_distance)return;c&&"tap"==c.name&&a.timeStamp-c.lastEvent.timeStamp<b.options.doubletap_interval&&a.distance<b.options.doubletap_distance&&(b.trigger("doubletap",a),e=!0),(!e||b.options.tap_always)&&(d.detection.current.name="tap",b.trigger(d.detection.current.name,a))}}},d.gestures.Touch={name:"touch",index:-1/0,defaults:{prevent_default:!1,prevent_mouseevents:!1},handler:function(a,b){return b.options.prevent_mouseevents&&a.pointerType==d.POINTER_MOUSE?void a.stopDetect():(b.options.prevent_default&&a.preventDefault(),void(a.eventType==d.EVENT_START&&b.trigger(this.name,a)))}},d.gestures.Transform={name:"transform",index:45,defaults:{transform_min_scale:.01,transform_min_rotation:1,transform_always_block:!1},triggered:!1,handler:function(a,b){if(d.detection.current.name!=this.name&&this.triggered)return b.trigger(this.name+"end",a),void(this.triggered=!1);if(!(a.touches.length<2))switch(b.options.transform_always_block&&a.preventDefault(),a.eventType){case d.EVENT_START:this.triggered=!1;break;case d.EVENT_MOVE:var c=Math.abs(1-a.scale),e=Math.abs(a.rotation);if(c<b.options.transform_min_scale&&e<b.options.transform_min_rotation)return;d.detection.current.name=this.name,this.triggered||(b.trigger(this.name+"start",a),this.triggered=!0),b.trigger(this.name,a),e>b.options.transform_min_rotation&&b.trigger("rotate",a),c>b.options.transform_min_scale&&(b.trigger("pinch",a),b.trigger("pinch"+(a.scale<1?"in":"out"),a));break;case d.EVENT_END:this.triggered&&b.trigger(this.name+"end",a),this.triggered=!1}}},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return d}):"object"==typeof module&&"object"==typeof module.exports?module.exports=d:a.Hammer=d}(this),function(a,b){"use strict";function c(a,c){a.event.bindDom=function(a,d,e){c(a).on(d,function(a){var c=a.originalEvent||a;c.pageX===b&&(c.pageX=a.pageX,c.pageY=a.pageY),c.target||(c.target=a.target),c.which===b&&(c.which=c.button),c.preventDefault||(c.preventDefault=a.preventDefault),c.stopPropagation||(c.stopPropagation=a.stopPropagation),e.call(this,c)})},a.Instance.prototype.on=function(a,b){return c(this.element).on(a,b)},a.Instance.prototype.off=function(a,b){return c(this.element).off(a,b)},a.Instance.prototype.trigger=function(a,b){var d=c(this.element);return d.has(b.target).length&&(d=c(b.target)),d.trigger({type:a,gesture:b})},c.fn.hammer=function(b){return this.each(function(){var d=c(this),e=d.data("hammer");e?e&&b&&a.utils.extend(e.options,b):d.data("hammer",new a(this,b||{}))})}}"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(["hammerjs","jquery"],c):c(a.Hammer,a.jQuery||a.Zepto)}(this);jQuery.easing['jswing']=jQuery.easing['swing'];jQuery.extend(jQuery.easing,{def:'easeOutQuad',swing:function(x,t,b,c,d){return jQuery.easing[jQuery.easing.def](x,t,b,c,d);},easeInQuad:function(x,t,b,c,d){return c*(t/=d)*t+b;},easeOutQuad:function(x,t,b,c,d){return-c*(t/=d)*(t-2)+b;},easeInOutQuad:function(x,t,b,c,d){if((t/=d/2)<1)return c/2*t*t+b;return-c/2*((--t)*(t-2)-1)+b;},easeInCubic:function(x,t,b,c,d){return c*(t/=d)*t*t+b;},easeOutCubic:function(x,t,b,c,d){return c*((t=t/d-1)*t*t+1)+b;},easeInOutCubic:function(x,t,b,c,d){if((t/=d/2)<1)return c/2*t*t*t+b;return c/2*((t-=2)*t*t+2)+b;},easeInQuart:function(x,t,b,c,d){return c*(t/=d)*t*t*t+b;},easeOutQuart:function(x,t,b,c,d){return-c*((t=t/d-1)*t*t*t-1)+b;},easeInOutQuart:function(x,t,b,c,d){if((t/=d/2)<1)return c/2*t*t*t*t+b;return-c/2*((t-=2)*t*t*t-2)+b;},easeInQuint:function(x,t,b,c,d){return c*(t/=d)*t*t*t*t+b;},easeOutQuint:function(x,t,b,c,d){return c*((t=t/d-1)*t*t*t*t+1)+b;},easeInOutQuint:function(x,t,b,c,d){if((t/=d/2)<1)return c/2*t*t*t*t*t+b;return c/2*((t-=2)*t*t*t*t+2)+b;},easeInSine:function(x,t,b,c,d){return-c*Math.cos(t/d*(Math.PI/2))+c+b;},easeOutSine:function(x,t,b,c,d){return c*Math.sin(t/d*(Math.PI/2))+b;},easeInOutSine:function(x,t,b,c,d){return-c/2*(Math.cos(Math.PI*t/d)-1)+b;},easeInExpo:function(x,t,b,c,d){return(t==0)?b:c*Math.pow(2,10*(t/d-1))+b;},easeOutExpo:function(x,t,b,c,d){return(t==d)?b+c:c*(-Math.pow(2,-10*t/d)+1)+b;},easeInOutExpo:function(x,t,b,c,d){if(t==0)return b;if(t==d)return b+c;if((t/=d/2)<1)return c/2*Math.pow(2,10*(t-1))+b;return c/2*(-Math.pow(2,-10*--t)+2)+b;},easeInCirc:function(x,t,b,c,d){return-c*(Math.sqrt(1-(t/=d)*t)-1)+b;},easeOutCirc:function(x,t,b,c,d){return c*Math.sqrt(1-(t=t/d-1)*t)+b;},easeInOutCirc:function(x,t,b,c,d){if((t/=d/2)<1)return-c/2*(Math.sqrt(1-t*t)-1)+b;return c/2*(Math.sqrt(1-(t-=2)*t)+1)+b;},easeInElastic:function(x,t,b,c,d){var s=1.70158;var p=0;var a=c;if(t==0)return b;if((t/=d)==1)return b+c;if(!p)p=d*.3;if(a<Math.abs(c)){a=c;var s=p/4;}
else var s=p/(2*Math.PI)*Math.asin(c/a);return-(a*Math.pow(2,10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p))+b;},easeOutElastic:function(x,t,b,c,d){var s=1.70158;var p=0;var a=c;if(t==0)return b;if((t/=d)==1)return b+c;if(!p)p=d*.3;if(a<Math.abs(c)){a=c;var s=p/4;}
else var s=p/(2*Math.PI)*Math.asin(c/a);return a*Math.pow(2,-10*t)*Math.sin((t*d-s)*(2*Math.PI)/p)+c+b;},easeInOutElastic:function(x,t,b,c,d){var s=1.70158;var p=0;var a=c;if(t==0)return b;if((t/=d/2)==2)return b+c;if(!p)p=d*(.3*1.5);if(a<Math.abs(c)){a=c;var s=p/4;}
else var s=p/(2*Math.PI)*Math.asin(c/a);if(t<1)return-.5*(a*Math.pow(2,10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p))+b;return a*Math.pow(2,-10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p)*.5+c+b;},easeInBack:function(x,t,b,c,d,s){if(s==undefined)s=1.70158;return c*(t/=d)*t*((s+1)*t-s)+b;},easeOutBack:function(x,t,b,c,d,s){if(s==undefined)s=1.70158;return c*((t=t/d-1)*t*((s+1)*t+s)+1)+b;},easeInOutBack:function(x,t,b,c,d,s){if(s==undefined)s=1.70158;if((t/=d/2)<1)return c/2*(t*t*(((s*=(1.525))+1)*t-s))+b;return c/2*((t-=2)*t*(((s*=(1.525))+1)*t+s)+2)+b;},easeInBounce:function(x,t,b,c,d){return c-jQuery.easing.easeOutBounce(x,d-t,0,c,d)+b;},easeOutBounce:function(x,t,b,c,d){if((t/=d)<(1/2.75)){return c*(7.5625*t*t)+b;}else if(t<(2/2.75)){return c*(7.5625*(t-=(1.5/2.75))*t+.75)+b;}else if(t<(2.5/2.75)){return c*(7.5625*(t-=(2.25/2.75))*t+.9375)+b;}else{return c*(7.5625*(t-=(2.625/2.75))*t+.984375)+b;}},easeInOutBounce:function(x,t,b,c,d){if(t<d/2)return jQuery.easing.easeInBounce(x,t*2,0,c,d)*.5+b;return jQuery.easing.easeOutBounce(x,t*2-d,0,c,d)*.5+c*.5+b;}});!function(a,b,c,d){var e=a(b);a.fn.lazyload=function(f){function g(){var b=0;i.each(function(){var c=a(this);if(!j.skip_invisible||c.is(":visible"))if(a.abovethetop(this,j)||a.leftofbegin(this,j));else if(a.belowthefold(this,j)||a.rightoffold(this,j)){if(++b>j.failure_limit)return!1}else c.trigger("appear"),b=0})}var h,i=this,j={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:b,data_attribute:"original",skip_invisible:!0,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};return f&&(d!==f.failurelimit&&(f.failure_limit=f.failurelimit,delete f.failurelimit),d!==f.effectspeed&&(f.effect_speed=f.effectspeed,delete f.effectspeed),a.extend(j,f)),h=j.container===d||j.container===b?e:a(j.container),0===j.event.indexOf("scroll")&&h.bind(j.event,function(){return g()}),this.each(function(){var b=this,c=a(b);b.loaded=!1,(c.attr("src")===d||c.attr("src")===!1)&&c.is("img")&&c.attr("src",j.placeholder),c.one("appear",function(){if(!this.loaded){if(j.appear){var d=i.length;j.appear.call(b,d,j)}a("<img />").bind("load",function(){var d=c.attr("data-"+j.data_attribute);c.hide(),c.is("img")?c.attr("src",d):c.css("background-image","url('"+d+"')"),c[j.effect](j.effect_speed),b.loaded=!0;var e=a.grep(i,function(a){return!a.loaded});if(i=a(e),j.load){var f=i.length;j.load.call(b,f,j)}}).attr("src",c.attr("data-"+j.data_attribute))}}),0!==j.event.indexOf("scroll")&&c.bind(j.event,function(){b.loaded||c.trigger("appear")})}),e.bind("resize",function(){g()}),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&e.bind("pageshow",function(b){b.originalEvent&&b.originalEvent.persisted&&i.each(function(){a(this).trigger("appear")})}),a(c).ready(function(){g()}),this},a.belowthefold=function(c,f){var g;return g=f.container===d||f.container===b?(b.innerHeight?b.innerHeight:e.height())+e.scrollTop():a(f.container).offset().top+a(f.container).height(),g<=a(c).offset().top-f.threshold},a.rightoffold=function(c,f){var g;return g=f.container===d||f.container===b?e.width()+e.scrollLeft():a(f.container).offset().left+a(f.container).width(),g<=a(c).offset().left-f.threshold},a.abovethetop=function(c,f){var g;return g=f.container===d||f.container===b?e.scrollTop():a(f.container).offset().top,g>=a(c).offset().top+f.threshold+a(c).height()},a.leftofbegin=function(c,f){var g;return g=f.container===d||f.container===b?e.scrollLeft():a(f.container).offset().left,g>=a(c).offset().left+f.threshold+a(c).width()},a.inviewport=function(b,c){return!(a.rightoffold(b,c)||a.leftofbegin(b,c)||a.belowthefold(b,c)||a.abovethetop(b,c))},a.extend(a.expr[":"],{"below-the-fold":function(b){return a.belowthefold(b,{threshold:0})},"above-the-top":function(b){return!a.belowthefold(b,{threshold:0})},"right-of-screen":function(b){return a.rightoffold(b,{threshold:0})},"left-of-screen":function(b){return!a.rightoffold(b,{threshold:0})},"in-viewport":function(b){return a.inviewport(b,{threshold:0})},"above-the-fold":function(b){return!a.belowthefold(b,{threshold:0})},"right-of-fold":function(b){return a.rightoffold(b,{threshold:0})},"left-of-fold":function(b){return!a.rightoffold(b,{threshold:0})}})}(jQuery,window,document);!function(a,b){var c=b(a,a.document);a.lazySizes=c,"object"==typeof module&&module.exports&&(module.exports=c)}(window,function(a,b){"use strict";if(b.getElementsByClassName){var c,d,e=b.documentElement,f=a.Date,g=a.HTMLPictureElement,h="addEventListener",i="getAttribute",j=a[h],k=a.setTimeout,l=a.requestAnimationFrame||k,m=a.requestIdleCallback,n=/^picture$/i,o=["load","error","lazyincluded","_lazyloaded"],p={},q=Array.prototype.forEach,r=function(a,b){return p[b]||(p[b]=new RegExp("(\\s|^)"+b+"(\\s|$)")),p[b].test(a[i]("class")||"")&&p[b]},s=function(a,b){r(a,b)||a.setAttribute("class",(a[i]("class")||"").trim()+" "+b)},t=function(a,b){var c;(c=r(a,b))&&a.setAttribute("class",(a[i]("class")||"").replace(c," "))},u=function(a,b,c){var d=c?h:"removeEventListener";c&&u(a,b),o.forEach(function(c){a[d](c,b)})},v=function(a,d,e,f,g){var h=b.createEvent("CustomEvent");return e||(e={}),e.instance=c,h.initCustomEvent(d,!f,!g,e),a.dispatchEvent(h),h},w=function(b,c){var e;!g&&(e=a.picturefill||d.pf)?e({reevaluate:!0,elements:[b]}):c&&c.src&&(b.src=c.src)},x=function(a,b){return(getComputedStyle(a,null)||{})[b]},y=function(a,b,c){for(c=c||a.offsetWidth;c<d.minSize&&b&&!a._lazysizesWidth;)c=b.offsetWidth,b=b.parentNode;return c},z=function(){var a,c,d=[],e=[],f=d,g=function(){var b=f;for(f=d.length?e:d,a=!0,c=!1;b.length;)b.shift()();a=!1},h=function(d,e){a&&!e?d.apply(this,arguments):(f.push(d),c||(c=!0,(b.hidden?k:l)(g)))};return h._lsFlush=g,h}(),A=function(a,b){return b?function(){z(a)}:function(){var b=this,c=arguments;z(function(){a.apply(b,c)})}},B=function(a){var b,c=0,d=125,e=666,g=e,h=function(){b=!1,c=f.now(),a()},i=m?function(){m(h,{timeout:g}),g!==e&&(g=e)}:A(function(){k(h)},!0);return function(a){var e;(a=a===!0)&&(g=44),b||(b=!0,e=d-(f.now()-c),0>e&&(e=0),a||9>e&&m?i():k(i,e))}},C=function(a){var b,c,d=99,e=function(){b=null,a()},g=function(){var a=f.now()-c;d>a?k(g,d-a):(m||e)(e)};return function(){c=f.now(),b||(b=k(g,d))}},D=function(){var c,g,l,m,o,p,y,D,F,G,H,I,J,K,L,M=/^img$/i,N=/^iframe$/i,O="onscroll"in a&&!/glebot/.test(navigator.userAgent),P=0,Q=0,R=0,S=-1,T=function(a){R--,a&&a.target&&u(a.target,T),(!a||0>R||!a.target)&&(R=0)},U=function(a,c){var d,f=a,g="hidden"==x(b.body,"visibility")||"hidden"!=x(a,"visibility");for(F-=c,I+=c,G-=c,H+=c;g&&(f=f.offsetParent)&&f!=b.body&&f!=e;)g=(x(f,"opacity")||1)>0,g&&"visible"!=x(f,"overflow")&&(d=f.getBoundingClientRect(),g=H>d.left&&G<d.right&&I>d.top-1&&F<d.bottom+1);return g},V=function(){var a,f,h,j,k,m,n,p,q;if((o=d.loadMode)&&8>R&&(a=c.length)){f=0,S++,null==K&&("expand"in d||(d.expand=e.clientHeight>500&&e.clientWidth>500?500:370),J=d.expand,K=J*d.expFactor),K>Q&&1>R&&S>2&&o>2&&!b.hidden?(Q=K,S=0):Q=o>1&&S>1&&6>R?J:P;for(;a>f;f++)if(c[f]&&!c[f]._lazyRace)if(O)if((p=c[f][i]("data-expand"))&&(m=1*p)||(m=Q),q!==m&&(y=innerWidth+m*L,D=innerHeight+m,n=-1*m,q=m),h=c[f].getBoundingClientRect(),(I=h.bottom)>=n&&(F=h.top)<=D&&(H=h.right)>=n*L&&(G=h.left)<=y&&(I||H||G||F)&&(d.loadHidden||"hidden"!=x(c[f],"visibility"))&&(l&&3>R&&!p&&(3>o||4>S)||U(c[f],m))){if(ba(c[f]),k=!0,R>9)break}else!k&&l&&!j&&4>R&&4>S&&o>2&&(g[0]||d.preloadAfterLoad)&&(g[0]||!p&&(I||H||G||F||"auto"!=c[f][i](d.sizesAttr)))&&(j=g[0]||c[f]);else ba(c[f]);j&&!k&&ba(j)}},W=B(V),X=function(a){s(a.target,d.loadedClass),t(a.target,d.loadingClass),u(a.target,Z)},Y=A(X),Z=function(a){Y({target:a.target})},$=function(a,b){try{a.contentWindow.location.replace(b)}catch(c){a.src=b}},_=function(a){var b,c=a[i](d.srcsetAttr);(b=d.customMedia[a[i]("data-media")||a[i]("media")])&&a.setAttribute("media",b),c&&a.setAttribute("srcset",c)},aa=A(function(a,b,c,e,f){var g,h,j,l,o,p;(o=v(a,"lazybeforeunveil",b)).defaultPrevented||(e&&(c?s(a,d.autosizesClass):a.setAttribute("sizes",e)),h=a[i](d.srcsetAttr),g=a[i](d.srcAttr),f&&(j=a.parentNode,l=j&&n.test(j.nodeName||"")),p=b.firesLoad||"src"in a&&(h||g||l),o={target:a},p&&(u(a,T,!0),clearTimeout(m),m=k(T,2500),s(a,d.loadingClass),u(a,Z,!0)),l&&q.call(j.getElementsByTagName("source"),_),h?a.setAttribute("srcset",h):g&&!l&&(N.test(a.nodeName)?$(a,g):a.src=g),f&&(h||l)&&w(a,{src:g})),a._lazyRace&&delete a._lazyRace,t(a,d.lazyClass),z(function(){(!p||a.complete&&a.naturalWidth>1)&&(p?T(o):R--,X(o))},!0)}),ba=function(a){var b,c=M.test(a.nodeName),e=c&&(a[i](d.sizesAttr)||a[i]("sizes")),f="auto"==e;(!f&&l||!c||!a.src&&!a.srcset||a.complete||r(a,d.errorClass))&&(b=v(a,"lazyunveilread").detail,f&&E.updateElem(a,!0,a.offsetWidth),a._lazyRace=!0,R++,aa(a,b,f,e,c))},ca=function(){if(!l){if(f.now()-p<999)return void k(ca,999);var a=C(function(){d.loadMode=3,W()});l=!0,d.loadMode=3,W(),j("scroll",function(){3==d.loadMode&&(d.loadMode=2),a()},!0)}};return{_:function(){p=f.now(),c=b.getElementsByClassName(d.lazyClass),g=b.getElementsByClassName(d.lazyClass+" "+d.preloadClass),L=d.hFac,j("scroll",W,!0),j("resize",W,!0),a.MutationObserver?new MutationObserver(W).observe(e,{childList:!0,subtree:!0,attributes:!0}):(e[h]("DOMNodeInserted",W,!0),e[h]("DOMAttrModified",W,!0),setInterval(W,999)),j("hashchange",W,!0),["focus","mouseover","click","load","transitionend","animationend","webkitAnimationEnd"].forEach(function(a){b[h](a,W,!0)}),/d$|^c/.test(b.readyState)?ca():(j("load",ca),b[h]("DOMContentLoaded",W),k(ca,2e4)),c.length?(V(),z._lsFlush()):W()},checkElems:W,unveil:ba}}(),E=function(){var a,c=A(function(a,b,c,d){var e,f,g;if(a._lazysizesWidth=d,d+="px",a.setAttribute("sizes",d),n.test(b.nodeName||""))for(e=b.getElementsByTagName("source"),f=0,g=e.length;g>f;f++)e[f].setAttribute("sizes",d);c.detail.dataAttr||w(a,c.detail)}),e=function(a,b,d){var e,f=a.parentNode;f&&(d=y(a,f,d),e=v(a,"lazybeforesizes",{width:d,dataAttr:!!b}),e.defaultPrevented||(d=e.detail.width,d&&d!==a._lazysizesWidth&&c(a,f,e,d)))},f=function(){var b,c=a.length;if(c)for(b=0;c>b;b++)e(a[b])},g=C(f);return{_:function(){a=b.getElementsByClassName(d.autosizesClass),j("resize",g)},checkElems:g,updateElem:e}}(),F=function(){F.i||(F.i=!0,E._(),D._())};return function(){var b,c={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0};d=a.lazySizesConfig||a.lazysizesConfig||{};for(b in c)b in d||(d[b]=c[b]);a.lazySizesConfig=d,k(function(){d.init&&F()})}(),c={cfg:d,autoSizer:E,loader:D,init:F,uP:w,aC:s,rC:t,hC:r,fire:v,gW:y,rAF:z}}});(function(window,factory){var globalInstall=function(){factory(window.lazySizes);window.removeEventListener('lazyunveilread',globalInstall,true);};factory=factory.bind(null,window,window.document);if(typeof module=='object'&&module.exports){factory(require('lazysizes'));}else if(window.lazySizes){globalInstall();}else{window.addEventListener('lazyunveilread',globalInstall,true);}}(window,function(window,document,lazySizes){'use strict';var bgLoad,regBgUrlEscape;var uniqueUrls={};if(document.addEventListener){regBgUrlEscape=/\(|\)|\s|'/;bgLoad=function(url,cb){var img=document.createElement('img');img.onload=function(){img.onload=null;img.onerror=null;img=null;cb();};img.onerror=img.onload;img.src=url;if(img&&img.complete&&img.onload){img.onload();}};addEventListener('lazybeforeunveil',function(e){if(e.detail.instance!=lazySizes){return;}
var tmp,load,bg,poster;if(!e.defaultPrevented){if(e.target.preload=='none'){e.target.preload='auto';}
tmp=e.target.getAttribute('data-link');if(tmp){addStyleScript(tmp,true);} 
tmp=e.target.getAttribute('data-script');if(tmp){addStyleScript(tmp);} 
tmp=e.target.getAttribute('data-require');if(tmp){if(lazySizes.cfg.requireJs){lazySizes.cfg.requireJs([tmp]);}else{addStyleScript(tmp);}} 
bg=e.target.getAttribute('data-bg');if(bg){e.detail.firesLoad=true;load=function(){e.target.style.backgroundImage='url('+(regBgUrlEscape.test(bg)?JSON.stringify(bg):bg)+')';e.detail.firesLoad=false;lazySizes.fire(e.target,'_lazyloaded',{},true,true);};bgLoad(bg,load);} 
poster=e.target.getAttribute('data-poster');if(poster){e.detail.firesLoad=true;load=function(){e.target.poster=poster;e.detail.firesLoad=false;lazySizes.fire(e.target,'_lazyloaded',{},true,true);};bgLoad(poster,load);}}},false);}
function addStyleScript(src,style){if(uniqueUrls[src]){return;}
var elem=document.createElement(style?'link':'script');var insertElem=document.getElementsByTagName('script')[0];if(style){elem.rel='stylesheet';elem.href=src;}else{elem.src=src;}
uniqueUrls[src]=true;uniqueUrls[elem.src||elem.href]=true;insertElem.parentNode.insertBefore(elem,insertElem);}}));!function(a,b){var c=function(){b(a.lazySizes),a.removeEventListener("lazyunveilread",c,!0)};b=b.bind(null,a,a.document),"object"==typeof module&&module.exports?b(require("lazysizes")):a.lazySizes?c():a.addEventListener("lazyunveilread",c,!0)}(window,function(a,b,c){"use strict";if(a.addEventListener){var d=/\s+/g,e=/\s*\|\s+|\s+\|\s*/g,f=/^(.+?)(?:\s+\[\s*(.+?)\s*\])?$/,g=/\(|\)|'/,h={contain:1,cover:1},i=function(a){var b=c.gW(a,a.parentNode);return(!a._lazysizesWidth||b>a._lazysizesWidth)&&(a._lazysizesWidth=b),a._lazysizesWidth},j=function(a){var b;return b=(getComputedStyle(a)||{getPropertyValue:function(){}}).getPropertyValue("background-size"),!h[b]&&h[a.style.backgroundSize]&&(b=a.style.backgroundSize),b},k=function(a,c,g){var h=b.createElement("picture"),i=c.getAttribute(lazySizesConfig.sizesAttr),j=c.getAttribute("data-ratio"),k=c.getAttribute("data-optimumx");c._lazybgset&&c._lazybgset.parentNode==c&&c.removeChild(c._lazybgset),Object.defineProperty(g,"_lazybgset",{value:c,writable:!0}),Object.defineProperty(c,"_lazybgset",{value:h,writable:!0}),a=a.replace(d," ").split(e),h.style.display="none",g.className=lazySizesConfig.lazyClass,1!=a.length||i||(i="auto"),a.forEach(function(a){var c=b.createElement("source");i&&"auto"!=i&&c.setAttribute("sizes",i),a.match(f)&&(c.setAttribute(lazySizesConfig.srcsetAttr,RegExp.$1),RegExp.$2&&c.setAttribute("media",lazySizesConfig.customMedia[RegExp.$2]||RegExp.$2)),h.appendChild(c)}),i&&(g.setAttribute(lazySizesConfig.sizesAttr,i),c.removeAttribute(lazySizesConfig.sizesAttr),c.removeAttribute("sizes")),k&&g.setAttribute("data-optimumx",k),j&&g.setAttribute("data-ratio",j),h.appendChild(g),c.appendChild(h)},l=function(a){if(a.target._lazybgset){var b=a.target,d=b._lazybgset,e=b.currentSrc||b.src;e&&(d.style.backgroundImage="url("+(g.test(e)?JSON.stringify(e):e)+")"),b._lazybgsetLoading&&(c.fire(d,"_lazyloaded",{},!1,!0),delete b._lazybgsetLoading)}};addEventListener("lazybeforeunveil",function(a){var d,e,f;!a.defaultPrevented&&(d=a.target.getAttribute("data-bgset"))&&(f=a.target,e=b.createElement("img"),e.alt="",e._lazybgsetLoading=!0,a.detail.firesLoad=!0,k(d,f,e),setTimeout(function(){c.loader.unveil(e),c.rAF(function(){c.fire(e,"_lazyloaded",{},!0,!0),e.complete&&l({target:e})})}))}),b.addEventListener("load",l,!0),a.addEventListener("lazybeforesizes",function(a){if(a.detail.instance==c&&a.target._lazybgset&&a.detail.dataAttr){var b=a.target._lazybgset,d=j(b);h[d]&&(a.target._lazysizesParentFit=d,c.rAF(function(){a.target.setAttribute("data-parent-fit",d),a.target._lazysizesParentFit&&delete a.target._lazysizesParentFit}))}},!0),b.documentElement.addEventListener("lazybeforesizes",function(a){!a.defaultPrevented&&a.target._lazybgset&&a.detail.instance==c&&(a.detail.width=i(a.target._lazybgset))})}});$(document).on('lazybeforeunveil',function(e){var $target=$(e.target); if($target.data('hide-lq-after-load'))
{$target.parent().addClass('hq-loaded');}
$target.on('load',function(ev){$(this).parent().addClass('parent-lazyloaded');});});!function(a,b){var c=function(){b(a.lazySizes),a.removeEventListener("lazyunveilread",c,!0)};b=b.bind(null,a,a.document),"object"==typeof module&&module.exports?b(require("lazysizes"),require("../fix-ios-sizes/fix-ios-sizes")):a.lazySizes?c():a.addEventListener("lazyunveilread",c,!0)}(window,function(a,b,c){"use strict";var d,e=c&&c.cfg||a.lazySizesConfig,f=b.createElement("img"),g="sizes"in f&&"srcset"in f,h=/\s+\d+h/g,i=function(){var a=/\s+(\d+)(w|h)\s+(\d+)(w|h)/,c=Array.prototype.forEach;return function(d){var e=b.createElement("img"),f=function(b){var c,d=b.getAttribute(lazySizesConfig.srcsetAttr);d&&(d.match(a)&&(c="w"==RegExp.$2?RegExp.$1/RegExp.$3:RegExp.$3/RegExp.$1,c&&b.setAttribute("data-aspectratio",c)),b.setAttribute(lazySizesConfig.srcsetAttr,d.replace(h,"")))},g=function(a){var b=a.target.parentNode;b&&"PICTURE"==b.nodeName&&c.call(b.getElementsByTagName("source"),f),f(a.target)},i=function(){e.currentSrc&&b.removeEventListener("lazybeforeunveil",g)};d[1]&&(b.addEventListener("lazybeforeunveil",g),e.onload=i,e.onerror=i,e.srcset="data:,a 1w 1h",e.complete&&i())}}();if(e||(e={},a.lazySizesConfig=e),e.supportsType||(e.supportsType=function(a){return!a}),!a.picturefill&&!e.pf){if(a.HTMLPictureElement&&g)return b.msElementsFromPoint&&i(navigator.userAgent.match(/Edge\/(\d+)/)),void(e.pf=function(){});e.pf=function(b){var c,e;if(!a.picturefill)for(c=0,e=b.elements.length;e>c;c++)d(b.elements[c])},d=function(){var f=function(a,b){return a.w-b.w},i=/^\s*\d+\.*\d*px\s*$/,j=function(a){var b,c,d=a.length,e=a[d-1],f=0;for(f;d>f;f++)if(e=a[f],e.d=e.w/a.w,e.d>=a.d){!e.cached&&(b=a[f-1])&&b.d>a.d-.13*Math.pow(a.d,2.2)&&(c=Math.pow(b.d-.6,1.6),b.cached&&(b.d+=.15*c),b.d+(e.d-a.d)*c>a.d&&(e=b));break}return e},k=function(){var a,b=/(([^,\s].[^\s]+)\s+(\d+)w)/g,c=/\s/,d=function(b,c,d,e){a.push({c:c,u:d,w:1*e})};return function(e){return a=[],e=e.trim(),e.replace(h,"").replace(b,d),a.length||!e||c.test(e)||a.push({c:e,u:e,w:99}),a}}(),l=function(){l.init||(l.init=!0,addEventListener("resize",function(){var a,c=b.getElementsByClassName("lazymatchmedia"),e=function(){var a,b;for(a=0,b=c.length;b>a;a++)d(c[a])};return function(){clearTimeout(a),a=setTimeout(e,66)}}()))},m=function(b,d){var f,g=b.getAttribute("srcset")||b.getAttribute(e.srcsetAttr);!g&&d&&(g=b._lazypolyfill?b._lazypolyfill._set:b.getAttribute(e.srcAttr)||b.getAttribute("src")),b._lazypolyfill&&b._lazypolyfill._set==g||(f=k(g||""),d&&b.parentNode&&(f.isPicture="PICTURE"==b.parentNode.nodeName.toUpperCase(),f.isPicture&&a.matchMedia&&(c.aC(b,"lazymatchmedia"),l())),f._set=g,Object.defineProperty(b,"_lazypolyfill",{value:f,writable:!0}))},n=function(b){var d=a.devicePixelRatio||1,e=c.getX&&c.getX(b);return Math.min(e||d,2.5,d)},o=function(b){return a.matchMedia?(o=function(a){return!a||(matchMedia(a)||{}).matches})(b):!b},p=function(a){var b,d,g,h,k,l,p;if(h=a,m(h,!0),k=h._lazypolyfill,k.isPicture)for(d=0,b=a.parentNode.getElementsByTagName("source"),g=b.length;g>d;d++)if(e.supportsType(b[d].getAttribute("type"),a)&&o(b[d].getAttribute("media"))){h=b[d],m(h),k=h._lazypolyfill;break}return k.length>1?(p=h.getAttribute("sizes")||"",p=i.test(p)&&parseInt(p,10)||c.gW(a,a.parentNode),k.d=n(a),!k.src||!k.w||k.w<p?(k.w=p,l=j(k.sort(f)),k.src=l):l=k.src):l=k[0],l},q=function(a){if(!g||!a.parentNode||"PICTURE"==a.parentNode.nodeName.toUpperCase()){var b=p(a);b&&b.u&&a._lazypolyfill.cur!=b.u&&(a._lazypolyfill.cur=b.u,b.cached=!0,a.setAttribute(e.srcAttr,b.u),a.setAttribute("src",b.u))}};return q.parse=k,q}(),e.loadedClass&&e.loadingClass&&!function(){var a=[];['img[sizes$="px"][srcset].',"picture > img:not([srcset])."].forEach(function(b){a.push(b+e.loadedClass),a.push(b+e.loadingClass)}),e.pf({elements:b.querySelectorAll(a.join(", "))})}()}});SHOPIFY_API_BASE_URL='http://www.grovemade.com/';if((typeof Shopify)==='undefined'){Shopify={};}
Shopify.money_format='$ {{amount}}';Shopify.onError=function(XMLHttpRequest,textStatus){var data=eval('('+XMLHttpRequest.responseText+')');if(!!data.message){alert(data.message+'('+data.status+'): '+data.description);}else{alert('Error : '+Shopify.fullMessagesFromErrors(data).join('; ')+'.');}};Shopify.fullMessagesFromErrors=function(errors){var fullMessages=[];jQuery.each(errors,function(attribute,messages){jQuery.each(messages,function(index,message){fullMessages.push(attribute+' '+message);});});return fullMessages}
Shopify.onCartUpdate=function(cart){alert('There are now '+cart.item_count+' items in the cart.');};Shopify.onCartShippingRatesUpdate=function(rates,shipping_address){var readable_address='';if(shipping_address.zip)readable_address+=shipping_address.zip+', ';if(shipping_address.province)readable_address+=shipping_address.province+', ';readable_address+=shipping_address.country
alert('There are '+rates.length+' shipping rates available for '+readable_address+', starting at '+Shopify.formatMoney(rates[0].price)+'.');};Shopify.onItemAdded=function(line_item){alert(line_item.title+' was added to your shopping cart.');};Shopify.onProduct=function(product){alert('Received everything we ever wanted to know about '+product.title);};Shopify.formatMoney=function(cents,format){if(typeof cents=='string')cents=cents.replace('.','');var value='';var patt=/\{\{\s*(\w+)\s*\}\}/;var formatString=(format||this.money_format);function addCommas(moneyString){return moneyString.replace(/(\d+)(\d{3}[\.,]?)/,'$1,$2');}
switch(formatString.match(patt)[1]){case'amount':value=addCommas(floatToString(cents/100.0,2));break;case'amount_no_decimals':value=addCommas(floatToString(cents/100.0,0));break;case'amount_with_comma_separator':value=floatToString(cents/100.0,2).replace(/\./,',');break;case'amount_no_decimals_with_comma_separator':value=addCommas(floatToString(cents/100.0,0)).replace(/\./,',');break;}
return formatString.replace(patt,value);};Shopify.resizeImage=function(image,size){try{if(size=='original'){return image;}
else{var matches=image.match(/(.*\/[\w\-\_\.]+)\.(\w{2,4})/);return matches[1]+'_'+size+'.'+matches[2];}}catch(e){return image;}};Shopify.addItem=function(variant_id,quantity,callback){var quantity=quantity||1;var params={type:'POST',url:SHOPIFY_API_BASE_URL+'cart/add.js',data:'quantity='+quantity+'&id='+variant_id,dataType:'json',success:function(line_item){if((typeof callback)==='function'){callback(line_item);}
else{Shopify.onItemAdded(line_item);}},error:function(XMLHttpRequest,textStatus){Shopify.onError(XMLHttpRequest,textStatus);}};jQuery.ajax(params);};Shopify.addItemFromForm=function(form_id,callback){var params={type:'POST',url:SHOPIFY_API_BASE_URL+'cart/add.js',data:jQuery('#'+form_id).serialize(),dataType:'json',success:function(line_item){if((typeof callback)==='function'){callback(line_item);}
else{Shopify.onItemAdded(line_item);}},error:function(XMLHttpRequest,textStatus){Shopify.onError(XMLHttpRequest,textStatus);}};jQuery.ajax(params);};Shopify.getCart=function(callback){jQuery.getJSON('/cart.js',function(cart,textStatus){if((typeof callback)==='function'){callback(cart);}
else{Shopify.onCartUpdate(cart);}});};Shopify.getCartShippingRatesForDestination=function(shipping_address,callback){var params={type:'GET',url:SHOPIFY_API_BASE_URL+'cart/shipping_rates.json',data:Shopify.param({'shipping_address':shipping_address}),dataType:'json',success:function(response){rates=response.shipping_rates
if((typeof callback)==='function'){callback(rates,shipping_address);}
else{Shopify.onCartShippingRatesUpdate(rates,shipping_address);}},error:function(XMLHttpRequest,textStatus){Shopify.onError(XMLHttpRequest,textStatus);}}
jQuery.ajax(params);};Shopify.getProduct=function(handle,callback){jQuery.getJSON('/products/'+handle+'.js',function(product,textStatus){if((typeof callback)==='function'){callback(product);}
else{Shopify.onProduct(product);}});};Shopify.changeItem=function(variant_id,quantity,callback){var params={type:'POST',url:SHOPIFY_API_BASE_URL+'cart/change.js',data:'quantity='+quantity+'&id='+variant_id,dataType:'json',success:function(cart){if((typeof callback)==='function'){callback(cart);}
else{Shopify.onCartUpdate(cart);}},error:function(XMLHttpRequest,textStatus){Shopify.onError(XMLHttpRequest,textStatus);}};jQuery.ajax(params);};Shopify.removeItem=function(variant_id,callback){var params={type:'POST',url:SHOPIFY_API_BASE_URL+'cart/change.js',data:'quantity=0&id='+variant_id,dataType:'json',success:function(cart){if((typeof callback)==='function'){callback(cart);}
else{Shopify.onCartUpdate(cart);}},error:function(XMLHttpRequest,textStatus){Shopify.onError(XMLHttpRequest,textStatus);}};jQuery.ajax(params);};
Shopify.clear=function(callback){var params={type:'POST',url:SHOPIFY_API_BASE_URL+'cart/clear.js',data:'',dataType:'json',success:function(cart){if((typeof callback)==='function'){callback(cart);}
else{Shopify.onCartUpdate(cart);}},error:function(XMLHttpRequest,textStatus){Shopify.onError(XMLHttpRequest,textStatus);}};jQuery.ajax(params);};Shopify.updateCartFromForm=function(form_id,callback){var params={type:'POST',url:SHOPIFY_API_BASE_URL+'cart/update.js',data:jQuery('#'+form_id).serialize(),dataType:'json',success:function(cart){if((typeof callback)==='function'){callback(cart);}
else{Shopify.onCartUpdate(cart);}},error:function(XMLHttpRequest,textStatus){Shopify.onError(XMLHttpRequest,textStatus);}};jQuery.ajax(params);};Shopify.updateCartAttributes=function(attributes,callback){var data='';if(jQuery.isArray(attributes)){jQuery.each(attributes,function(indexInArray,valueOfElement){var key=attributeToString(valueOfElement.key);if(key!==''){data+='attributes['+key+']='+attributeToString(valueOfElement.value)+'&';}});}
else if((typeof attributes==='object')&&attributes!==null){jQuery.each(attributes,function(key,value){data+='attributes['+attributeToString(key)+']='+attributeToString(value)+'&';});}
var params={type:'POST',url:SHOPIFY_API_BASE_URL+'cart/update.js',data:data,dataType:'json',success:function(cart){if((typeof callback)==='function'){callback(cart);}
else{Shopify.onCartUpdate(cart);}},error:function(XMLHttpRequest,textStatus){Shopify.onError(XMLHttpRequest,textStatus);}};jQuery.ajax(params);};Shopify.updateCartNote=function(note,callback){var params={type:'POST',url:SHOPIFY_API_BASE_URL+'cart/update.js',data:'note='+attributeToString(note),dataType:'json',success:function(cart){if((typeof callback)==='function'){callback(cart);}
else{Shopify.onCartUpdate(cart);}},error:function(XMLHttpRequest,textStatus){Shopify.onError(XMLHttpRequest,textStatus);}};jQuery.ajax(params);};if(jQuery.fn.jquery>='1.4'){Shopify.param=jQuery.param;}else{Shopify.param=function(a){var s=[],add=function(key,value){ value=jQuery.isFunction(value)?value():value;s[s.length]=encodeURIComponent(key)+"="+encodeURIComponent(value);};if(jQuery.isArray(a)||a.jquery){ jQuery.each(a,function(){add(this.name,this.value);});}else{for(var prefix in a){Shopify.buildParams(prefix,a[prefix],add);}} 
return s.join("&").replace(/%20/g,"+");}
Shopify.buildParams=function(prefix,obj,add){if(jQuery.isArray(obj)&&obj.length){jQuery.each(obj,function(i,v){if(rbracket.test(prefix)){add(prefix,v);}else{Shopify.buildParams(prefix+"["+(typeof v==="object"||jQuery.isArray(v)?i:"")+"]",v,add);}});}else if(obj!=null&&typeof obj==="object"){if(Shopify.isEmptyObject(obj)){add(prefix,"");}else{jQuery.each(obj,function(k,v){Shopify.buildParams(prefix+"["+k+"]",v,add);});}}else{add(prefix,obj);}}
Shopify.isEmptyObject=function(obj){for(var name in obj){return false;}
return true;}}
function floatToString(numeric,decimals){var amount=numeric.toFixed(decimals).toString();if(amount.match(/^\.\d+/)){return"0"+amount;}
else{return amount;}}
function attributeToString(attribute){if((typeof attribute)!=='string'){attribute+='';if(attribute==='undefined'){attribute='';}}
return jQuery.trim(attribute);}


(function($){






function fnPjax(selector,container,options){var context=this
return this.on('click.pjax',selector,function(event){var opts=$.extend({},optionsFor(container,options))
if(!opts.container)
opts.container=$(this).attr('data-pjax')||context
handleClick(event,opts)})}





function handleClick(event,container,options){options=optionsFor(container,options)
var link=event.currentTarget
if(link.tagName.toUpperCase()!=='A')
throw"$.fn.pjax or $.pjax.click requires an anchor element"

if(event.which>1||event.metaKey||event.ctrlKey||event.shiftKey||event.altKey)
return
 
if(location.protocol!==link.protocol||location.hostname!==link.hostname)
return
 
if(link.hash&&link.href.replace(link.hash,'')===location.href.replace(location.hash,''))
return

if(link.href===location.href+'#')
return
var defaults={url:link.href,container:$(link).attr('data-pjax'),target:link}
var opts=$.extend({},defaults,options)
var clickEvent=$.Event('pjax:click')
$(link).trigger(clickEvent,[opts])
if(!clickEvent.isDefaultPrevented()){pjax(opts)
event.preventDefault()}}





function handleSubmit(event,container,options){options=optionsFor(container,options)
var form=event.currentTarget
if(form.tagName.toUpperCase()!=='FORM')
throw"$.pjax.submit requires a form element"
var defaults={type:form.method.toUpperCase(),url:form.action,data:$(form).serializeArray(),container:$(form).attr('data-pjax'),target:form}
pjax($.extend({},defaults,options))
event.preventDefault()}

function pjax(options){options=$.extend(true,{},$.ajaxSettings,pjax.defaults,options)
if($.isFunction(options.url)){options.url=options.url()}
var target=options.target
var hash=parseURL(options.url).hash
var context=options.context=findContainerFor(options.container)


if(!options.data)options.data={}
options.data._pjax=context.selector
function fire(type,args){var event=$.Event(type,{relatedTarget:target})
context.trigger(event,args)
return!event.isDefaultPrevented()}
var timeoutTimer
options.beforeSend=function(xhr,settings){
if(settings.type!=='GET'){settings.timeout=0}
xhr.setRequestHeader('X-PJAX','true')
xhr.setRequestHeader('X-PJAX-Container',context.selector)
if(!fire('pjax:beforeSend',[xhr,settings]))
return false
if(settings.timeout>0){timeoutTimer=setTimeout(function(){if(fire('pjax:timeout',[xhr,options]))
xhr.abort('timeout')},settings.timeout) 
settings.timeout=0}
options.requestUrl=parseURL(settings.url).href}
options.complete=function(xhr,textStatus){if(timeoutTimer)
clearTimeout(timeoutTimer)
fire('pjax:complete',[xhr,textStatus,options])
fire('pjax:end',[xhr,options])}
options.error=function(xhr,textStatus,errorThrown){var container=extractContainer("",xhr,options)
var allowed=fire('pjax:error',[xhr,textStatus,errorThrown,options])
if(options.type=='GET'&&textStatus!=='abort'&&allowed){locationReplace(container.url)}}
options.success=function(data,status,xhr){var currentVersion=(typeof $.pjax.defaults.version==='function')?$.pjax.defaults.version():$.pjax.defaults.version
var latestVersion=xhr.getResponseHeader('X-PJAX-Version')
var container=extractContainer(data,xhr,options) 
if(currentVersion&&latestVersion&&currentVersion!==latestVersion){locationReplace(container.url)
return} 
if(!container.contents){locationReplace(container.url)
return}
pjax.state={id:options.id||uniqueId(),url:container.url,title:container.title,container:context.selector,fragment:options.fragment,timeout:options.timeout}
if(options.push||options.replace){window.history.replaceState(pjax.state,container.title,container.url)}
document.activeElement.blur()
if(container.title)document.title=container.title
context.html(container.contents)
 
var autofocusEl=context.find('input[autofocus], textarea[autofocus]').last()[0]
if(autofocusEl&&document.activeElement!==autofocusEl){autofocusEl.focus();}
executeScriptTags(container.scripts) 
if(typeof options.scrollTo==='number')
$(window).scrollTop(options.scrollTo)

if(hash!==''){

 var url=parseURL(container.url)
url.hash=hash
pjax.state.url=url.href
window.history.replaceState(pjax.state,container.title,url.href)
var target=$(url.hash)
if(target.length)$(window).scrollTop(target.offset().top)}
fire('pjax:success',[data,status,xhr,options])}



if(!pjax.state){pjax.state={id:uniqueId(),url:window.location.href,title:document.title,container:context.selector,fragment:options.fragment,timeout:options.timeout}
window.history.replaceState(pjax.state,document.title)} 
var xhr=pjax.xhr
if(xhr&&xhr.readyState<4){xhr.onreadystatechange=$.noop
xhr.abort()}
pjax.options=options
var xhr=pjax.xhr=$.ajax(options)
if(xhr.readyState>0){if(options.push&&!options.replace){ cachePush(pjax.state.id,context.clone().contents())
window.history.pushState(null,"",stripPjaxParam(options.requestUrl))}
fire('pjax:start',[xhr,options])
fire('pjax:send',[xhr,options])}
return pjax.xhr}
function pjaxReload(container,options){var defaults={url:window.location.href,push:false,replace:true,scrollTo:false}
return pjax($.extend(defaults,optionsFor(container,options)))}


function locationReplace(url){window.history.replaceState(null,"","#")
window.location.replace(url)}
var initialPop=true
var initialURL=window.location.href
var initialState=window.history.state



if(initialState&&initialState.container){pjax.state=initialState}
if('state'in window.history){initialPop=false}


function onPjaxPopstate(event){var state=event.state
if(state&&state.container){

if(initialPop&&initialURL==state.url)return

if(pjax.state.id===state.id)return
var container=$(state.container)
if(container.length){var direction,contents=cacheMapping[state.id]
if(pjax.state){
direction=pjax.state.id<state.id?'forward':'back'

cachePop(direction,pjax.state.id,container.clone().contents())}
var popstateEvent=$.Event('pjax:popstate',{state:state,direction:direction})
container.trigger(popstateEvent)
var options={id:state.id,url:state.url,container:container,push:false,fragment:state.fragment,timeout:state.timeout,scrollTo:false}
if(contents){container.trigger('pjax:start',[null,options])
if(state.title)document.title=state.title
container.html(contents)
pjax.state=state
container.trigger('pjax:end',[null,options])}else{pjax(options)}

container[0].offsetHeight}else{locationReplace(location.href)}}
initialPop=false}

function fallbackPjax(options){var url=$.isFunction(options.url)?options.url():options.url,method=options.type?options.type.toUpperCase():'GET'
var form=$('<form>',{method:method==='GET'?'GET':'POST',action:url,style:'display:none'})
if(method!=='GET'&&method!=='POST'){form.append($('<input>',{type:'hidden',name:'_method',value:method.toLowerCase()}))}
var data=options.data
if(typeof data==='string'){$.each(data.split('&'),function(index,value){var pair=value.split('=')
form.append($('<input>',{type:'hidden',name:pair[0],value:pair[1]}))})}else if(typeof data==='object'){for(key in data)
form.append($('<input>',{type:'hidden',name:key,value:data[key]}))}
$(document.body).append(form)
form.submit()}

function uniqueId(){return(new Date).getTime()}


function stripPjaxParam(url){return url.replace(/\?_pjax=[^&]+&?/,'?').replace(/_pjax=[^&]+&?/,'').replace(/[\?&]$/,'')}

function parseURL(url){var a=document.createElement('a')
a.href=url
return a}


function optionsFor(container,options){ if(container&&options)
options.container=container
 
else if($.isPlainObject(container))
options=container
 
else
options={container:container} 
if(options.container)
options.container=findContainerFor(options.container)
return options}

function findContainerFor(container){container=$(container)
if(!container.length){throw"no pjax container for "+container.selector}else if(container.selector!==''&&container.context===document){return container}else if(container.attr('id')){return $('#'+container.attr('id'))}else{throw"cant get selector for pjax container!"}}



function findAll(elems,selector){return elems.filter(selector).add(elems.find(selector));}
function parseHTML(html){return $.parseHTML(html,document,true)}






function extractContainer(data,xhr,options){var obj={}

obj.url=stripPjaxParam(xhr.getResponseHeader('X-PJAX-URL')||options.requestUrl) 
if(/<html/i.test(data)){var $head=$(parseHTML(data.match(/<head[^>]*>([\s\S.]*)<\/head>/i)[0]))
var $body=$(parseHTML(data.match(/<body[^>]*>([\s\S.]*)<\/body>/i)[0]))}else{var $head=$body=$(parseHTML(data))} 
if($body.length===0)
return obj


obj.title=findAll($head,'title').last().text()
if(options.fragment){
if(options.fragment==='body'){var $fragment=$body}else{var $fragment=findAll($body,options.fragment).first()}
if($fragment.length){obj.contents=$fragment.contents()
 
if(!obj.title)
obj.title=$fragment.attr('title')||$fragment.data('title')}}else if(!/<html/i.test(data)){obj.contents=$body} 
if(obj.contents){ obj.contents=obj.contents.not(function(){return $(this).is('title')}) 
obj.contents.find('title').remove() 
obj.scripts=findAll(obj.contents,'script[src]').remove()
obj.contents=obj.contents.not(obj.scripts)} 
if(obj.title)obj.title=$.trim(obj.title)
return obj}


function executeScriptTags(scripts){if(!scripts)return
var existingScripts=$('script[src]')
scripts.each(function(){var src=this.src
var matchedScripts=existingScripts.filter(function(){return this.src===src})
if(matchedScripts.length){return
matchedScripts.remove();}
console.error("FOUND SCRIPTS",scripts,matchedScripts.length);var script=document.createElement('script')
script.type=$(this).attr('type')||'text/javascript'
script.src=$(this).attr('src')
document.head.appendChild(script)})}
var cacheMapping={}
var cacheForwardStack=[]
var cacheBackStack=[]




function cachePush(id,value){cacheMapping[id]=value
cacheBackStack.push(id)

while(cacheForwardStack.length)
delete cacheMapping[cacheForwardStack.shift()]
while(cacheBackStack.length>pjax.defaults.maxCacheLength)
delete cacheMapping[cacheBackStack.shift()]}





function cachePop(direction,id,value){var pushStack,popStack
cacheMapping[id]=value
if(direction==='forward'){pushStack=cacheBackStack
popStack=cacheForwardStack}else{pushStack=cacheForwardStack
popStack=cacheBackStack}
pushStack.push(id)
if(id=popStack.pop())
delete cacheMapping[id]}
function findVersion(){return $('meta').filter(function(){var name=$(this).attr('http-equiv')
return name&&name.toUpperCase()==='X-PJAX-VERSION'}).attr('content')}

function enable(){$.fn.pjax=fnPjax
$.pjax=pjax
$.pjax.enable=$.noop
$.pjax.disable=disable
$.pjax.click=handleClick
$.pjax.submit=handleSubmit
$.pjax.reload=pjaxReload
$.pjax.defaults={timeout:650,push:true,replace:false,type:'GET',dataType:'html',scrollTo:0,maxCacheLength:20,version:findVersion}
$(window).on('popstate.pjax',onPjaxPopstate)}



function disable(){$.fn.pjax=function(){return this}
$.pjax=fallbackPjax
$.pjax.enable=enable
$.pjax.disable=$.noop
$.pjax.click=$.noop
$.pjax.submit=$.noop
$.pjax.reload=function(){window.location.reload()}
$(window).off('popstate.pjax',onPjaxPopstate)}

if($.inArray('state',$.event.props)<0)
$.event.props.push('state')
$.support.pjax=window.history&&window.history.pushState&&window.history.replaceState&&!navigator.userAgent.match(/((iPod|iPhone|iPad).+\bOS\s+[1-4]|WebApps\/.+CFNetwork)/)
$.support.pjax?enable():disable()})(jQuery);!function(a){a.extend(a.fn,{validate:function(b){if(!this.length)return void(b&&b.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var c=a.data(this[0],"validator");return c?c:(this.attr("novalidate","novalidate"),c=new a.validator(b,this[0]),a.data(this[0],"validator",c),c.settings.onsubmit&&(this.validateDelegate(":submit","click",function(b){c.settings.submitHandler&&(c.submitButton=b.target),a(b.target).hasClass("cancel")&&(c.cancelSubmit=!0),void 0!==a(b.target).attr("formnovalidate")&&(c.cancelSubmit=!0)}),this.submit(function(b){function d(){var d;return c.settings.submitHandler?(c.submitButton&&(d=a("<input type='hidden'/>").attr("name",c.submitButton.name).val(a(c.submitButton).val()).appendTo(c.currentForm)),c.settings.submitHandler.call(c,c.currentForm,b),c.submitButton&&d.remove(),!1):!0}return c.settings.debug&&b.preventDefault(),c.cancelSubmit?(c.cancelSubmit=!1,d()):c.form()?c.pendingRequest?(c.formSubmitted=!0,!1):d():(c.focusInvalid(),!1)})),c)},valid:function(){var b,c;return a(this[0]).is("form")?b=this.validate().form():(b=!0,c=a(this[0].form).validate(),this.each(function(){b=c.element(this)&&b})),b},removeAttrs:function(b){var c={},d=this;return a.each(b.split(/\s/),function(a,b){c[b]=d.attr(b),d.removeAttr(b)}),c},rules:function(b,c){var d,e,f,g,h,i,j=this[0];if(b)switch(d=a.data(j.form,"validator").settings,e=d.rules,f=a.validator.staticRules(j),b){case"add":a.extend(f,a.validator.normalizeRule(c)),delete f.messages,e[j.name]=f,c.messages&&(d.messages[j.name]=a.extend(d.messages[j.name],c.messages));break;case"remove":return c?(i={},a.each(c.split(/\s/),function(b,c){i[c]=f[c],delete f[c],"required"===c&&a(j).removeAttr("aria-required")}),i):(delete e[j.name],f)}return g=a.validator.normalizeRules(a.extend({},a.validator.classRules(j),a.validator.attributeRules(j),a.validator.dataRules(j),a.validator.staticRules(j)),j),g.required&&(h=g.required,delete g.required,g=a.extend({required:h},g),a(j).attr("aria-required","true")),g.remote&&(h=g.remote,delete g.remote,g=a.extend(g,{remote:h})),g}}),a.extend(a.expr[":"],{blank:function(b){return!a.trim(""+a(b).val())},filled:function(b){return!!a.trim(""+a(b).val())},unchecked:function(b){return!a(b).prop("checked")}}),a.validator=function(b,c){this.settings=a.extend(!0,{},a.validator.defaults,b),this.currentForm=c,this.init()},a.validator.format=function(b,c){return 1===arguments.length?function(){var c=a.makeArray(arguments);return c.unshift(b),a.validator.format.apply(this,c)}:(arguments.length>2&&c.constructor!==Array&&(c=a.makeArray(arguments).slice(1)),c.constructor!==Array&&(c=[c]),a.each(c,function(a,c){b=b.replace(new RegExp("\\{"+a+"\\}","g"),function(){return c})}),b)},a.extend(a.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:a([]),errorLabelContainer:a([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(a){this.lastActive=a,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,a,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(a)).hide())},onfocusout:function(a){this.checkable(a)||!(a.name in this.submitted)&&this.optional(a)||this.element(a)},onkeyup:function(a,b){(9!==b.which||""!==this.elementValue(a))&&(a.name in this.submitted||a===this.lastElement)&&this.element(a)},onclick:function(a){a.name in this.submitted?this.element(a):a.parentNode.name in this.submitted&&this.element(a.parentNode)},highlight:function(b,c,d){"radio"===b.type?this.findByName(b.name).addClass(c).removeClass(d):a(b).addClass(c).removeClass(d)},unhighlight:function(b,c,d){"radio"===b.type?this.findByName(b.name).removeClass(c).addClass(d):a(b).removeClass(c).addClass(d)}},setDefaults:function(b){a.extend(a.validator.defaults,b)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:a.validator.format("Please enter no more than {0} characters."),minlength:a.validator.format("Please enter at least {0} characters."),rangelength:a.validator.format("Please enter a value between {0} and {1} characters long."),range:a.validator.format("Please enter a value between {0} and {1}."),max:a.validator.format("Please enter a value less than or equal to {0}."),min:a.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function b(b){var c=a.data(this[0].form,"validator"),d="on"+b.type.replace(/^validate/,""),e=c.settings;e[d]&&!this.is(e.ignore)&&e[d].call(c,this[0],b)}this.labelContainer=a(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||a(this.currentForm),this.containers=a(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var c,d=this.groups={};a.each(this.settings.groups,function(b,c){"string"==typeof c&&(c=c.split(/\s/)),a.each(c,function(a,c){d[c]=b})}),c=this.settings.rules,a.each(c,function(b,d){c[b]=a.validator.normalizeRule(d)}),a(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",b).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",b),this.settings.invalidHandler&&a(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler),a(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),a.extend(this.submitted,this.errorMap),this.invalid=a.extend({},this.errorMap),this.valid()||a(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var a=0,b=this.currentElements=this.elements();b[a];a++)this.check(b[a]);return this.valid()},element:function(b){var c=this.clean(b),d=this.validationTargetFor(c),e=!0;return this.lastElement=d,void 0===d?delete this.invalid[c.name]:(this.prepareElement(d),this.currentElements=a(d),e=this.check(d)!==!1,e?delete this.invalid[d.name]:this.invalid[d.name]=!0),a(b).attr("aria-invalid",!e),this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),e},showErrors:function(b){if(b){a.extend(this.errorMap,b),this.errorList=[];for(var c in b)this.errorList.push({message:b[c],element:this.findByName(c)[0]});this.successList=a.grep(this.successList,function(a){return!(a.name in b)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){a.fn.resetForm&&a(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue").removeAttr("aria-invalid")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(a){var b,c=0;for(b in a)c++;return c},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{a(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(b){}},findLastActive:function(){var b=this.lastActive;return b&&1===a.grep(this.errorList,function(a){return a.element.name===b.name}).length&&b},elements:function(){var b=this,c={};return a(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&b.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in c||!b.objectLength(a(this).rules())?!1:(c[this.name]=!0,!0)})},clean:function(b){return a(b)[0]},errors:function(){var b=this.settings.errorClass.split(" ").join(".");return a(this.settings.errorElement+"."+b,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=a([]),this.toHide=a([]),this.currentElements=a([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(a){this.reset(),this.toHide=this.errorsFor(a)},elementValue:function(b){var c,d=a(b),e=d.attr("type");return"radio"===e||"checkbox"===e?a("input[name='"+d.attr("name")+"']:checked").val():(c=d.val(),"string"==typeof c?c.replace(/\r/g,""):c)},check:function(b){b=this.validationTargetFor(this.clean(b));var c,d,e,f=a(b).rules(),g=a.map(f,function(a,b){return b}).length,h=!1,i=this.elementValue(b);for(d in f){e={method:d,parameters:f[d]};try{if(c=a.validator.methods[d].call(this,i,b,e.parameters),"dependency-mismatch"===c&&1===g){h=!0;continue}if(h=!1,"pending"===c)return void(this.toHide=this.toHide.not(this.errorsFor(b)));if(!c)return this.formatAndAdd(b,e),!1}catch(j){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+b.id+", check the '"+e.method+"' method.",j),j}}if(!h)return this.objectLength(f)&&this.successList.push(b),!0},customDataMessage:function(b,c){return a(b).data("msg"+c[0].toUpperCase()+c.substring(1).toLowerCase())||a(b).data("msg")},customMessage:function(a,b){var c=this.settings.messages[a];return c&&(c.constructor===String?c:c[b])},findDefined:function(){for(var a=0;a<arguments.length;a++)if(void 0!==arguments[a])return arguments[a];return void 0},defaultMessage:function(b,c){return this.findDefined(this.customMessage(b.name,c),this.customDataMessage(b,c),!this.settings.ignoreTitle&&b.title||void 0,a.validator.messages[c],"<strong>Warning: No message defined for "+b.name+"</strong>")},formatAndAdd:function(b,c){var d=this.defaultMessage(b,c.method),e=/\$?\{(\d+)\}/g;"function"==typeof d?d=d.call(this,c.parameters,b):e.test(d)&&(d=a.validator.format(d.replace(e,"{$1}"),c.parameters)),this.errorList.push({message:d,element:b,method:c.method}),this.errorMap[b.name]=d,this.submitted[b.name]=d},addWrapper:function(a){return this.settings.wrapper&&(a=a.add(a.parent(this.settings.wrapper))),a},defaultShowErrors:function(){var a,b,c;for(a=0;this.errorList[a];a++)c=this.errorList[a],this.settings.highlight&&this.settings.highlight.call(this,c.element,this.settings.errorClass,this.settings.validClass),this.showLabel(c.element,c.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(a=0;this.successList[a];a++)this.showLabel(this.successList[a]);if(this.settings.unhighlight)for(a=0,b=this.validElements();b[a];a++)this.settings.unhighlight.call(this,b[a],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return a(this.errorList).map(function(){return this.element})},showLabel:function(b,c){var d=this.errorsFor(b);d.length?(d.removeClass(this.settings.validClass).addClass(this.settings.errorClass),d.html(c)):(d=a("<"+this.settings.errorElement+">").attr("for",this.idOrName(b)).addClass(this.settings.errorClass).html(c||""),this.settings.wrapper&&(d=d.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(d).length||(this.settings.errorPlacement?this.settings.errorPlacement(d,a(b)):d.insertAfter(b))),!c&&this.settings.success&&(d.text(""),"string"==typeof this.settings.success?d.addClass(this.settings.success):this.settings.success(d,b)),this.toShow=this.toShow.add(d)},errorsFor:function(b){var c=this.idOrName(b);return this.errors().filter(function(){return a(this).attr("for")===c})},idOrName:function(a){return this.groups[a.name]||(this.checkable(a)?a.name:a.id||a.name)},validationTargetFor:function(a){return this.checkable(a)&&(a=this.findByName(a.name).not(this.settings.ignore)[0]),a},checkable:function(a){return/radio|checkbox/i.test(a.type)},findByName:function(b){return a(this.currentForm).find("[name='"+b+"']")},getLength:function(b,c){switch(c.nodeName.toLowerCase()){case"select":return a("option:selected",c).length;case"input":if(this.checkable(c))return this.findByName(c.name).filter(":checked").length}return b.length},depend:function(a,b){return this.dependTypes[typeof a]?this.dependTypes[typeof a](a,b):!0},dependTypes:{"boolean":function(a){return a},string:function(b,c){return!!a(b,c.form).length},"function":function(a,b){return a(b)}},optional:function(b){var c=this.elementValue(b);return!a.validator.methods.required.call(this,c,b)&&"dependency-mismatch"},startRequest:function(a){this.pending[a.name]||(this.pendingRequest++,this.pending[a.name]=!0)},stopRequest:function(b,c){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[b.name],c&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(a(this.currentForm).submit(),this.formSubmitted=!1):!c&&0===this.pendingRequest&&this.formSubmitted&&(a(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(b){return a.data(b,"previousValue")||a.data(b,"previousValue",{old:null,valid:!0,message:this.defaultMessage(b,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(b,c){b.constructor===String?this.classRuleSettings[b]=c:a.extend(this.classRuleSettings,b)},classRules:function(b){var c={},d=a(b).attr("class");return d&&a.each(d.split(" "),function(){this in a.validator.classRuleSettings&&a.extend(c,a.validator.classRuleSettings[this])}),c},attributeRules:function(b){var c,d,e={},f=a(b),g=b.getAttribute("type");for(c in a.validator.methods)"required"===c?(d=b.getAttribute(c),""===d&&(d=!0),d=!!d):d=f.attr(c),/min|max/.test(c)&&(null===g||/number|range|text/.test(g))&&(d=Number(d)),d||0===d?e[c]=d:g===c&&"range"!==g&&(e[c]=!0);return e.maxlength&&/-1|2147483647|524288/.test(e.maxlength)&&delete e.maxlength,e},dataRules:function(b){var c,d,e={},f=a(b);for(c in a.validator.methods)d=f.data("rule"+c[0].toUpperCase()+c.substring(1).toLowerCase()),void 0!==d&&(e[c]=d);return e},staticRules:function(b){var c={},d=a.data(b.form,"validator");return d.settings.rules&&(c=a.validator.normalizeRule(d.settings.rules[b.name])||{}),c},normalizeRules:function(b,c){return a.each(b,function(d,e){if(e===!1)return void delete b[d];if(e.param||e.depends){var f=!0;switch(typeof e.depends){case"string":f=!!a(e.depends,c.form).length;break;case"function":f=e.depends.call(c,c)}f?b[d]=void 0!==e.param?e.param:!0:delete b[d]}}),a.each(b,function(d,e){b[d]=a.isFunction(e)?e(c):e}),a.each(["minlength","maxlength"],function(){b[this]&&(b[this]=Number(b[this]))}),a.each(["rangelength","range"],function(){var c;b[this]&&(a.isArray(b[this])?b[this]=[Number(b[this][0]),Number(b[this][1])]:"string"==typeof b[this]&&(c=b[this].split(/[\s,]+/),b[this]=[Number(c[0]),Number(c[1])]))}),a.validator.autoCreateRanges&&(b.min&&b.max&&(b.range=[b.min,b.max],delete b.min,delete b.max),b.minlength&&b.maxlength&&(b.rangelength=[b.minlength,b.maxlength],delete b.minlength,delete b.maxlength)),b},normalizeRule:function(b){if("string"==typeof b){var c={};a.each(b.split(/\s/),function(){c[this]=!0}),b=c}return b},addMethod:function(b,c,d){a.validator.methods[b]=c,a.validator.messages[b]=void 0!==d?d:a.validator.messages[b],c.length<3&&a.validator.addClassRules(b,a.validator.normalizeRule(b))},methods:{required:function(b,c,d){if(!this.depend(d,c))return"dependency-mismatch";if("select"===c.nodeName.toLowerCase()){var e=a(c).val();return e&&e.length>0}return this.checkable(c)?this.getLength(b,c)>0:a.trim(b).length>0},email:function(a,b){return this.optional(b)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(a)},url:function(a,b){return this.optional(b)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(a)},date:function(a,b){return this.optional(b)||!/Invalid|NaN/.test(new Date(a).toString())},dateISO:function(a,b){return this.optional(b)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(a)},number:function(a,b){return this.optional(b)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(a)},digits:function(a,b){return this.optional(b)||/^\d+$/.test(a)},creditcard:function(a,b){if(this.optional(b))return"dependency-mismatch";if(/[^0-9 \-]+/.test(a))return!1;var c,d,e=0,f=0,g=!1;if(a=a.replace(/\D/g,""),a.length<13||a.length>19)return!1;for(c=a.length-1;c>=0;c--)d=a.charAt(c),f=parseInt(d,10),g&&(f*=2)>9&&(f-=9),e+=f,g=!g;return e%10===0},minlength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(a.trim(b),c);return this.optional(c)||e>=d},maxlength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(a.trim(b),c);return this.optional(c)||d>=e},rangelength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(a.trim(b),c);return this.optional(c)||e>=d[0]&&e<=d[1]},min:function(a,b,c){return this.optional(b)||a>=c},max:function(a,b,c){return this.optional(b)||c>=a},range:function(a,b,c){return this.optional(b)||a>=c[0]&&a<=c[1]},equalTo:function(b,c,d){var e=a(d);return this.settings.onfocusout&&e.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){a(c).valid()}),b===e.val()},remote:function(b,c,d){if(this.optional(c))return"dependency-mismatch";var e,f,g=this.previousValue(c);return this.settings.messages[c.name]||(this.settings.messages[c.name]={}),g.originalMessage=this.settings.messages[c.name].remote,this.settings.messages[c.name].remote=g.message,d="string"==typeof d&&{url:d}||d,g.old===b?g.valid:(g.old=b,e=this,this.startRequest(c),f={},f[c.name]=b,a.ajax(a.extend(!0,{url:d,mode:"abort",port:"validate"+c.name,dataType:"json",data:f,context:e.currentForm,success:function(d){var f,h,i,j=d===!0||"true"===d;e.settings.messages[c.name].remote=g.originalMessage,j?(i=e.formSubmitted,e.prepareElement(c),e.formSubmitted=i,e.successList.push(c),delete e.invalid[c.name],e.showErrors()):(f={},h=d||e.defaultMessage(c,"remote"),f[c.name]=g.message=a.isFunction(h)?h(b):h,e.invalid[c.name]=!0,e.showErrors(f)),g.valid=j,e.stopRequest(c,j)}},d)),"pending")}}}),a.format=function(){throw"$.format has been deprecated. Please use $.validator.format instead."}}(jQuery),function(a){var b,c={};a.ajaxPrefilter?a.ajaxPrefilter(function(a,b,d){var e=a.port;"abort"===a.mode&&(c[e]&&c[e].abort(),c[e]=d)}):(b=a.ajax,a.ajax=function(d){var e=("mode"in d?d:a.ajaxSettings).mode,f=("port"in d?d:a.ajaxSettings).port;return"abort"===e?(c[f]&&c[f].abort(),c[f]=b.apply(this,arguments),c[f]):b.apply(this,arguments)})}(jQuery),function(a){a.extend(a.fn,{validateDelegate:function(b,c,d){return this.bind(c,function(c){var e=a(c.target);return e.is(b)?d.apply(e,arguments):void 0})}})}(jQuery);!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"undefined"!=typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){var e=-1,o=-1,n=function(t){return parseFloat(t)||0},a=function(e){var o=1,a=t(e),i=null,r=[];return a.each(function(){var e=t(this),a=e.offset().top-n(e.css("margin-top")),s=r.length>0?r[r.length-1]:null;null===s?r.push(e):Math.floor(Math.abs(i-a))<=o?r[r.length-1]=s.add(e):r.push(e),i=a}),r},i=function(e){var o={byRow:!0,property:"height",target:null,remove:!1};return"object"==typeof e?t.extend(o,e):("boolean"==typeof e?o.byRow=e:"remove"===e&&(o.remove=!0),o)},r=t.fn.matchHeight=function(e){var o=i(e);if(o.remove){var n=this;return this.css(o.property,""),t.each(r._groups,function(t,e){e.elements=e.elements.not(n)}),this}return this.length<=1&&!o.target?this:(r._groups.push({elements:this,options:o}),r._apply(this,o),this)};r.version="0.7.2",r._groups=[],r._throttle=80,r._maintainScroll=!1,r._beforeUpdate=null,r._afterUpdate=null,r._rows=a,r._parse=n,r._parseOptions=i,r._apply=function(e,o){var s=i(o),h=t(e),l=[h],c=t(window).scrollTop(),p=t("html").outerHeight(!0),u=h.parents().filter(":hidden");return u.each(function(){var e=t(this);e.data("style-cache",e.attr("style"))}),u.css("display","block"),s.byRow&&!s.target&&(h.each(function(){var e=t(this),o=e.css("display");"inline-block"!==o&&"flex"!==o&&"inline-flex"!==o&&(o="block"),e.data("style-cache",e.attr("style")),e.css({display:o,"padding-top":"0","padding-bottom":"0","margin-top":"0","margin-bottom":"0","border-top-width":"0","border-bottom-width":"0",height:"100px",overflow:"hidden"})}),l=a(h),h.each(function(){var e=t(this);e.attr("style",e.data("style-cache")||"")})),t.each(l,function(e,o){var a=t(o),i=0;if(s.target)i=s.target.outerHeight(!1);else{if(s.byRow&&a.length<=1)return void a.css(s.property,"");a.each(function(){var e=t(this),o=e.attr("style"),n=e.css("display");"inline-block"!==n&&"flex"!==n&&"inline-flex"!==n&&(n="block");var a={display:n};a[s.property]="",e.css(a),e.outerHeight(!1)>i&&(i=e.outerHeight(!1)),o?e.attr("style",o):e.css("display","")})}a.each(function(){var e=t(this),o=0;s.target&&e.is(s.target)||("border-box"!==e.css("box-sizing")&&(o+=n(e.css("border-top-width"))+n(e.css("border-bottom-width")),o+=n(e.css("padding-top"))+n(e.css("padding-bottom"))),e.css(s.property,i-o+"px"))})}),u.each(function(){var e=t(this);e.attr("style",e.data("style-cache")||null)}),r._maintainScroll&&t(window).scrollTop(c/p*t("html").outerHeight(!0)),this},r._applyDataApi=function(){var e={};t("[data-match-height], [data-mh]").each(function(){var o=t(this),n=o.attr("data-mh")||o.attr("data-match-height");n in e?e[n]=e[n].add(o):e[n]=o}),t.each(e,function(){this.matchHeight(!0)})};var s=function(e){r._beforeUpdate&&r._beforeUpdate(e,r._groups),t.each(r._groups,function(){r._apply(this.elements,this.options)}),r._afterUpdate&&r._afterUpdate(e,r._groups)};r._update=function(n,a){if(a&&"resize"===a.type){var i=t(window).width();if(i===e)return;e=i;}n?o===-1&&(o=setTimeout(function(){s(a),o=-1},r._throttle)):s(a)},t(r._applyDataApi);var h=t.fn.on?"on":"bind";t(window)[h]("load",function(t){r._update(!1,t)}),t(window)[h]("resize orientationchange",function(t){r._update(!0,t)})});!function(e,a){"use strict";"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a(require("jquery")):e.Swiper=a(e.jQuery)}(this,function(e){"use strict";function a(e){e.fn.swiper=function(a){var s;return e(this).each(function(){var e=new t(this,a);s||(s=e)}),s}}var t=function(a,s){function r(e){return Math.floor(e)}function i(){y.autoplayTimeoutId=setTimeout(function(){y.params.loop?(y.fixLoop(),y._slideNext(),y.emit("onAutoplay",y)):y.isEnd?s.autoplayStopOnLast?y.stopAutoplay():(y._slideTo(0),y.emit("onAutoplay",y)):(y._slideNext(),y.emit("onAutoplay",y))},y.params.autoplay)}function n(a,t){var s=e(a.target);if(!s.is(t))if("string"==typeof t)s=s.parents(t);else if(t.nodeType){var r;return s.parents().each(function(e,a){a===t&&(r=t)}),r?t:void 0}if(0!==s.length)return s[0]}function o(e,a){a=a||{};var t=window.MutationObserver||window.WebkitMutationObserver,s=new t(function(e){e.forEach(function(e){y.onResize(!0),y.emit("onObserverUpdate",y,e)})});s.observe(e,{attributes:"undefined"==typeof a.attributes?!0:a.attributes,childList:"undefined"==typeof a.childList?!0:a.childList,characterData:"undefined"==typeof a.characterData?!0:a.characterData}),y.observers.push(s)}function l(e){e.originalEvent&&(e=e.originalEvent);var a=e.keyCode||e.charCode;if(!y.params.allowSwipeToNext&&(y.isHorizontal()&&39===a||!y.isHorizontal()&&40===a))return!1;if(!y.params.allowSwipeToPrev&&(y.isHorizontal()&&37===a||!y.isHorizontal()&&38===a))return!1;if(!(e.shiftKey||e.altKey||e.ctrlKey||e.metaKey||document.activeElement&&document.activeElement.nodeName&&("input"===document.activeElement.nodeName.toLowerCase()||"textarea"===document.activeElement.nodeName.toLowerCase()))){if(37===a||39===a||38===a||40===a){var t=!1;if(y.container.parents(".swiper-slide").length>0&&0===y.container.parents(".swiper-slide-active").length)return;var s={left:window.pageXOffset,top:window.pageYOffset},r=window.innerWidth,i=window.innerHeight,n=y.container.offset();y.rtl&&(n.left=n.left-y.container[0].scrollLeft);for(var o=[[n.left,n.top],[n.left+y.width,n.top],[n.left,n.top+y.height],[n.left+y.width,n.top+y.height]],l=0;l<o.length;l++){var p=o[l];p[0]>=s.left&&p[0]<=s.left+r&&p[1]>=s.top&&p[1]<=s.top+i&&(t=!0)}if(!t)return}y.isHorizontal()?((37===a||39===a)&&(e.preventDefault?e.preventDefault():e.returnValue=!1),(39===a&&!y.rtl||37===a&&y.rtl)&&y.slideNext(),(37===a&&!y.rtl||39===a&&y.rtl)&&y.slidePrev()):((38===a||40===a)&&(e.preventDefault?e.preventDefault():e.returnValue=!1),40===a&&y.slideNext(),38===a&&y.slidePrev())}}function p(e){e.originalEvent&&(e=e.originalEvent);var a=y.mousewheel.event,t=0,s=y.rtl?-1:1;if("mousewheel"===a)if(y.params.mousewheelForceToAxis)if(y.isHorizontal()){if(!(Math.abs(e.wheelDeltaX)>Math.abs(e.wheelDeltaY)))return;t=e.wheelDeltaX*s}else{if(!(Math.abs(e.wheelDeltaY)>Math.abs(e.wheelDeltaX)))return;t=e.wheelDeltaY}else t=Math.abs(e.wheelDeltaX)>Math.abs(e.wheelDeltaY)?-e.wheelDeltaX*s:-e.wheelDeltaY;else if("DOMMouseScroll"===a)t=-e.detail;else if("wheel"===a)if(y.params.mousewheelForceToAxis)if(y.isHorizontal()){if(!(Math.abs(e.deltaX)>Math.abs(e.deltaY)))return;t=-e.deltaX*s}else{if(!(Math.abs(e.deltaY)>Math.abs(e.deltaX)))return;t=-e.deltaY}else t=Math.abs(e.deltaX)>Math.abs(e.deltaY)?-e.deltaX*s:-e.deltaY;if(0!==t){if(y.params.mousewheelInvert&&(t=-t),y.params.freeMode){var r=y.getWrapperTranslate()+t*y.params.mousewheelSensitivity,i=y.isBeginning,n=y.isEnd;if(r>=y.minTranslate()&&(r=y.minTranslate()),r<=y.maxTranslate()&&(r=y.maxTranslate()),y.setWrapperTransition(0),y.setWrapperTranslate(r),y.updateProgress(),y.updateActiveIndex(),(!i&&y.isBeginning||!n&&y.isEnd)&&y.updateClasses(),y.params.freeModeSticky?(clearTimeout(y.mousewheel.timeout),y.mousewheel.timeout=setTimeout(function(){y.slideReset()},300)):y.params.lazyLoading&&y.lazy&&y.lazy.load(),0===r||r===y.maxTranslate())return}else{if((new window.Date).getTime()-y.mousewheel.lastScrollTime>60)if(0>t)if(y.isEnd&&!y.params.loop||y.animating){if(y.params.mousewheelReleaseOnEdges)return!0}else y.slideNext();else if(y.isBeginning&&!y.params.loop||y.animating){if(y.params.mousewheelReleaseOnEdges)return!0}else y.slidePrev();y.mousewheel.lastScrollTime=(new window.Date).getTime()}return y.params.autoplay&&y.stopAutoplay(),e.preventDefault?e.preventDefault():e.returnValue=!1,!1}}function d(a,t){a=e(a);var s,r,i,n=y.rtl?-1:1;s=a.attr("data-swiper-parallax")||"0",r=a.attr("data-swiper-parallax-x"),i=a.attr("data-swiper-parallax-y"),r||i?(r=r||"0",i=i||"0"):y.isHorizontal()?(r=s,i="0"):(i=s,r="0"),r=r.indexOf("%")>=0?parseInt(r,10)*t*n+"%":r*t*n+"px",i=i.indexOf("%")>=0?parseInt(i,10)*t+"%":i*t+"px",a.transform("translate3d("+r+", "+i+",0px)")}function u(e){return 0!==e.indexOf("on")&&(e=e[0]!==e[0].toUpperCase()?"on"+e[0].toUpperCase()+e.substring(1):"on"+e),e}if(!(this instanceof t))return new t(a,s);var c={direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,autoplay:!1,autoplayDisableOnInteraction:!0,autoplayStopOnLast:!1,iOSEdgeSwipeDetection:!1,iOSEdgeSwipeThreshold:20,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",coverflow:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0},flip:{slideShadows:!0,limitRotation:!0},cube:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94},fade:{crossFade:!1},parallax:!1,scrollbar:null,scrollbarHide:!0,scrollbarDraggable:!1,scrollbarSnapOnRelease:!1,keyboardControl:!1,mousewheelControl:!1,mousewheelReleaseOnEdges:!1,mousewheelInvert:!1,mousewheelForceToAxis:!1,mousewheelSensitivity:1,hashnav:!1,breakpoints:void 0,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,onlyExternal:!1,threshold:0,touchMoveStopPropagation:!0,uniqueNavElements:!0,pagination:null,paginationElement:"span",paginationClickable:!1,paginationHide:!1,paginationBulletRender:null,paginationProgressRender:null,paginationFractionRender:null,paginationCustomRender:null,paginationType:"bullets",resistance:!0,resistanceRatio:.85,nextButton:null,prevButton:null,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,lazyLoading:!1,lazyLoadingInPrevNext:!1,lazyLoadingInPrevNextAmount:1,lazyLoadingOnTransitionStart:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,control:void 0,controlInverse:!1,controlBy:"slide",allowSwipeToPrev:!0,allowSwipeToNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",buttonDisabledClass:"swiper-button-disabled",paginationCurrentClass:"swiper-pagination-current",paginationTotalClass:"swiper-pagination-total",paginationHiddenClass:"swiper-pagination-hidden",paginationProgressbarClass:"swiper-pagination-progressbar",observer:!1,observeParents:!1,a11y:!1,prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",runCallbacksOnInit:!0},m=s&&s.virtualTranslate;s=s||{};var f={};for(var g in s)if("object"!=typeof s[g]||null===s[g]||(s[g].nodeType||s[g]===window||s[g]===document||"undefined"!=typeof Dom7&&s[g]instanceof Dom7||"undefined"!=typeof jQuery&&s[g]instanceof jQuery))f[g]=s[g];else{f[g]={};for(var h in s[g])f[g][h]=s[g][h]}for(var v in c)if("undefined"==typeof s[v])s[v]=c[v];else if("object"==typeof s[v])for(var w in c[v])"undefined"==typeof s[v][w]&&(s[v][w]=c[v][w]);var y=this;if(y.params=s,y.originalParams=f,y.classNames=[],"undefined"!=typeof e&&"undefined"!=typeof Dom7&&(e=Dom7),("undefined"!=typeof e||(e="undefined"==typeof Dom7?window.Dom7||window.Zepto||window.jQuery:Dom7))&&(y.$=e,y.currentBreakpoint=void 0,y.getActiveBreakpoint=function(){if(!y.params.breakpoints)return!1;var e,a=!1,t=[];for(e in y.params.breakpoints)y.params.breakpoints.hasOwnProperty(e)&&t.push(e);t.sort(function(e,a){return parseInt(e,10)>parseInt(a,10)});for(var s=0;s<t.length;s++)e=t[s],e>=window.innerWidth&&!a&&(a=e);return a||"max"},y.setBreakpoint=function(){var e=y.getActiveBreakpoint();if(e&&y.currentBreakpoint!==e){var a=e in y.params.breakpoints?y.params.breakpoints[e]:y.originalParams,t=y.params.loop&&a.slidesPerView!==y.params.slidesPerView;for(var s in a)y.params[s]=a[s];y.currentBreakpoint=e,t&&y.destroyLoop&&y.reLoop(!0)}},y.params.breakpoints&&y.setBreakpoint(),y.container=e(a),0!==y.container.length)){if(y.container.length>1){var b=[];return y.container.each(function(){b.push(new t(this,s))}),b}y.container[0].swiper=y,y.container.data("swiper",y),y.classNames.push("swiper-container-"+y.params.direction),y.params.freeMode&&y.classNames.push("swiper-container-free-mode"),y.support.flexbox||(y.classNames.push("swiper-container-no-flexbox"),y.params.slidesPerColumn=1),y.params.autoHeight&&y.classNames.push("swiper-container-autoheight"),(y.params.parallax||y.params.watchSlidesVisibility)&&(y.params.watchSlidesProgress=!0),["cube","coverflow","flip"].indexOf(y.params.effect)>=0&&(y.support.transforms3d?(y.params.watchSlidesProgress=!0,y.classNames.push("swiper-container-3d")):y.params.effect="slide"),"slide"!==y.params.effect&&y.classNames.push("swiper-container-"+y.params.effect),"cube"===y.params.effect&&(y.params.resistanceRatio=0,y.params.slidesPerView=1,y.params.slidesPerColumn=1,y.params.slidesPerGroup=1,y.params.centeredSlides=!1,y.params.spaceBetween=0,y.params.virtualTranslate=!0,y.params.setWrapperSize=!1),("fade"===y.params.effect||"flip"===y.params.effect)&&(y.params.slidesPerView=1,y.params.slidesPerColumn=1,y.params.slidesPerGroup=1,y.params.watchSlidesProgress=!0,y.params.spaceBetween=0,y.params.setWrapperSize=!1,"undefined"==typeof m&&(y.params.virtualTranslate=!0)),y.params.grabCursor&&y.support.touch&&(y.params.grabCursor=!1),y.wrapper=y.container.children("."+y.params.wrapperClass),y.params.pagination&&(y.paginationContainer=e(y.params.pagination),y.params.uniqueNavElements&&"string"==typeof y.params.pagination&&y.paginationContainer.length>1&&1===y.container.find(y.params.pagination).length&&(y.paginationContainer=y.container.find(y.params.pagination)),"bullets"===y.params.paginationType&&y.params.paginationClickable?y.paginationContainer.addClass("swiper-pagination-clickable"):y.params.paginationClickable=!1,y.paginationContainer.addClass("swiper-pagination-"+y.params.paginationType)),(y.params.nextButton||y.params.prevButton)&&(y.params.nextButton&&(y.nextButton=e(y.params.nextButton),y.params.uniqueNavElements&&"string"==typeof y.params.nextButton&&y.nextButton.length>1&&1===y.container.find(y.params.nextButton).length&&(y.nextButton=y.container.find(y.params.nextButton))),y.params.prevButton&&(y.prevButton=e(y.params.prevButton),y.params.uniqueNavElements&&"string"==typeof y.params.prevButton&&y.prevButton.length>1&&1===y.container.find(y.params.prevButton).length&&(y.prevButton=y.container.find(y.params.prevButton)))),y.isHorizontal=function(){return"horizontal"===y.params.direction},y.rtl=y.isHorizontal()&&("rtl"===y.container[0].dir.toLowerCase()||"rtl"===y.container.css("direction")),y.rtl&&y.classNames.push("swiper-container-rtl"),y.rtl&&(y.wrongRTL="-webkit-box"===y.wrapper.css("display")),y.params.slidesPerColumn>1&&y.classNames.push("swiper-container-multirow"),y.device.android&&y.classNames.push("swiper-container-android"),y.container.addClass(y.classNames.join(" ")),y.translate=0,y.progress=0,y.velocity=0,y.lockSwipeToNext=function(){y.params.allowSwipeToNext=!1},y.lockSwipeToPrev=function(){y.params.allowSwipeToPrev=!1},y.lockSwipes=function(){y.params.allowSwipeToNext=y.params.allowSwipeToPrev=!1},y.unlockSwipeToNext=function(){y.params.allowSwipeToNext=!0},y.unlockSwipeToPrev=function(){y.params.allowSwipeToPrev=!0},y.unlockSwipes=function(){y.params.allowSwipeToNext=y.params.allowSwipeToPrev=!0},y.params.grabCursor&&(y.container[0].style.cursor="move",y.container[0].style.cursor="-webkit-grab",y.container[0].style.cursor="-moz-grab",y.container[0].style.cursor="grab"),y.imagesToLoad=[],y.imagesLoaded=0,y.loadImage=function(e,a,t,s,r){function i(){r&&r()}var n;e.complete&&s?i():a?(n=new window.Image,n.onload=i,n.onerror=i,t&&(n.srcset=t),a&&(n.src=a)):i()},y.preloadImages=function(){function e(){"undefined"!=typeof y&&null!==y&&(void 0!==y.imagesLoaded&&y.imagesLoaded++,y.imagesLoaded===y.imagesToLoad.length&&(y.params.updateOnImagesReady&&y.update(),y.emit("onImagesReady",y)))}y.imagesToLoad=y.container.find("img");for(var a=0;a<y.imagesToLoad.length;a++)y.loadImage(y.imagesToLoad[a],y.imagesToLoad[a].currentSrc||y.imagesToLoad[a].getAttribute("src"),y.imagesToLoad[a].srcset||y.imagesToLoad[a].getAttribute("srcset"),!0,e)},y.autoplayTimeoutId=void 0,y.autoplaying=!1,y.autoplayPaused=!1,y.startAutoplay=function(){return"undefined"!=typeof y.autoplayTimeoutId?!1:y.params.autoplay?y.autoplaying?!1:(y.autoplaying=!0,y.emit("onAutoplayStart",y),void i()):!1},y.stopAutoplay=function(e){y.autoplayTimeoutId&&(y.autoplayTimeoutId&&clearTimeout(y.autoplayTimeoutId),y.autoplaying=!1,y.autoplayTimeoutId=void 0,y.emit("onAutoplayStop",y))},y.pauseAutoplay=function(e){y.autoplayPaused||(y.autoplayTimeoutId&&clearTimeout(y.autoplayTimeoutId),y.autoplayPaused=!0,0===e?(y.autoplayPaused=!1,i()):y.wrapper.transitionEnd(function(){y&&(y.autoplayPaused=!1,y.autoplaying?i():y.stopAutoplay())}))},y.minTranslate=function(){return-y.snapGrid[0]},y.maxTranslate=function(){return-y.snapGrid[y.snapGrid.length-1]},y.updateAutoHeight=function(){var e=y.slides.eq(y.activeIndex)[0];if("undefined"!=typeof e){var a=e.offsetHeight;a&&y.wrapper.css("height",a+"px")}},y.updateContainerSize=function(){var e,a;e="undefined"!=typeof y.params.width?y.params.width:y.container[0].clientWidth,a="undefined"!=typeof y.params.height?y.params.height:y.container[0].clientHeight,0===e&&y.isHorizontal()||0===a&&!y.isHorizontal()||(e=e-parseInt(y.container.css("padding-left"),10)-parseInt(y.container.css("padding-right"),10),a=a-parseInt(y.container.css("padding-top"),10)-parseInt(y.container.css("padding-bottom"),10),y.width=e,y.height=a,y.size=y.isHorizontal()?y.width:y.height)},y.updateSlidesSize=function(){y.slides=y.wrapper.children("."+y.params.slideClass),y.snapGrid=[],y.slidesGrid=[],y.slidesSizesGrid=[];var e,a=y.params.spaceBetween,t=-y.params.slidesOffsetBefore,s=0,i=0;if("undefined"!=typeof y.size){"string"==typeof a&&a.indexOf("%")>=0&&(a=parseFloat(a.replace("%",""))/100*y.size),y.virtualSize=-a,y.rtl?y.slides.css({marginLeft:"",marginTop:""}):y.slides.css({marginRight:"",marginBottom:""});var n;y.params.slidesPerColumn>1&&(n=Math.floor(y.slides.length/y.params.slidesPerColumn)===y.slides.length/y.params.slidesPerColumn?y.slides.length:Math.ceil(y.slides.length/y.params.slidesPerColumn)*y.params.slidesPerColumn,"auto"!==y.params.slidesPerView&&"row"===y.params.slidesPerColumnFill&&(n=Math.max(n,y.params.slidesPerView*y.params.slidesPerColumn)));var o,l=y.params.slidesPerColumn,p=n/l,d=p-(y.params.slidesPerColumn*p-y.slides.length);for(e=0;e<y.slides.length;e++){o=0;var u=y.slides.eq(e);if(y.params.slidesPerColumn>1){var c,m,f;"column"===y.params.slidesPerColumnFill?(m=Math.floor(e/l),f=e-m*l,(m>d||m===d&&f===l-1)&&++f>=l&&(f=0,m++),c=m+f*n/l,u.css({"-webkit-box-ordinal-group":c,"-moz-box-ordinal-group":c,"-ms-flex-order":c,"-webkit-order":c,order:c})):(f=Math.floor(e/p),m=e-f*p),u.css({"margin-top":0!==f&&y.params.spaceBetween&&y.params.spaceBetween+"px"}).attr("data-swiper-column",m).attr("data-swiper-row",f)}"none"!==u.css("display")&&("auto"===y.params.slidesPerView?(o=y.isHorizontal()?u.outerWidth(!0):u.outerHeight(!0),y.params.roundLengths&&(o=r(o))):(o=(y.size-(y.params.slidesPerView-1)*a)/y.params.slidesPerView,y.params.roundLengths&&(o=r(o)),y.isHorizontal()?y.slides[e].style.width=o+"px":y.slides[e].style.height=o+"px"),y.slides[e].swiperSlideSize=o,y.slidesSizesGrid.push(o),y.params.centeredSlides?(t=t+o/2+s/2+a,0===e&&(t=t-y.size/2-a),Math.abs(t)<.001&&(t=0),i%y.params.slidesPerGroup===0&&y.snapGrid.push(t),y.slidesGrid.push(t)):(i%y.params.slidesPerGroup===0&&y.snapGrid.push(t),y.slidesGrid.push(t),t=t+o+a),y.virtualSize+=o+a,s=o,i++)}y.virtualSize=Math.max(y.virtualSize,y.size)+y.params.slidesOffsetAfter;var g;if(y.rtl&&y.wrongRTL&&("slide"===y.params.effect||"coverflow"===y.params.effect)&&y.wrapper.css({width:y.virtualSize+y.params.spaceBetween+"px"}),(!y.support.flexbox||y.params.setWrapperSize)&&(y.isHorizontal()?y.wrapper.css({width:y.virtualSize+y.params.spaceBetween+"px"}):y.wrapper.css({height:y.virtualSize+y.params.spaceBetween+"px"})),y.params.slidesPerColumn>1&&(y.virtualSize=(o+y.params.spaceBetween)*n,y.virtualSize=Math.ceil(y.virtualSize/y.params.slidesPerColumn)-y.params.spaceBetween,y.wrapper.css({width:y.virtualSize+y.params.spaceBetween+"px"}),y.params.centeredSlides)){for(g=[],e=0;e<y.snapGrid.length;e++)y.snapGrid[e]<y.virtualSize+y.snapGrid[0]&&g.push(y.snapGrid[e]);y.snapGrid=g}if(!y.params.centeredSlides){for(g=[],e=0;e<y.snapGrid.length;e++)y.snapGrid[e]<=y.virtualSize-y.size&&g.push(y.snapGrid[e]);y.snapGrid=g,Math.floor(y.virtualSize-y.size)-Math.floor(y.snapGrid[y.snapGrid.length-1])>1&&y.snapGrid.push(y.virtualSize-y.size)}0===y.snapGrid.length&&(y.snapGrid=[0]),0!==y.params.spaceBetween&&(y.isHorizontal()?y.rtl?y.slides.css({marginLeft:a+"px"}):y.slides.css({marginRight:a+"px"}):y.slides.css({marginBottom:a+"px"})),y.params.watchSlidesProgress&&y.updateSlidesOffset()}},y.updateSlidesOffset=function(){for(var e=0;e<y.slides.length;e++)y.slides[e].swiperSlideOffset=y.isHorizontal()?y.slides[e].offsetLeft:y.slides[e].offsetTop},y.updateSlidesProgress=function(e){if("undefined"==typeof e&&(e=y.translate||0),0!==y.slides.length){"undefined"==typeof y.slides[0].swiperSlideOffset&&y.updateSlidesOffset();var a=-e;y.rtl&&(a=e),y.slides.removeClass(y.params.slideVisibleClass);for(var t=0;t<y.slides.length;t++){var s=y.slides[t],r=(a-s.swiperSlideOffset)/(s.swiperSlideSize+y.params.spaceBetween);if(y.params.watchSlidesVisibility){var i=-(a-s.swiperSlideOffset),n=i+y.slidesSizesGrid[t],o=i>=0&&i<y.size||n>0&&n<=y.size||0>=i&&n>=y.size;o&&y.slides.eq(t).addClass(y.params.slideVisibleClass)}s.progress=y.rtl?-r:r}}},y.updateProgress=function(e){"undefined"==typeof e&&(e=y.translate||0);var a=y.maxTranslate()-y.minTranslate(),t=y.isBeginning,s=y.isEnd;0===a?(y.progress=0,y.isBeginning=y.isEnd=!0):(y.progress=(e-y.minTranslate())/a,y.isBeginning=y.progress<=0,y.isEnd=y.progress>=1),y.isBeginning&&!t&&y.emit("onReachBeginning",y),y.isEnd&&!s&&y.emit("onReachEnd",y),y.params.watchSlidesProgress&&y.updateSlidesProgress(e),y.emit("onProgress",y,y.progress)},y.updateActiveIndex=function(){var e,a,t,s=y.rtl?y.translate:-y.translate;for(a=0;a<y.slidesGrid.length;a++)"undefined"!=typeof y.slidesGrid[a+1]?s>=y.slidesGrid[a]&&s<y.slidesGrid[a+1]-(y.slidesGrid[a+1]-y.slidesGrid[a])/2?e=a:s>=y.slidesGrid[a]&&s<y.slidesGrid[a+1]&&(e=a+1):s>=y.slidesGrid[a]&&(e=a);(0>e||"undefined"==typeof e)&&(e=0),t=Math.floor(e/y.params.slidesPerGroup),t>=y.snapGrid.length&&(t=y.snapGrid.length-1),e!==y.activeIndex&&(y.snapIndex=t,y.previousIndex=y.activeIndex,y.activeIndex=e,y.updateClasses())},y.updateClasses=function(){y.slides.removeClass(y.params.slideActiveClass+" "+y.params.slideNextClass+" "+y.params.slidePrevClass);var a=y.slides.eq(y.activeIndex);a.addClass(y.params.slideActiveClass);var t=a.next("."+y.params.slideClass).addClass(y.params.slideNextClass);y.params.loop&&0===t.length&&y.slides.eq(0).addClass(y.params.slideNextClass);var s=a.prev("."+y.params.slideClass).addClass(y.params.slidePrevClass);if(y.params.loop&&0===s.length&&y.slides.eq(-1).addClass(y.params.slidePrevClass),y.paginationContainer&&y.paginationContainer.length>0){var r,i=y.params.loop?Math.ceil((y.slides.length-2*y.loopedSlides)/y.params.slidesPerGroup):y.snapGrid.length;if(y.params.loop?(r=Math.ceil((y.activeIndex-y.loopedSlides)/y.params.slidesPerGroup),r>y.slides.length-1-2*y.loopedSlides&&(r-=y.slides.length-2*y.loopedSlides),r>i-1&&(r-=i),0>r&&"bullets"!==y.params.paginationType&&(r=i+r)):r="undefined"!=typeof y.snapIndex?y.snapIndex:y.activeIndex||0,"bullets"===y.params.paginationType&&y.bullets&&y.bullets.length>0&&(y.bullets.removeClass(y.params.bulletActiveClass),y.paginationContainer.length>1?y.bullets.each(function(){e(this).index()===r&&e(this).addClass(y.params.bulletActiveClass)}):y.bullets.eq(r).addClass(y.params.bulletActiveClass)),"fraction"===y.params.paginationType&&(y.paginationContainer.find("."+y.params.paginationCurrentClass).text(r+1),y.paginationContainer.find("."+y.params.paginationTotalClass).text(i)),"progress"===y.params.paginationType){var n=(r+1)/i,o=n,l=1;y.isHorizontal()||(l=n,o=1),y.paginationContainer.find("."+y.params.paginationProgressbarClass).transform("translate3d(0,0,0) scaleX("+o+") scaleY("+l+")").transition(y.params.speed)}"custom"===y.params.paginationType&&y.params.paginationCustomRender&&(y.paginationContainer.html(y.params.paginationCustomRender(y,r+1,i)),y.emit("onPaginationRendered",y,y.paginationContainer[0]))}y.params.loop||(y.params.prevButton&&y.prevButton&&y.prevButton.length>0&&(y.isBeginning?(y.prevButton.addClass(y.params.buttonDisabledClass),y.params.a11y&&y.a11y&&y.a11y.disable(y.prevButton)):(y.prevButton.removeClass(y.params.buttonDisabledClass),y.params.a11y&&y.a11y&&y.a11y.enable(y.prevButton))),y.params.nextButton&&y.nextButton&&y.nextButton.length>0&&(y.isEnd?(y.nextButton.addClass(y.params.buttonDisabledClass),y.params.a11y&&y.a11y&&y.a11y.disable(y.nextButton)):(y.nextButton.removeClass(y.params.buttonDisabledClass),y.params.a11y&&y.a11y&&y.a11y.enable(y.nextButton))))},y.updatePagination=function(){if(y.params.pagination&&y.paginationContainer&&y.paginationContainer.length>0){var e="";if("bullets"===y.params.paginationType){for(var a=y.params.loop?Math.ceil((y.slides.length-2*y.loopedSlides)/y.params.slidesPerGroup):y.snapGrid.length,t=0;a>t;t++)e+=y.params.paginationBulletRender?y.params.paginationBulletRender(t,y.params.bulletClass):"<"+y.params.paginationElement+' class="'+y.params.bulletClass+'"></'+y.params.paginationElement+">";y.paginationContainer.html(e),y.bullets=y.paginationContainer.find("."+y.params.bulletClass),y.params.paginationClickable&&y.params.a11y&&y.a11y&&y.a11y.initPagination()}"fraction"===y.params.paginationType&&(e=y.params.paginationFractionRender?y.params.paginationFractionRender(y,y.params.paginationCurrentClass,y.params.paginationTotalClass):'<span class="'+y.params.paginationCurrentClass+'"></span> / <span class="'+y.params.paginationTotalClass+'"></span>',y.paginationContainer.html(e)),"progress"===y.params.paginationType&&(e=y.params.paginationProgressRender?y.params.paginationProgressRender(y,y.params.paginationProgressbarClass):'<span class="'+y.params.paginationProgressbarClass+'"></span>',y.paginationContainer.html(e)),"custom"!==y.params.paginationType&&y.emit("onPaginationRendered",y,y.paginationContainer[0])}},y.update=function(e){function a(){s=Math.min(Math.max(y.translate,y.maxTranslate()),y.minTranslate()),y.setWrapperTranslate(s),y.updateActiveIndex(),y.updateClasses()}if(y.updateContainerSize(),y.updateSlidesSize(),y.updateProgress(),y.updatePagination(),y.updateClasses(),y.params.scrollbar&&y.scrollbar&&y.scrollbar.set(),e){var t,s;y.controller&&y.controller.spline&&(y.controller.spline=void 0),y.params.freeMode?(a(),y.params.autoHeight&&y.updateAutoHeight()):(t=("auto"===y.params.slidesPerView||y.params.slidesPerView>1)&&y.isEnd&&!y.params.centeredSlides?y.slideTo(y.slides.length-1,0,!1,!0):y.slideTo(y.activeIndex,0,!1,!0),t||a())}else y.params.autoHeight&&y.updateAutoHeight()},y.onResize=function(e){y.params.breakpoints&&y.setBreakpoint();var a=y.params.allowSwipeToPrev,t=y.params.allowSwipeToNext;y.params.allowSwipeToPrev=y.params.allowSwipeToNext=!0,y.updateContainerSize(),y.updateSlidesSize(),("auto"===y.params.slidesPerView||y.params.freeMode||e)&&y.updatePagination(),y.params.scrollbar&&y.scrollbar&&y.scrollbar.set(),y.controller&&y.controller.spline&&(y.controller.spline=void 0);var s=!1;if(y.params.freeMode){var r=Math.min(Math.max(y.translate,y.maxTranslate()),y.minTranslate());y.setWrapperTranslate(r),y.updateActiveIndex(),y.updateClasses(),y.params.autoHeight&&y.updateAutoHeight()}else y.updateClasses(),s=("auto"===y.params.slidesPerView||y.params.slidesPerView>1)&&y.isEnd&&!y.params.centeredSlides?y.slideTo(y.slides.length-1,0,!1,!0):y.slideTo(y.activeIndex,0,!1,!0);y.params.lazyLoading&&!s&&y.lazy&&y.lazy.load(),y.params.allowSwipeToPrev=a,y.params.allowSwipeToNext=t};var x=["mousedown","mousemove","mouseup"];window.navigator.pointerEnabled?x=["pointerdown","pointermove","pointerup"]:window.navigator.msPointerEnabled&&(x=["MSPointerDown","MSPointerMove","MSPointerUp"]),y.touchEvents={start:y.support.touch||!y.params.simulateTouch?"touchstart":x[0],move:y.support.touch||!y.params.simulateTouch?"touchmove":x[1],end:y.support.touch||!y.params.simulateTouch?"touchend":x[2]},(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&("container"===y.params.touchEventsTarget?y.container:y.wrapper).addClass("swiper-wp8-"+y.params.direction),y.initEvents=function(e){var a=e?"off":"on",t=e?"removeEventListener":"addEventListener",r="container"===y.params.touchEventsTarget?y.container[0]:y.wrapper[0],i=y.support.touch?r:document,n=y.params.nested?!0:!1;y.browser.ie?(r[t](y.touchEvents.start,y.onTouchStart,!1),i[t](y.touchEvents.move,y.onTouchMove,n),i[t](y.touchEvents.end,y.onTouchEnd,!1)):(y.support.touch&&(r[t](y.touchEvents.start,y.onTouchStart,!1),r[t](y.touchEvents.move,y.onTouchMove,n),r[t](y.touchEvents.end,y.onTouchEnd,!1)),!s.simulateTouch||y.device.ios||y.device.android||(r[t]("mousedown",y.onTouchStart,!1),document[t]("mousemove",y.onTouchMove,n),document[t]("mouseup",y.onTouchEnd,!1))),window[t]("resize",y.onResize),y.params.nextButton&&y.nextButton&&y.nextButton.length>0&&(y.nextButton[a]("click",y.onClickNext),y.params.a11y&&y.a11y&&y.nextButton[a]("keydown",y.a11y.onEnterKey)),y.params.prevButton&&y.prevButton&&y.prevButton.length>0&&(y.prevButton[a]("click",y.onClickPrev),y.params.a11y&&y.a11y&&y.prevButton[a]("keydown",y.a11y.onEnterKey)),y.params.pagination&&y.params.paginationClickable&&(y.paginationContainer[a]("click","."+y.params.bulletClass,y.onClickIndex),y.params.a11y&&y.a11y&&y.paginationContainer[a]("keydown","."+y.params.bulletClass,y.a11y.onEnterKey)),(y.params.preventClicks||y.params.preventClicksPropagation)&&r[t]("click",y.preventClicks,!0)},y.attachEvents=function(){y.initEvents()},y.detachEvents=function(){y.initEvents(!0)},y.allowClick=!0,y.preventClicks=function(e){y.allowClick||(y.params.preventClicks&&e.preventDefault(),y.params.preventClicksPropagation&&y.animating&&(e.stopPropagation(),e.stopImmediatePropagation()))},y.onClickNext=function(e){e.preventDefault(),(!y.isEnd||y.params.loop)&&y.slideNext()},y.onClickPrev=function(e){e.preventDefault(),(!y.isBeginning||y.params.loop)&&y.slidePrev()},y.onClickIndex=function(a){a.preventDefault();var t=e(this).index()*y.params.slidesPerGroup;y.params.loop&&(t+=y.loopedSlides),y.slideTo(t)},y.updateClickedSlide=function(a){var t=n(a,"."+y.params.slideClass),s=!1;if(t)for(var r=0;r<y.slides.length;r++)y.slides[r]===t&&(s=!0);if(!t||!s)return y.clickedSlide=void 0,void(y.clickedIndex=void 0);if(y.clickedSlide=t,y.clickedIndex=e(t).index(),y.params.slideToClickedSlide&&void 0!==y.clickedIndex&&y.clickedIndex!==y.activeIndex){var i,o=y.clickedIndex;if(y.params.loop){if(y.animating)return;i=e(y.clickedSlide).attr("data-swiper-slide-index"),y.params.centeredSlides?o<y.loopedSlides-y.params.slidesPerView/2||o>y.slides.length-y.loopedSlides+y.params.slidesPerView/2?(y.fixLoop(),o=y.wrapper.children("."+y.params.slideClass+'[data-swiper-slide-index="'+i+'"]:not(.swiper-slide-duplicate)').eq(0).index(),setTimeout(function(){y.slideTo(o)},0)):y.slideTo(o):o>y.slides.length-y.params.slidesPerView?(y.fixLoop(),o=y.wrapper.children("."+y.params.slideClass+'[data-swiper-slide-index="'+i+'"]:not(.swiper-slide-duplicate)').eq(0).index(),setTimeout(function(){y.slideTo(o)},0)):y.slideTo(o)}else y.slideTo(o)}};var T,S,C,z,M,P,I,k,E,B,D="input, select, textarea, button",L=Date.now(),H=[];y.animating=!1,y.touches={startX:0,startY:0,currentX:0,currentY:0,diff:0};var G,A;if(y.onTouchStart=function(a){if(a.originalEvent&&(a=a.originalEvent),G="touchstart"===a.type,G||!("which"in a)||3!==a.which){if(y.params.noSwiping&&n(a,"."+y.params.noSwipingClass))return void(y.allowClick=!0);if(!y.params.swipeHandler||n(a,y.params.swipeHandler)){var t=y.touches.currentX="touchstart"===a.type?a.targetTouches[0].pageX:a.pageX,s=y.touches.currentY="touchstart"===a.type?a.targetTouches[0].pageY:a.pageY;if(!(y.device.ios&&y.params.iOSEdgeSwipeDetection&&t<=y.params.iOSEdgeSwipeThreshold)){if(T=!0,S=!1,C=!0,M=void 0,A=void 0,y.touches.startX=t,y.touches.startY=s,z=Date.now(),y.allowClick=!0,y.updateContainerSize(),y.swipeDirection=void 0,y.params.threshold>0&&(k=!1),"touchstart"!==a.type){var r=!0;e(a.target).is(D)&&(r=!1),document.activeElement&&e(document.activeElement).is(D)&&document.activeElement.blur(),r&&a.preventDefault()}y.emit("onTouchStart",y,a)}}}},y.onTouchMove=function(a){if(a.originalEvent&&(a=a.originalEvent),!G||"mousemove"!==a.type){if(a.preventedByNestedSwiper)return y.touches.startX="touchmove"===a.type?a.targetTouches[0].pageX:a.pageX,void(y.touches.startY="touchmove"===a.type?a.targetTouches[0].pageY:a.pageY);if(y.params.onlyExternal)return y.allowClick=!1,void(T&&(y.touches.startX=y.touches.currentX="touchmove"===a.type?a.targetTouches[0].pageX:a.pageX,y.touches.startY=y.touches.currentY="touchmove"===a.type?a.targetTouches[0].pageY:a.pageY,z=Date.now()));if(G&&document.activeElement&&a.target===document.activeElement&&e(a.target).is(D))return S=!0,void(y.allowClick=!1);if(C&&y.emit("onTouchMove",y,a),!(a.targetTouches&&a.targetTouches.length>1)){if(y.touches.currentX="touchmove"===a.type?a.targetTouches[0].pageX:a.pageX,y.touches.currentY="touchmove"===a.type?a.targetTouches[0].pageY:a.pageY,"undefined"==typeof M){var t=180*Math.atan2(Math.abs(y.touches.currentY-y.touches.startY),Math.abs(y.touches.currentX-y.touches.startX))/Math.PI;M=y.isHorizontal()?t>y.params.touchAngle:90-t>y.params.touchAngle}if(M&&y.emit("onTouchMoveOpposite",y,a),"undefined"==typeof A&&y.browser.ieTouch&&(y.touches.currentX!==y.touches.startX||y.touches.currentY!==y.touches.startY)&&(A=!0),T){if(M)return void(T=!1);if(A||!y.browser.ieTouch){y.allowClick=!1,y.emit("onSliderMove",y,a),a.preventDefault(),y.params.touchMoveStopPropagation&&!y.params.nested&&a.stopPropagation(),S||(s.loop&&y.fixLoop(),I=y.getWrapperTranslate(),y.setWrapperTransition(0),y.animating&&y.wrapper.trigger("webkitTransitionEnd transitionend oTransitionEnd MSTransitionEnd msTransitionEnd"),y.params.autoplay&&y.autoplaying&&(y.params.autoplayDisableOnInteraction?y.stopAutoplay():y.pauseAutoplay()),B=!1,y.params.grabCursor&&(y.container[0].style.cursor="move",y.container[0].style.cursor="-webkit-grabbing",y.container[0].style.cursor="-moz-grabbin",y.container[0].style.cursor="grabbing")),S=!0;var r=y.touches.diff=y.isHorizontal()?y.touches.currentX-y.touches.startX:y.touches.currentY-y.touches.startY;r*=y.params.touchRatio,y.rtl&&(r=-r),y.swipeDirection=r>0?"prev":"next",P=r+I;var i=!0;if(r>0&&P>y.minTranslate()?(i=!1,y.params.resistance&&(P=y.minTranslate()-1+Math.pow(-y.minTranslate()+I+r,y.params.resistanceRatio))):0>r&&P<y.maxTranslate()&&(i=!1,y.params.resistance&&(P=y.maxTranslate()+1-Math.pow(y.maxTranslate()-I-r,y.params.resistanceRatio))),i&&(a.preventedByNestedSwiper=!0),!y.params.allowSwipeToNext&&"next"===y.swipeDirection&&I>P&&(P=I),!y.params.allowSwipeToPrev&&"prev"===y.swipeDirection&&P>I&&(P=I),y.params.followFinger){if(y.params.threshold>0){if(!(Math.abs(r)>y.params.threshold||k))return void(P=I);if(!k)return k=!0,y.touches.startX=y.touches.currentX,y.touches.startY=y.touches.currentY,P=I,void(y.touches.diff=y.isHorizontal()?y.touches.currentX-y.touches.startX:y.touches.currentY-y.touches.startY)}(y.params.freeMode||y.params.watchSlidesProgress)&&y.updateActiveIndex(),y.params.freeMode&&(0===H.length&&H.push({position:y.touches[y.isHorizontal()?"startX":"startY"],time:z}),H.push({position:y.touches[y.isHorizontal()?"currentX":"currentY"],time:(new window.Date).getTime()})),y.updateProgress(P),y.setWrapperTranslate(P)}}}}}},y.onTouchEnd=function(a){if(a.originalEvent&&(a=a.originalEvent),C&&y.emit("onTouchEnd",y,a),C=!1,T){y.params.grabCursor&&S&&T&&(y.container[0].style.cursor="move",y.container[0].style.cursor="-webkit-grab",y.container[0].style.cursor="-moz-grab",y.container[0].style.cursor="grab");var t=Date.now(),s=t-z;if(y.allowClick&&(y.updateClickedSlide(a),y.emit("onTap",y,a),300>s&&t-L>300&&(E&&clearTimeout(E),E=setTimeout(function(){y&&(y.params.paginationHide&&y.paginationContainer.length>0&&!e(a.target).hasClass(y.params.bulletClass)&&y.paginationContainer.toggleClass(y.params.paginationHiddenClass),y.emit("onClick",y,a))},300)),300>s&&300>t-L&&(E&&clearTimeout(E),y.emit("onDoubleTap",y,a))),L=Date.now(),setTimeout(function(){y&&(y.allowClick=!0)},0),!T||!S||!y.swipeDirection||0===y.touches.diff||P===I)return void(T=S=!1);T=S=!1;var r;if(r=y.params.followFinger?y.rtl?y.translate:-y.translate:-P,y.params.freeMode){if(r<-y.minTranslate())return void y.slideTo(y.activeIndex);if(r>-y.maxTranslate())return void(y.slides.length<y.snapGrid.length?y.slideTo(y.snapGrid.length-1):y.slideTo(y.slides.length-1));if(y.params.freeModeMomentum){if(H.length>1){var i=H.pop(),n=H.pop(),o=i.position-n.position,l=i.time-n.time;y.velocity=o/l,y.velocity=y.velocity/2,Math.abs(y.velocity)<y.params.freeModeMinimumVelocity&&(y.velocity=0),(l>150||(new window.Date).getTime()-i.time>300)&&(y.velocity=0)}else y.velocity=0;H.length=0;var p=1e3*y.params.freeModeMomentumRatio,d=y.velocity*p,u=y.translate+d;y.rtl&&(u=-u);var c,m=!1,f=20*Math.abs(y.velocity)*y.params.freeModeMomentumBounceRatio;if(u<y.maxTranslate())y.params.freeModeMomentumBounce?(u+y.maxTranslate()<-f&&(u=y.maxTranslate()-f),c=y.maxTranslate(),m=!0,B=!0):u=y.maxTranslate();else if(u>y.minTranslate())y.params.freeModeMomentumBounce?(u-y.minTranslate()>f&&(u=y.minTranslate()+f),c=y.minTranslate(),m=!0,B=!0):u=y.minTranslate();else if(y.params.freeModeSticky){var g,h=0;for(h=0;h<y.snapGrid.length;h+=1)if(y.snapGrid[h]>-u){g=h;break}u=Math.abs(y.snapGrid[g]-u)<Math.abs(y.snapGrid[g-1]-u)||"next"===y.swipeDirection?y.snapGrid[g]:y.snapGrid[g-1],y.rtl||(u=-u)}if(0!==y.velocity)p=y.rtl?Math.abs((-u-y.translate)/y.velocity):Math.abs((u-y.translate)/y.velocity);else if(y.params.freeModeSticky)return void y.slideReset();y.params.freeModeMomentumBounce&&m?(y.updateProgress(c),y.setWrapperTransition(p),y.setWrapperTranslate(u),y.onTransitionStart(),y.animating=!0,y.wrapper.transitionEnd(function(){y&&B&&(y.emit("onMomentumBounce",y),y.setWrapperTransition(y.params.speed),y.setWrapperTranslate(c),y.wrapper.transitionEnd(function(){y&&y.onTransitionEnd()}))})):y.velocity?(y.updateProgress(u),y.setWrapperTransition(p),y.setWrapperTranslate(u),y.onTransitionStart(),y.animating||(y.animating=!0,y.wrapper.transitionEnd(function(){y&&y.onTransitionEnd()}))):y.updateProgress(u),y.updateActiveIndex()}return void((!y.params.freeModeMomentum||s>=y.params.longSwipesMs)&&(y.updateProgress(),y.updateActiveIndex()))}var v,w=0,b=y.slidesSizesGrid[0];for(v=0;v<y.slidesGrid.length;v+=y.params.slidesPerGroup)"undefined"!=typeof y.slidesGrid[v+y.params.slidesPerGroup]?r>=y.slidesGrid[v]&&r<y.slidesGrid[v+y.params.slidesPerGroup]&&(w=v,b=y.slidesGrid[v+y.params.slidesPerGroup]-y.slidesGrid[v]):r>=y.slidesGrid[v]&&(w=v,b=y.slidesGrid[y.slidesGrid.length-1]-y.slidesGrid[y.slidesGrid.length-2]);var x=(r-y.slidesGrid[w])/b;if(s>y.params.longSwipesMs){if(!y.params.longSwipes)return void y.slideTo(y.activeIndex);"next"===y.swipeDirection&&(x>=y.params.longSwipesRatio?y.slideTo(w+y.params.slidesPerGroup):y.slideTo(w)),"prev"===y.swipeDirection&&(x>1-y.params.longSwipesRatio?y.slideTo(w+y.params.slidesPerGroup):y.slideTo(w))}else{if(!y.params.shortSwipes)return void y.slideTo(y.activeIndex);"next"===y.swipeDirection&&y.slideTo(w+y.params.slidesPerGroup),"prev"===y.swipeDirection&&y.slideTo(w)}}},y._slideTo=function(e,a){return y.slideTo(e,a,!0,!0)},y.slideTo=function(e,a,t,s){"undefined"==typeof t&&(t=!0),"undefined"==typeof e&&(e=0),0>e&&(e=0),y.snapIndex=Math.floor(e/y.params.slidesPerGroup),y.snapIndex>=y.snapGrid.length&&(y.snapIndex=y.snapGrid.length-1);var r=-y.snapGrid[y.snapIndex];y.params.autoplay&&y.autoplaying&&(s||!y.params.autoplayDisableOnInteraction?y.pauseAutoplay(a):y.stopAutoplay()),y.updateProgress(r);for(var i=0;i<y.slidesGrid.length;i++)-Math.floor(100*r)>=Math.floor(100*y.slidesGrid[i])&&(e=i);return!y.params.allowSwipeToNext&&r<y.translate&&r<y.minTranslate()?!1:!y.params.allowSwipeToPrev&&r>y.translate&&r>y.maxTranslate()&&(y.activeIndex||0)!==e?!1:("undefined"==typeof a&&(a=y.params.speed),y.previousIndex=y.activeIndex||0,y.activeIndex=e,y.rtl&&-r===y.translate||!y.rtl&&r===y.translate?(y.params.autoHeight&&y.updateAutoHeight(),y.updateClasses(),"slide"!==y.params.effect&&y.setWrapperTranslate(r),!1):(y.updateClasses(),y.onTransitionStart(t),0===a?(y.setWrapperTranslate(r),y.setWrapperTransition(0),y.onTransitionEnd(t)):(y.setWrapperTranslate(r),y.setWrapperTransition(a),y.animating||(y.animating=!0,y.wrapper.transitionEnd(function(){y&&y.onTransitionEnd(t)}))),!0))},y.onTransitionStart=function(e){"undefined"==typeof e&&(e=!0),y.params.autoHeight&&y.updateAutoHeight(),y.lazy&&y.lazy.onTransitionStart(),e&&(y.emit("onTransitionStart",y),y.activeIndex!==y.previousIndex&&(y.emit("onSlideChangeStart",y),y.activeIndex>y.previousIndex?y.emit("onSlideNextStart",y):y.emit("onSlidePrevStart",y)))},y.onTransitionEnd=function(e){y.animating=!1,y.setWrapperTransition(0),"undefined"==typeof e&&(e=!0),y.lazy&&y.lazy.onTransitionEnd(),e&&(y.emit("onTransitionEnd",y),y.activeIndex!==y.previousIndex&&(y.emit("onSlideChangeEnd",y),y.activeIndex>y.previousIndex?y.emit("onSlideNextEnd",y):y.emit("onSlidePrevEnd",y))),y.params.hashnav&&y.hashnav&&y.hashnav.setHash()},y.slideNext=function(e,a,t){if(y.params.loop){if(y.animating)return!1;y.fixLoop();y.container[0].clientLeft;return y.slideTo(y.activeIndex+y.params.slidesPerGroup,a,e,t)}return y.slideTo(y.activeIndex+y.params.slidesPerGroup,a,e,t)},y._slideNext=function(e){return y.slideNext(!0,e,!0)},y.slidePrev=function(e,a,t){if(y.params.loop){if(y.animating)return!1;y.fixLoop();y.container[0].clientLeft;return y.slideTo(y.activeIndex-1,a,e,t)}return y.slideTo(y.activeIndex-1,a,e,t)},y._slidePrev=function(e){return y.slidePrev(!0,e,!0)},y.slideReset=function(e,a,t){return y.slideTo(y.activeIndex,a,e)},y.setWrapperTransition=function(e,a){y.wrapper.transition(e),"slide"!==y.params.effect&&y.effects[y.params.effect]&&y.effects[y.params.effect].setTransition(e),y.params.parallax&&y.parallax&&y.parallax.setTransition(e),y.params.scrollbar&&y.scrollbar&&y.scrollbar.setTransition(e),y.params.control&&y.controller&&y.controller.setTransition(e,a),y.emit("onSetTransition",y,e)},y.setWrapperTranslate=function(e,a,t){var s=0,i=0,n=0;y.isHorizontal()?s=y.rtl?-e:e:i=e,y.params.roundLengths&&(s=r(s),i=r(i)),y.params.virtualTranslate||(y.support.transforms3d?y.wrapper.transform("translate3d("+s+"px, "+i+"px, "+n+"px)"):y.wrapper.transform("translate("+s+"px, "+i+"px)")),y.translate=y.isHorizontal()?s:i;var o,l=y.maxTranslate()-y.minTranslate();o=0===l?0:(e-y.minTranslate())/l,o!==y.progress&&y.updateProgress(e),a&&y.updateActiveIndex(),"slide"!==y.params.effect&&y.effects[y.params.effect]&&y.effects[y.params.effect].setTranslate(y.translate),y.params.parallax&&y.parallax&&y.parallax.setTranslate(y.translate),y.params.scrollbar&&y.scrollbar&&y.scrollbar.setTranslate(y.translate),y.params.control&&y.controller&&y.controller.setTranslate(y.translate,t),y.emit("onSetTranslate",y,y.translate)},y.getTranslate=function(e,a){var t,s,r,i;return"undefined"==typeof a&&(a="x"),y.params.virtualTranslate?y.rtl?-y.translate:y.translate:(r=window.getComputedStyle(e,null),window.WebKitCSSMatrix?(s=r.transform||r.webkitTransform,s.split(",").length>6&&(s=s.split(", ").map(function(e){return e.replace(",",".")}).join(", ")),i=new window.WebKitCSSMatrix("none"===s?"":s)):(i=r.MozTransform||r.OTransform||r.MsTransform||r.msTransform||r.transform||r.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),t=i.toString().split(",")),"x"===a&&(s=window.WebKitCSSMatrix?i.m41:16===t.length?parseFloat(t[12]):parseFloat(t[4])),"y"===a&&(s=window.WebKitCSSMatrix?i.m42:16===t.length?parseFloat(t[13]):parseFloat(t[5])),y.rtl&&s&&(s=-s),s||0)},y.getWrapperTranslate=function(e){return"undefined"==typeof e&&(e=y.isHorizontal()?"x":"y"),y.getTranslate(y.wrapper[0],e)},y.observers=[],y.initObservers=function(){if(y.params.observeParents)for(var e=y.container.parents(),a=0;a<e.length;a++)o(e[a]);o(y.container[0],{childList:!1}),o(y.wrapper[0],{attributes:!1})},y.disconnectObservers=function(){for(var e=0;e<y.observers.length;e++)y.observers[e].disconnect();y.observers=[]},y.createLoop=function(){y.wrapper.children("."+y.params.slideClass+"."+y.params.slideDuplicateClass).remove();var a=y.wrapper.children("."+y.params.slideClass);"auto"!==y.params.slidesPerView||y.params.loopedSlides||(y.params.loopedSlides=a.length),y.loopedSlides=parseInt(y.params.loopedSlides||y.params.slidesPerView,10),y.loopedSlides=y.loopedSlides+y.params.loopAdditionalSlides,y.loopedSlides>a.length&&(y.loopedSlides=a.length);var t,s=[],r=[];for(a.each(function(t,i){var n=e(this);t<y.loopedSlides&&r.push(i),t<a.length&&t>=a.length-y.loopedSlides&&s.push(i),n.attr("data-swiper-slide-index",t)}),t=0;t<r.length;t++)y.wrapper.append(e(r[t].cloneNode(!0)).addClass(y.params.slideDuplicateClass));for(t=s.length-1;t>=0;t--)y.wrapper.prepend(e(s[t].cloneNode(!0)).addClass(y.params.slideDuplicateClass))},y.destroyLoop=function(){y.wrapper.children("."+y.params.slideClass+"."+y.params.slideDuplicateClass).remove(),y.slides.removeAttr("data-swiper-slide-index")},y.reLoop=function(e){var a=y.activeIndex-y.loopedSlides;y.destroyLoop(),y.createLoop(),y.updateSlidesSize(),e&&y.slideTo(a+y.loopedSlides,0,!1)},y.fixLoop=function(){var e;y.activeIndex<y.loopedSlides?(e=y.slides.length-3*y.loopedSlides+y.activeIndex,e+=y.loopedSlides,y.slideTo(e,0,!1,!0)):("auto"===y.params.slidesPerView&&y.activeIndex>=2*y.loopedSlides||y.activeIndex>y.slides.length-2*y.params.slidesPerView)&&(e=-y.slides.length+y.activeIndex+y.loopedSlides,e+=y.loopedSlides,y.slideTo(e,0,!1,!0))},y.appendSlide=function(e){if(y.params.loop&&y.destroyLoop(),"object"==typeof e&&e.length)for(var a=0;a<e.length;a++)e[a]&&y.wrapper.append(e[a]);else y.wrapper.append(e);y.params.loop&&y.createLoop(),y.params.observer&&y.support.observer||y.update(!0)},y.prependSlide=function(e){y.params.loop&&y.destroyLoop();var a=y.activeIndex+1;if("object"==typeof e&&e.length){for(var t=0;t<e.length;t++)e[t]&&y.wrapper.prepend(e[t]);a=y.activeIndex+e.length}else y.wrapper.prepend(e);y.params.loop&&y.createLoop(),y.params.observer&&y.support.observer||y.update(!0),y.slideTo(a,0,!1)},y.removeSlide=function(e){y.params.loop&&(y.destroyLoop(),y.slides=y.wrapper.children("."+y.params.slideClass));var a,t=y.activeIndex;if("object"==typeof e&&e.length){for(var s=0;s<e.length;s++)a=e[s],y.slides[a]&&y.slides.eq(a).remove(),t>a&&t--;t=Math.max(t,0)}else a=e,y.slides[a]&&y.slides.eq(a).remove(),t>a&&t--,t=Math.max(t,0);y.params.loop&&y.createLoop(),y.params.observer&&y.support.observer||y.update(!0),y.params.loop?y.slideTo(t+y.loopedSlides,0,!1):y.slideTo(t,0,!1)},y.removeAllSlides=function(){for(var e=[],a=0;a<y.slides.length;a++)e.push(a);y.removeSlide(e)},y.effects={fade:{setTranslate:function(){for(var e=0;e<y.slides.length;e++){var a=y.slides.eq(e),t=a[0].swiperSlideOffset,s=-t;y.params.virtualTranslate||(s-=y.translate);var r=0;y.isHorizontal()||(r=s,s=0);var i=y.params.fade.crossFade?Math.max(1-Math.abs(a[0].progress),0):1+Math.min(Math.max(a[0].progress,-1),0);a.css({opacity:i}).transform("translate3d("+s+"px, "+r+"px, 0px)")}},setTransition:function(e){if(y.slides.transition(e),y.params.virtualTranslate&&0!==e){var a=!1;y.slides.transitionEnd(function(){if(!a&&y){a=!0,y.animating=!1;for(var e=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],t=0;t<e.length;t++)y.wrapper.trigger(e[t])}})}}},flip:{setTranslate:function(){for(var a=0;a<y.slides.length;a++){var t=y.slides.eq(a),s=t[0].progress;y.params.flip.limitRotation&&(s=Math.max(Math.min(t[0].progress,1),-1));var r=t[0].swiperSlideOffset,i=-180*s,n=i,o=0,l=-r,p=0;if(y.isHorizontal()?y.rtl&&(n=-n):(p=l,l=0,o=-n,n=0),t[0].style.zIndex=-Math.abs(Math.round(s))+y.slides.length,y.params.flip.slideShadows){var d=y.isHorizontal()?t.find(".swiper-slide-shadow-left"):t.find(".swiper-slide-shadow-top"),u=y.isHorizontal()?t.find(".swiper-slide-shadow-right"):t.find(".swiper-slide-shadow-bottom");0===d.length&&(d=e('<div class="swiper-slide-shadow-'+(y.isHorizontal()?"left":"top")+'"></div>'),t.append(d)),0===u.length&&(u=e('<div class="swiper-slide-shadow-'+(y.isHorizontal()?"right":"bottom")+'"></div>'),t.append(u)),d.length&&(d[0].style.opacity=Math.max(-s,0)),u.length&&(u[0].style.opacity=Math.max(s,0))}t.transform("translate3d("+l+"px, "+p+"px, 0px) rotateX("+o+"deg) rotateY("+n+"deg)")}},setTransition:function(a){if(y.slides.transition(a).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(a),y.params.virtualTranslate&&0!==a){var t=!1;y.slides.eq(y.activeIndex).transitionEnd(function(){if(!t&&y&&e(this).hasClass(y.params.slideActiveClass)){t=!0,y.animating=!1;for(var a=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],s=0;s<a.length;s++)y.wrapper.trigger(a[s])}})}}},cube:{setTranslate:function(){var a,t=0;y.params.cube.shadow&&(y.isHorizontal()?(a=y.wrapper.find(".swiper-cube-shadow"),0===a.length&&(a=e('<div class="swiper-cube-shadow"></div>'),y.wrapper.append(a)),a.css({height:y.width+"px"})):(a=y.container.find(".swiper-cube-shadow"),0===a.length&&(a=e('<div class="swiper-cube-shadow"></div>'),y.container.append(a))));for(var s=0;s<y.slides.length;s++){var r=y.slides.eq(s),i=90*s,n=Math.floor(i/360);y.rtl&&(i=-i,n=Math.floor(-i/360));var o=Math.max(Math.min(r[0].progress,1),-1),l=0,p=0,d=0;s%4===0?(l=4*-n*y.size,d=0):(s-1)%4===0?(l=0,d=4*-n*y.size):(s-2)%4===0?(l=y.size+4*n*y.size,d=y.size):(s-3)%4===0&&(l=-y.size,d=3*y.size+4*y.size*n),y.rtl&&(l=-l),y.isHorizontal()||(p=l,l=0);var u="rotateX("+(y.isHorizontal()?0:-i)+"deg) rotateY("+(y.isHorizontal()?i:0)+"deg) translate3d("+l+"px, "+p+"px, "+d+"px)";if(1>=o&&o>-1&&(t=90*s+90*o,y.rtl&&(t=90*-s-90*o)),r.transform(u),y.params.cube.slideShadows){var c=y.isHorizontal()?r.find(".swiper-slide-shadow-left"):r.find(".swiper-slide-shadow-top"),m=y.isHorizontal()?r.find(".swiper-slide-shadow-right"):r.find(".swiper-slide-shadow-bottom");0===c.length&&(c=e('<div class="swiper-slide-shadow-'+(y.isHorizontal()?"left":"top")+'"></div>'),r.append(c)),0===m.length&&(m=e('<div class="swiper-slide-shadow-'+(y.isHorizontal()?"right":"bottom")+'"></div>'),r.append(m)),c.length&&(c[0].style.opacity=Math.max(-o,0)),m.length&&(m[0].style.opacity=Math.max(o,0))}}if(y.wrapper.css({"-webkit-transform-origin":"50% 50% -"+y.size/2+"px","-moz-transform-origin":"50% 50% -"+y.size/2+"px","-ms-transform-origin":"50% 50% -"+y.size/2+"px","transform-origin":"50% 50% -"+y.size/2+"px"}),y.params.cube.shadow)if(y.isHorizontal())a.transform("translate3d(0px, "+(y.width/2+y.params.cube.shadowOffset)+"px, "+-y.width/2+"px) rotateX(90deg) rotateZ(0deg) scale("+y.params.cube.shadowScale+")");else{var f=Math.abs(t)-90*Math.floor(Math.abs(t)/90),g=1.5-(Math.sin(2*f*Math.PI/360)/2+Math.cos(2*f*Math.PI/360)/2),h=y.params.cube.shadowScale,v=y.params.cube.shadowScale/g,w=y.params.cube.shadowOffset;a.transform("scale3d("+h+", 1, "+v+") translate3d(0px, "+(y.height/2+w)+"px, "+-y.height/2/v+"px) rotateX(-90deg)")}var b=y.isSafari||y.isUiWebView?-y.size/2:0;y.wrapper.transform("translate3d(0px,0,"+b+"px) rotateX("+(y.isHorizontal()?0:t)+"deg) rotateY("+(y.isHorizontal()?-t:0)+"deg)")},setTransition:function(e){y.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),y.params.cube.shadow&&!y.isHorizontal()&&y.container.find(".swiper-cube-shadow").transition(e)}},coverflow:{setTranslate:function(){for(var a=y.translate,t=y.isHorizontal()?-a+y.width/2:-a+y.height/2,s=y.isHorizontal()?y.params.coverflow.rotate:-y.params.coverflow.rotate,r=y.params.coverflow.depth,i=0,n=y.slides.length;n>i;i++){var o=y.slides.eq(i),l=y.slidesSizesGrid[i],p=o[0].swiperSlideOffset,d=(t-p-l/2)/l*y.params.coverflow.modifier,u=y.isHorizontal()?s*d:0,c=y.isHorizontal()?0:s*d,m=-r*Math.abs(d),f=y.isHorizontal()?0:y.params.coverflow.stretch*d,g=y.isHorizontal()?y.params.coverflow.stretch*d:0;Math.abs(g)<.001&&(g=0),Math.abs(f)<.001&&(f=0),Math.abs(m)<.001&&(m=0),Math.abs(u)<.001&&(u=0),Math.abs(c)<.001&&(c=0);var h="translate3d("+g+"px,"+f+"px,"+m+"px)  rotateX("+c+"deg) rotateY("+u+"deg)";if(o.transform(h),o[0].style.zIndex=-Math.abs(Math.round(d))+1,y.params.coverflow.slideShadows){var v=y.isHorizontal()?o.find(".swiper-slide-shadow-left"):o.find(".swiper-slide-shadow-top"),w=y.isHorizontal()?o.find(".swiper-slide-shadow-right"):o.find(".swiper-slide-shadow-bottom");0===v.length&&(v=e('<div class="swiper-slide-shadow-'+(y.isHorizontal()?"left":"top")+'"></div>'),o.append(v)),0===w.length&&(w=e('<div class="swiper-slide-shadow-'+(y.isHorizontal()?"right":"bottom")+'"></div>'),o.append(w)),v.length&&(v[0].style.opacity=d>0?d:0),w.length&&(w[0].style.opacity=-d>0?-d:0)}}if(y.browser.ie){var b=y.wrapper[0].style;b.perspectiveOrigin=t+"px 50%"}},setTransition:function(e){y.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e)}}},y.lazy={initialImageLoaded:!1,loadImageInSlide:function(a,t){if("undefined"!=typeof a&&("undefined"==typeof t&&(t=!0),0!==y.slides.length)){var s=y.slides.eq(a),r=s.find(".swiper-lazy:not(.swiper-lazy-loaded):not(.swiper-lazy-loading)");!s.hasClass("swiper-lazy")||s.hasClass("swiper-lazy-loaded")||s.hasClass("swiper-lazy-loading")||(r=r.add(s[0])),0!==r.length&&r.each(function(){var a=e(this);a.addClass("swiper-lazy-loading");var r=a.attr("data-background"),i=a.attr("data-src"),n=a.attr("data-srcset");y.loadImage(a[0],i||r,n,!1,function(){if(r?(a.css("background-image",'url("'+r+'")'),a.removeAttr("data-background")):(n&&(a.attr("srcset",n),a.removeAttr("data-srcset")),i&&(a.attr("src",i),a.removeAttr("data-src"))),a.addClass("swiper-lazy-loaded").removeClass("swiper-lazy-loading"),s.find(".swiper-lazy-preloader, .preloader").remove(),y.params.loop&&t){var e=s.attr("data-swiper-slide-index");if(s.hasClass(y.params.slideDuplicateClass)){var o=y.wrapper.children('[data-swiper-slide-index="'+e+'"]:not(.'+y.params.slideDuplicateClass+")");y.lazy.loadImageInSlide(o.index(),!1)}else{var l=y.wrapper.children("."+y.params.slideDuplicateClass+'[data-swiper-slide-index="'+e+'"]');y.lazy.loadImageInSlide(l.index(),!1)}}y.emit("onLazyImageReady",y,s[0],a[0])}),y.emit("onLazyImageLoad",y,s[0],a[0])})}},load:function(){var a;if(y.params.watchSlidesVisibility)y.wrapper.children("."+y.params.slideVisibleClass).each(function(){y.lazy.loadImageInSlide(e(this).index())});else if(y.params.slidesPerView>1)for(a=y.activeIndex;a<y.activeIndex+y.params.slidesPerView;a++)y.slides[a]&&y.lazy.loadImageInSlide(a);else y.lazy.loadImageInSlide(y.activeIndex);if(y.params.lazyLoadingInPrevNext)if(y.params.slidesPerView>1||y.params.lazyLoadingInPrevNextAmount&&y.params.lazyLoadingInPrevNextAmount>1){var t=y.params.lazyLoadingInPrevNextAmount,s=y.params.slidesPerView,r=Math.min(y.activeIndex+s+Math.max(t,s),y.slides.length),i=Math.max(y.activeIndex-Math.max(s,t),0);for(a=y.activeIndex+y.params.slidesPerView;r>a;a++)y.slides[a]&&y.lazy.loadImageInSlide(a);for(a=i;a<y.activeIndex;a++)y.slides[a]&&y.lazy.loadImageInSlide(a)}else{var n=y.wrapper.children("."+y.params.slideNextClass);n.length>0&&y.lazy.loadImageInSlide(n.index());var o=y.wrapper.children("."+y.params.slidePrevClass);o.length>0&&y.lazy.loadImageInSlide(o.index())}},onTransitionStart:function(){y.params.lazyLoading&&(y.params.lazyLoadingOnTransitionStart||!y.params.lazyLoadingOnTransitionStart&&!y.lazy.initialImageLoaded)&&y.lazy.load()},onTransitionEnd:function(){y.params.lazyLoading&&!y.params.lazyLoadingOnTransitionStart&&y.lazy.load()}},y.scrollbar={isTouched:!1,setDragPosition:function(e){var a=y.scrollbar,t=y.isHorizontal()?"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].pageX:e.pageX||e.clientX:"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].pageY:e.pageY||e.clientY,s=t-a.track.offset()[y.isHorizontal()?"left":"top"]-a.dragSize/2,r=-y.minTranslate()*a.moveDivider,i=-y.maxTranslate()*a.moveDivider;r>s?s=r:s>i&&(s=i),s=-s/a.moveDivider,y.updateProgress(s),y.setWrapperTranslate(s,!0)},dragStart:function(e){var a=y.scrollbar;a.isTouched=!0,e.preventDefault(),e.stopPropagation(),a.setDragPosition(e),clearTimeout(a.dragTimeout),a.track.transition(0),y.params.scrollbarHide&&a.track.css("opacity",1),y.wrapper.transition(100),a.drag.transition(100),y.emit("onScrollbarDragStart",y)},dragMove:function(e){var a=y.scrollbar;a.isTouched&&(e.preventDefault?e.preventDefault():e.returnValue=!1,a.setDragPosition(e),y.wrapper.transition(0),a.track.transition(0),a.drag.transition(0),y.emit("onScrollbarDragMove",y))},dragEnd:function(e){var a=y.scrollbar;a.isTouched&&(a.isTouched=!1,y.params.scrollbarHide&&(clearTimeout(a.dragTimeout),a.dragTimeout=setTimeout(function(){a.track.css("opacity",0),a.track.transition(400)},1e3)),y.emit("onScrollbarDragEnd",y),y.params.scrollbarSnapOnRelease&&y.slideReset())},enableDraggable:function(){var a=y.scrollbar,t=y.support.touch?a.track:document;e(a.track).on(y.touchEvents.start,a.dragStart),e(t).on(y.touchEvents.move,a.dragMove),e(t).on(y.touchEvents.end,a.dragEnd)},disableDraggable:function(){var a=y.scrollbar,t=y.support.touch?a.track:document;e(a.track).off(y.touchEvents.start,a.dragStart),e(t).off(y.touchEvents.move,a.dragMove),e(t).off(y.touchEvents.end,a.dragEnd)},set:function(){if(y.params.scrollbar){var a=y.scrollbar;a.track=e(y.params.scrollbar),y.params.uniqueNavElements&&"string"==typeof y.params.scrollbar&&a.track.length>1&&1===y.container.find(y.params.scrollbar).length&&(a.track=y.container.find(y.params.scrollbar)),a.drag=a.track.find(".swiper-scrollbar-drag"),0===a.drag.length&&(a.drag=e('<div class="swiper-scrollbar-drag"></div>'),a.track.append(a.drag)),a.drag[0].style.width="",a.drag[0].style.height="",a.trackSize=y.isHorizontal()?a.track[0].offsetWidth:a.track[0].offsetHeight,a.divider=y.size/y.virtualSize,a.moveDivider=a.divider*(a.trackSize/y.size),a.dragSize=a.trackSize*a.divider,y.isHorizontal()?a.drag[0].style.width=a.dragSize+"px":a.drag[0].style.height=a.dragSize+"px",a.divider>=1?a.track[0].style.display="none":a.track[0].style.display="",y.params.scrollbarHide&&(a.track[0].style.opacity=0)}},setTranslate:function(){if(y.params.scrollbar){var e,a=y.scrollbar,t=(y.translate||0,a.dragSize);e=(a.trackSize-a.dragSize)*y.progress,y.rtl&&y.isHorizontal()?(e=-e,e>0?(t=a.dragSize-e,e=0):-e+a.dragSize>a.trackSize&&(t=a.trackSize+e)):0>e?(t=a.dragSize+e,e=0):e+a.dragSize>a.trackSize&&(t=a.trackSize-e),y.isHorizontal()?(y.support.transforms3d?a.drag.transform("translate3d("+e+"px, 0, 0)"):a.drag.transform("translateX("+e+"px)"),a.drag[0].style.width=t+"px"):(y.support.transforms3d?a.drag.transform("translate3d(0px, "+e+"px, 0)"):a.drag.transform("translateY("+e+"px)"),a.drag[0].style.height=t+"px"),y.params.scrollbarHide&&(clearTimeout(a.timeout),a.track[0].style.opacity=1,a.timeout=setTimeout(function(){a.track[0].style.opacity=0,a.track.transition(400)},1e3))}},setTransition:function(e){y.params.scrollbar&&y.scrollbar.drag.transition(e)}},y.controller={LinearSpline:function(e,a){this.x=e,this.y=a,this.lastIndex=e.length-1;var t,s;this.x.length;this.interpolate=function(e){return e?(s=r(this.x,e),t=s-1,(e-this.x[t])*(this.y[s]-this.y[t])/(this.x[s]-this.x[t])+this.y[t]):0};var r=function(){var e,a,t;return function(s,r){for(a=-1,e=s.length;e-a>1;)s[t=e+a>>1]<=r?a=t:e=t;return e}}()},getInterpolateFunction:function(e){y.controller.spline||(y.controller.spline=y.params.loop?new y.controller.LinearSpline(y.slidesGrid,e.slidesGrid):new y.controller.LinearSpline(y.snapGrid,e.snapGrid))},setTranslate:function(e,a){function s(a){e=a.rtl&&"horizontal"===a.params.direction?-y.translate:y.translate,"slide"===y.params.controlBy&&(y.controller.getInterpolateFunction(a),i=-y.controller.spline.interpolate(-e)),i&&"container"!==y.params.controlBy||(r=(a.maxTranslate()-a.minTranslate())/(y.maxTranslate()-y.minTranslate()),i=(e-y.minTranslate())*r+a.minTranslate()),y.params.controlInverse&&(i=a.maxTranslate()-i),a.updateProgress(i),a.setWrapperTranslate(i,!1,y),a.updateActiveIndex()}var r,i,n=y.params.control;if(y.isArray(n))for(var o=0;o<n.length;o++)n[o]!==a&&n[o]instanceof t&&s(n[o]);else n instanceof t&&a!==n&&s(n)},setTransition:function(e,a){function s(a){a.setWrapperTransition(e,y),0!==e&&(a.onTransitionStart(),a.wrapper.transitionEnd(function(){i&&(a.params.loop&&"slide"===y.params.controlBy&&a.fixLoop(),a.onTransitionEnd())}))}var r,i=y.params.control;if(y.isArray(i))for(r=0;r<i.length;r++)i[r]!==a&&i[r]instanceof t&&s(i[r]);else i instanceof t&&a!==i&&s(i)}},y.hashnav={init:function(){if(y.params.hashnav){y.hashnav.initialized=!0;var e=document.location.hash.replace("#","");if(e)for(var a=0,t=0,s=y.slides.length;s>t;t++){var r=y.slides.eq(t),i=r.attr("data-hash");if(i===e&&!r.hasClass(y.params.slideDuplicateClass)){var n=r.index();y.slideTo(n,a,y.params.runCallbacksOnInit,!0)}}}},setHash:function(){y.hashnav.initialized&&y.params.hashnav&&(document.location.hash=y.slides.eq(y.activeIndex).attr("data-hash")||"")}},y.disableKeyboardControl=function(){y.params.keyboardControl=!1,e(document).off("keydown",l)},y.enableKeyboardControl=function(){y.params.keyboardControl=!0,e(document).on("keydown",l)},y.mousewheel={event:!1,lastScrollTime:(new window.Date).getTime()},y.params.mousewheelControl){try{new window.WheelEvent("wheel"),y.mousewheel.event="wheel"}catch(O){(window.WheelEvent||y.container[0]&&"wheel"in y.container[0])&&(y.mousewheel.event="wheel")}!y.mousewheel.event&&window.WheelEvent,y.mousewheel.event||void 0===document.onmousewheel||(y.mousewheel.event="mousewheel"),y.mousewheel.event||(y.mousewheel.event="DOMMouseScroll")}y.disableMousewheelControl=function(){return y.mousewheel.event?(y.container.off(y.mousewheel.event,p),!0):!1},y.enableMousewheelControl=function(){return y.mousewheel.event?(y.container.on(y.mousewheel.event,p),!0):!1},y.parallax={setTranslate:function(){y.container.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){d(this,y.progress)}),y.slides.each(function(){var a=e(this);a.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var e=Math.min(Math.max(a[0].progress,-1),1);d(this,e)})})},setTransition:function(a){"undefined"==typeof a&&(a=y.params.speed),y.container.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var t=e(this),s=parseInt(t.attr("data-swiper-parallax-duration"),10)||a;0===a&&(s=0),t.transition(s)})}},y._plugins=[];for(var N in y.plugins){var R=y.plugins[N](y,y.params[N]);R&&y._plugins.push(R)}return y.callPlugins=function(e){for(var a=0;a<y._plugins.length;a++)e in y._plugins[a]&&y._plugins[a][e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},y.emitterEventListeners={},y.emit=function(e){y.params[e]&&y.params[e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);var a;if(y.emitterEventListeners[e])for(a=0;a<y.emitterEventListeners[e].length;a++)y.emitterEventListeners[e][a](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);y.callPlugins&&y.callPlugins(e,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},y.on=function(e,a){return e=u(e),y.emitterEventListeners[e]||(y.emitterEventListeners[e]=[]),y.emitterEventListeners[e].push(a),y},y.off=function(e,a){var t;if(e=u(e),"undefined"==typeof a)return y.emitterEventListeners[e]=[],y;if(y.emitterEventListeners[e]&&0!==y.emitterEventListeners[e].length){for(t=0;t<y.emitterEventListeners[e].length;t++)y.emitterEventListeners[e][t]===a&&y.emitterEventListeners[e].splice(t,1);return y}},y.once=function(e,a){e=u(e);var t=function(){a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]),y.off(e,t)};return y.on(e,t),y},y.a11y={makeFocusable:function(e){return e.attr("tabIndex","0"),e},addRole:function(e,a){return e.attr("role",a),e},addLabel:function(e,a){return e.attr("aria-label",a),e},disable:function(e){return e.attr("aria-disabled",!0),e},enable:function(e){return e.attr("aria-disabled",!1),e},onEnterKey:function(a){13===a.keyCode&&(e(a.target).is(y.params.nextButton)?(y.onClickNext(a),y.isEnd?y.a11y.notify(y.params.lastSlideMessage):y.a11y.notify(y.params.nextSlideMessage)):e(a.target).is(y.params.prevButton)&&(y.onClickPrev(a),y.isBeginning?y.a11y.notify(y.params.firstSlideMessage):y.a11y.notify(y.params.prevSlideMessage)),e(a.target).is("."+y.params.bulletClass)&&e(a.target)[0].click())},liveRegion:e('<span class="swiper-notification" aria-live="assertive" aria-atomic="true"></span>'),notify:function(e){var a=y.a11y.liveRegion;0!==a.length&&(a.html(""),a.html(e))},init:function(){y.params.nextButton&&y.nextButton&&y.nextButton.length>0&&(y.a11y.makeFocusable(y.nextButton),y.a11y.addRole(y.nextButton,"button"),y.a11y.addLabel(y.nextButton,y.params.nextSlideMessage)),y.params.prevButton&&y.prevButton&&y.prevButton.length>0&&(y.a11y.makeFocusable(y.prevButton),y.a11y.addRole(y.prevButton,"button"),y.a11y.addLabel(y.prevButton,y.params.prevSlideMessage)),e(y.container).append(y.a11y.liveRegion)},initPagination:function(){y.params.pagination&&y.params.paginationClickable&&y.bullets&&y.bullets.length&&y.bullets.each(function(){var a=e(this);y.a11y.makeFocusable(a),y.a11y.addRole(a,"button"),y.a11y.addLabel(a,y.params.paginationBulletMessage.replace(/{{index}}/,a.index()+1))})},destroy:function(){y.a11y.liveRegion&&y.a11y.liveRegion.length>0&&y.a11y.liveRegion.remove()}},y.init=function(){y.params.loop&&y.createLoop(),y.updateContainerSize(),y.updateSlidesSize(),y.updatePagination(),y.params.scrollbar&&y.scrollbar&&(y.scrollbar.set(),y.params.scrollbarDraggable&&y.scrollbar.enableDraggable()),"slide"!==y.params.effect&&y.effects[y.params.effect]&&(y.params.loop||y.updateProgress(),y.effects[y.params.effect].setTranslate()),y.params.loop?y.slideTo(y.params.initialSlide+y.loopedSlides,0,y.params.runCallbacksOnInit):(y.slideTo(y.params.initialSlide,0,y.params.runCallbacksOnInit),0===y.params.initialSlide&&(y.parallax&&y.params.parallax&&y.parallax.setTranslate(),y.lazy&&y.params.lazyLoading&&(y.lazy.load(),y.lazy.initialImageLoaded=!0))),y.attachEvents(),y.params.observer&&y.support.observer&&y.initObservers(),y.params.preloadImages&&!y.params.lazyLoading&&y.preloadImages(),y.params.autoplay&&y.startAutoplay(),y.params.keyboardControl&&y.enableKeyboardControl&&y.enableKeyboardControl(),y.params.mousewheelControl&&y.enableMousewheelControl&&y.enableMousewheelControl(),y.params.hashnav&&y.hashnav&&y.hashnav.init(),y.params.a11y&&y.a11y&&y.a11y.init(),y.emit("onInit",y)},y.cleanupStyles=function(){y.container.removeClass(y.classNames.join(" ")).removeAttr("style"),y.wrapper.removeAttr("style"),y.slides&&y.slides.length&&y.slides.removeClass([y.params.slideVisibleClass,y.params.slideActiveClass,y.params.slideNextClass,y.params.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-column").removeAttr("data-swiper-row"),y.paginationContainer&&y.paginationContainer.length&&y.paginationContainer.removeClass(y.params.paginationHiddenClass),y.bullets&&y.bullets.length&&y.bullets.removeClass(y.params.bulletActiveClass),y.params.prevButton&&e(y.params.prevButton).removeClass(y.params.buttonDisabledClass),y.params.nextButton&&e(y.params.nextButton).removeClass(y.params.buttonDisabledClass),y.params.scrollbar&&y.scrollbar&&(y.scrollbar.track&&y.scrollbar.track.length&&y.scrollbar.track.removeAttr("style"),y.scrollbar.drag&&y.scrollbar.drag.length&&y.scrollbar.drag.removeAttr("style"))},y.destroy=function(e,a){y.detachEvents(),y.stopAutoplay(),y.params.scrollbar&&y.scrollbar&&y.params.scrollbarDraggable&&y.scrollbar.disableDraggable(),y.params.loop&&y.destroyLoop(),a&&y.cleanupStyles(),y.disconnectObservers(),y.params.keyboardControl&&y.disableKeyboardControl&&y.disableKeyboardControl(),y.params.mousewheelControl&&y.disableMousewheelControl&&y.disableMousewheelControl(),y.params.a11y&&y.a11y&&y.a11y.destroy(),y.emit("onDestroy"),e!==!1&&(y=null)},y.init(),y}};t.prototype={isSafari:function(){var e=navigator.userAgent.toLowerCase();return e.indexOf("safari")>=0&&e.indexOf("chrome")<0&&e.indexOf("android")<0}(),isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent),isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},browser:{ie:window.navigator.pointerEnabled||window.navigator.msPointerEnabled,ieTouch:window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>1||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>1},device:function(){var e=navigator.userAgent,a=e.match(/(Android);?[\s\/]+([\d.]+)?/),t=e.match(/(iPad).*OS\s([\d_]+)/),s=e.match(/(iPod)(.*OS\s([\d_]+))?/),r=!t&&e.match(/(iPhone\sOS)\s([\d_]+)/);return{ios:t||r||s,android:a}}(),support:{touch:window.Modernizr&&Modernizr.touch===!0||function(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}(),transforms3d:window.Modernizr&&Modernizr.csstransforms3d===!0||function(){var e=document.createElement("div").style;return"webkitPerspective"in e||"MozPerspective"in e||"OPerspective"in e||"MsPerspective"in e||"perspective"in e}(),flexbox:function(){for(var e=document.createElement("div").style,a="alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient".split(" "),t=0;t<a.length;t++)if(a[t]in e)return!0}(),observer:function(){return"MutationObserver"in window||"WebkitMutationObserver"in window}()},plugins:{}},a(e);var s=e;return s&&("transitionEnd"in s.fn||(s.fn.transitionEnd=function(e){function a(i){if(i.target===this)for(e.call(this,i),t=0;t<s.length;t++)r.off(s[t],a)}var t,s=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],r=this;if(e)for(t=0;t<s.length;t++)r.on(s[t],a);return this}),"transform"in s.fn||(s.fn.transform=function(e){for(var a=0;a<this.length;a++){var t=this[a].style;t.webkitTransform=t.MsTransform=t.msTransform=t.MozTransform=t.OTransform=t.transform=e}return this}),"transition"in s.fn||(s.fn.transition=function(e){"string"!=typeof e&&(e+="ms");for(var a=0;a<this.length;a++){var t=this[a].style;t.webkitTransitionDuration=t.MsTransitionDuration=t.msTransitionDuration=t.MozTransitionDuration=t.OTransitionDuration=t.transitionDuration=e}return this})),t});(function(){var ExplodingWatchManager,Instafeed,RotatingWatchManager,ScrollSpyElement,Superbar,clearAllIntervals,csrftoken,handleMainVideo,handleOverflows,handleParallax,handleSubnav,handleVideo,handleVideoPopup,handleWatchSignup,initializePage,intervals,log,root,setClearableInterval,storedExitFunctions,storedKeyFunctions,storedMatchFunctions,_cleanData,_this=this,__bind=function(fn,me){return function(){return fn.apply(me,arguments);};},__hasProp={}.hasOwnProperty,__extends=function(child,parent){for(var key in parent){if(__hasProp.call(parent,key))child[key]=parent[key];}function ctor(){this.constructor=child;}ctor.prototype=parent.prototype;child.prototype=new ctor();child.__super__=parent.prototype;return child;};csrftoken=$('meta[name=csrf-token]').attr('content');$.ajaxSetup({beforeSend:function(xhr,settings){if(!/^(GET|HEAD|OPTIONS|TRACE)$/i.test(settings.type)){return xhr.setRequestHeader("X-CSRFToken",csrftoken);}}});root=typeof exports!=="undefined"&&exports!==null?exports:this;log=console.log.bind('[_init]');if(root.utils==null){root.utils={};}
root.effects={};root.controllers={};root.components={};root.variables={};root.events={};root.variables={debug:true,controllers:{catchExceptions:true,logInit:false},navbarHeight:50,breakpoints:{mobile:699,desktop:700,minWidth:1000}};root.utils.isAtBreakpoint=function(breakpoint){var breakpoints;breakpoints=root.variables.breakpoints;if(breakpoint==='mobile'&&window.is_mobile){return $(window).width()<breakpoints.mobile;}else if(breakpoint==='desktop'){return $(window).width()>breakpoints.desktop;}else if(breakpoint==='tablet'){return $(window).width()>breakpoints.mobile;}};root.utils.getCurrentBreakpoint=function(){var breakpoint,isCurrent,px,_ref;_ref=root.variables.breakpoints;for(breakpoint in _ref){px=_ref[breakpoint];isCurrent=root.utils.isAtBreakpoint(breakpoint);if(isCurrent){return breakpoint;}}};root.utils.responsiveJS=function(args){var responsiveJS,_base,_this=this;if((_base=root.utils)._responsiveJSQueries==null){_base._responsiveJSQueries=[];}
root.utils._responsiveJSQueries.push(args);this.$window=$(window);(responsiveJS=function(){var matched,responsive,_i,_len,_ref,_results;_ref=root.utils._responsiveJSQueries;_results=[];for(_i=0,_len=_ref.length;_i<_len;_i++){responsive=_ref[_i];if(_.isFunction(responsive.query)){matched=responsive.query(_this.$window);}else{matched=root.utils.isAtBreakpoint(responsive.query);}
if(matched&&!responsive.active){responsive.active=true;if(typeof responsive.enter==="function"){responsive.enter();}}
if(!matched&&responsive.active){responsive.active=false;_results.push(typeof responsive.exit==="function"?responsive.exit():void 0);}else{_results.push(void 0);}}
return _results;})();return this.$window.on('resize',_.debounce(responsiveJS,100));};root.utils.lockScroll=function(lock){if(lock===void 0){return $("html").toggleClass('no-scroll');}else if(lock){return $("html").addClass('no-scroll');}else{return $("html").removeClass('no-scroll');}};root.utils.scrollTo=function($el,options){var animate,_this=this;animate=function(){var top;top=$el.offset().top;return $("html, body").animate({scrollTop:top-(options.offset||0)},options.speed||1000,options.easing||'easeInOutExpo');};if(options.delay){return _.delay(animate,options.delay);}else{return animate();}};root.utils.cookies={set:function(name,value,days){var date,expires;if(days){date=new Date();date.setTime(date.getTime()+(days*24*60*60*1000));expires="; expires="+date.toGMTString();}else{expires="";}
return document.cookie=name+"="+value+expires+"; path=/";},get:function(name){var c,ca,i,nameEQ;nameEQ=name+"=";ca=document.cookie.split(";");i=0;while(i<ca.length){c=ca[i];while(c.charAt(0)===" "){c=c.substring(1,c.length);}
if(c.indexOf(nameEQ)===0){return c.substring(nameEQ.length,c.length);}
i++;}
return null;},"delete":function(name){return setCookie(name,"",-1);}};root.utils.getControllerInstance=function(controllerName,$scope){var $controllers,controller,instances;if(!$scope){$scope=$('html');}
$controllers=$scope.find("[js-controller=\""+controllerName+"\"]");instances=(function(){var _i,_len,_results;_results=[];for(_i=0,_len=$controllers.length;_i<_len;_i++){controller=$controllers[_i];_results.push($(controller).data('js-controller'));}
return _results;})();if(instances.length===1){return instances[0];}
return instances;};root.utils.evalAttribute=function($element,attribute){var ex;try{return eval("("+($element.attr(attribute))+")")||{};}catch(_error){ex=_error;console.error("ERROR GETTING ARGS: ",ex);return{};}};root.utils.getArgs=function($element){return root.utils.evalAttribute($element,'js-args');};root.utils.bindJSControllers=function($scope,force){var bindJSFactory,ex,tagname,_ref;if(force==null){force=false;}
if(!$scope){this.$scope=$('html');}else{this.$scope=$scope;}
try{tagname=(((_ref=this.$scope.get(0))!=null?_ref.tagName:void 0)!=null)||'';}catch(_error){ex=_error;console.error('failure to bind controllers',ex);}
bindJSFactory=function(attrName,objectName,$scope){var _this=this;this.attrName=attrName;this.objectName=objectName;this.loadedClass=""+attrName+"-loaded";this.selector="["+attrName+"]";if(!force){this.selector+=":not(."+this.loadedClass+")";}else{console.log("Forcing re-binding");}
return $scope.find(this.selector).each(function(index,el){var bind,handler;bind=function($element){var controller,handler,handlerFunc,options;handler=$element.attr(_this.attrName);options=root.utils.getArgs($element);controller=root[_this.objectName][handler];if(controller){handlerFunc=new controller($element,options);}else if(root.variables.controllers.logInit){console.log("Controller not found for handler "+handler);}
$element.data(_this.attrName,handlerFunc);$element.addClass(_this.loadedClass);if(root.variables.controllers.logInit){return console.log(""+handler+" initialized with",{options:options});}};if(root.variables.controllers.catchExceptions){try{bind($(el));}catch(_error){ex=_error;handler=$(el).attr(_this.attrName);console.error('Error initializing: ',handler,ex);}}else{bind($(el));}});};bindJSFactory('js-controller','controllers',this.$scope);return bindJSFactory('js-component','components',this.$scope);};root.effects.handleFadeInOnLoad=function(){if(window.is_safari){window.onbeforeunload=function(){$("body").addClass('is-unloading');};$(window).bind("pageshow",function(ev){if(ev.originalEvent.persisted){$("body").addClass('is-loading');}});}else{$(window).on('beforeunload',function(){$("body").addClass('is-unloading');});}
return $("body").addClass('is-loading');};root.effects.resetAnimationState=function($scope){var animated;if(!$scope){this.$scope=$('html');}else{this.$scope=$scope;}
animated=this.$scope.find('.a');return animated.removeClass('a--animated a--animating');};root.effects.handleScrollBasedAnimations=function(){var _this=this;this.$zeroHeightHiddenHelperCls='zero-height-hidden-helper';this.$zeroHeightHiddenHelperClsWithDot='.zero-height-hidden-helper';$.extend($.expr[':'],{zeroheight:function(el,index,meta){var $el,ex,noHeight,overflowHidden;$el=$(el);try{noHeight=$el.height()===0;overflowHidden=$el.css('overflow')==='hidden';}catch(_error){ex=_error;console.log('failed getting height',ex);}
if(noHeight&&overflowHidden){return true;}
return false;},notzeroheightparent:function(el,index,meta){var $el,$zero;$el=$(el);$zero=$el.closest(_this.$zeroHeightHiddenHelperClsWithDot);if($zero.is(':zeroheight')){return false;}
return true;}});$(":zeroheight").each(function(index,el){var $el;$el=$(el);return $el.addClass(_this.$zeroHeightHiddenHelperCls);});this.$animatedCls='a--animated';this.$animatingCls='a--animating';this.$delay=10;this.$additionalDelay=20;this.$queued=0;this.getQueuedDelay=function(){var delay;delay=_this.$delay+(_this.$queued*_this.$additionalDelay);return delay;};this.$animationSelector=".a:in-viewport:not(.a--animating):not(:hidden)";this.animateInWindow=function(){var $toAnimate;$toAnimate=$(_this.$animationSelector);return $toAnimate.each(function(index,el){var $el;$el=$(el);$el.addClass(_this.$animatingCls);$el.removeClass('.a');_this.$queued+=1;return _.delay(function(){$el.addClass(_this.$animatedCls);return _this.$queued-=1;},_this.getQueuedDelay());});};$(window).on('scroll',_.debounce(this.animateInWindow,500));setInterval(this.animateInWindow,500);return setInterval(function(){return console.log("Queued: "+_this.$queued);},10000);};root.effects.handleNavbarFadeIn=function(){var _this=this;this.$navbar=$('[js-navbar]');if(this.$navbar.is(':hidden')){return this.$navbar.addClass('notransition').delay(1000).fadeIn('slow','easeInOutExpo',function(){return _this.$navbar.removeClass('notransition');});}};root.effects.jquery={slideDownFade:function($element,speed){return $element.css('opacity',0).slideDown(speed,'easeInOutExpo').animate({opacity:1},{queue:false,duration:speed});},slideUpFade:function($element,speed){return $element.css('opacity',1).slideUp(speed,'easeInOutExpo').animate({opacity:0},{queue:false,duration:speed});}};root.effects.init=function(){};window.animate=function(){var api,args,check;api={};console.error("EFFECTS INIT");args={selector:'animate-in'};return(check=function(){return $(".animate-in:not(.animate-in--animated)").each(function(){var $element;$element=$(this);if($element.is(':visible')){return $element.addClass('animate-in--animated');}});})();};root.initHashNavigation=function(){var scrollOffset;scrollOffset=-80;return $(document).on('click',"a[href^=\"#scroll-\"]",function(ev){var $targetElement,marginTop,targetScroll,targetSelector,top;ev.preventDefault();targetSelector=$(this).attr('href').replace('#scroll-','');$targetElement=$(targetSelector);top=$targetElement.offset().top;marginTop=parseInt($targetElement.css('margin-top')||0);targetScroll=top-marginTop+scrollOffset;return $('html,body').animate({scrollTop:targetScroll},2000,'easeInOutExpo');});};root.init=function(){root.utils.bindJSControllers();root.effects.init();return root.initHashNavigation();};$(function(){root.init();return $("body").addClass('js-document-ready');});window.lazySizesConfig=window.lazySizesConfig||{};window.lazySizesConfig.expFactor=3;window.lazySizesConfig.expand=700;_cleanData=$.cleanData;$.cleanData=function(elems){var elem,i;i=0;elem=void 0;while((elem=elems[i])!=null){try{$(elem).triggerHandler("remove");}catch(_error){}
i++;}
_cleanData(elems);};$(function(){if(navigator.appVersion.indexOf("Win")!==-1){return $('html').addClass('os-windows');}});'Javascript Loader\n-----------------\n\nWhat: Conditonally load scripts (functions) depending on which page is rendered.\nWhy: We can no longer easily load page-specific scripts due to the fact we are pulling partial HTML via AJAX.\n\nUsage:\n\n	root.loader.executeOnKey \'some-memorable-name\', ->\n		# console.log "I will only execute when a template sets `some-memorable-name`"\n\nIn template:\n\n	{% block execute_javascript_key %}some-memorable-name{% endblock %}\n\nYuji Tomita\n1/2014';root=typeof exports!=="undefined"&&exports!==null?exports:this;root.loader={};storedKeyFunctions={};storedMatchFunctions=[];storedExitFunctions=[];root.loader.executeOnKey=function(keys,fn){var ex,key,_i,_len,_results;if(!_.isArray(keys)){keys=[keys];}
_results=[];for(_i=0,_len=keys.length;_i<_len;_i++){key=keys[_i];try{if(storedKeyFunctions[key]==null){storedKeyFunctions[key]=[];}
_results.push(storedKeyFunctions[key].push(fn));}catch(_error){ex=_error;_results.push(console.error("[script loader]","executeOnKey Failure: ",ex));}}
return _results;};root.loader.onReady=function(fn){return $(document).on('ready pjax:end',function(){return fn();});};root.loader.onReady(function(){var ex,f,functions,jsKey,key,_i,_len,_ref,_results;jsKey=$(".execute-javascript-key").val();_ref=jsKey.split(',');_results=[];for(_i=0,_len=_ref.length;_i<_len;_i++){key=_ref[_i];try{key=key.trim();functions=storedKeyFunctions[key];if(functions){_results.push((function(){var _j,_len1,_results1;_results1=[];for(_j=0,_len1=functions.length;_j<_len1;_j++){f=functions[_j];_results1.push(f());}
return _results1;})());}else{_results.push(void 0);}}catch(_error){ex=_error;_results.push(console.error("[script loader]","Error loading stored key function: ",ex));}}
return _results;});root=typeof exports!=="undefined"&&exports!==null?exports:this;if(root.mixins==null){root.mixins={};}
root.mixins.Gallery=(function(){'Core galley functions. Add more here as refactored.';function Gallery(){this.currentIndex=this._getInitialIndex();}
Gallery.prototype._getInitialIndex=function(){return 0;};Gallery.prototype._getNextSlideNum=function(){'Get next slide number, respecting infinite values, or null if end.';var next;next=this.currentIndex+1;console.log("Getting next slide num",next);if(next<this._getSlideCount()){return next;}
if(this.infinite){return 0;}
return null;};Gallery.prototype._getPrevSlideNum=function(){var prev;prev=this.currentIndex-1;if(prev>=0){return prev;}
if(this.infinite){return this._getSlideCount()-1;}
return null;};Gallery.prototype._getSlideCount=function(){'Subclass to modify';return this.slideCount;};Gallery.prototype._updateNavigation=function(){var next,prev;next=this._getNextSlideNum();prev=this._getPrevSlideNum();if(next===null){this.$next.addClass('is-disabled');}else{this.$next.removeClass('is-disabled');}
if(prev===null){return this.$prev.addClass('is-disabled');}else{return this.$prev.removeClass('is-disabled');}};return Gallery;})();root=typeof exports!=="undefined"&&exports!==null?exports:this;if(root.modules==null){root.modules={};}
intervals=[];setClearableInterval=function(func,interval){var id;id=setInterval(func,interval);intervals.push(id);console.log("setting interval",id);return id;};clearAllIntervals=function(){var id,_i,_len;for(_i=0,_len=intervals.length;_i<_len;_i++){id=intervals[_i];console.log('clearing interval...',id);clearInterval(id);}
return intervals=[];};root.modules.ContentSlider=(function(_super){__extends(ContentSlider,_super);ContentSlider.prototype.namespace='.content_slider';function ContentSlider(_arg){var _ref,_this=this;_ref=_arg!=null?_arg:{},this.selector=_ref.selector,this.itemSelector=_ref.itemSelector,this.initialSlide=_ref.initialSlide,this.itemsPerSlide=_ref.itemsPerSlide,this.$next=_ref.$next,this.$prev=_ref.$prev,this.renderIndicators=_ref.renderIndicators,this.renderNavigation=_ref.renderNavigation,this.transitionFunction=_ref.transitionFunction,this.onAfterRenderSlide=_ref.onAfterRenderSlide,this.autoPlay=_ref.autoPlay,this.animationSpeed=_ref.animationSpeed,this.autoPlayStopOnInteraction=_ref.autoPlayStopOnInteraction;this.nextSlide=__bind(this.nextSlide,this);this.prevSlide=__bind(this.prevSlide,this);this._destruct=__bind(this._destruct,this);_.defaults(this,{itemsPerSlide:2,initialSlide:0,currentIndex:0,$next:$('<div class="next-slide"><span class="icon-right-open-big"></span></div>'),$prev:$('<div class="prev-slide"><span class="icon-left-open-big"></span></div>'),infinite:true,renderIndicators:true,renderNavigation:true,transitionFunction:'_crossFade',autoPlay:false,autoPlayStopOnInteraction:false,animationSpeed:600});this._bindElements();this._bindDestructors();this._bindHandlers();if(this.autoPlay){this._autoPlay();}
if(root.jRes!==void 0){root.jRes.addFunc({breakpoint:'*',enter:function(){return _this.initialize();},exit:function(){return _this.initialize();}});}}
ContentSlider.prototype._bindElements=function(){this.$container=$(this.selector);if(this.$contentSlideContainer==null){this.$contentSlideContainer=this.$container.append('<div class="content-slide-container"></div>').find('.content-slide-container');}
this.$contentSlideContainer.html('');this.$items=this.$container.find(this.itemSelector).clone();this.$activeSlide=this._createContentSlide('active');this.$oldSlide=this._createContentSlide('old').hide();if(this.renderNavigation){this.$navigation=this._renderNavigation();}
return this._renderSlideIndicators();};ContentSlider.prototype._bindHandlers=function(){var _this=this;this.$container.on('slider:updated',function(){return _this.slideCount=Math.ceil(_this.$items.length/_this._getItemsPerSlide());});this.$container.on('slider:updated',function(){if(_this.renderIndicators){return _this._updateIndicators();}});this.$next.on('click'+this.namespace,function(){console.log('clicked next');_this.nextSlide();if(_this.autoPlayStopOnInteraction){return clearAllIntervals();}});this.$prev.on('click'+this.namespace,function(){console.log('clicked prev');_this.prevSlide();if(_this.autoPlayStopOnInteraction){return clearAllIntervals();}});this.$activeSlide.on('click'+this.namespace,function(){console.log('clicked active slide.. going to next');_this.nextSlide();if(_this.autoPlayStopOnInteraction){return clearAllIntervals();}});this.$activeSlide.css({cursor:'pointer'});this._bindIndicatorHandlers();if($("html").hasClass('is-mobile')){this.$container.hammer({drag_lock_to_axis:true}).on('swiperight'+this.namespace,this.prevSlide);return this.$container.hammer({drag_lock_to_axis:true}).on('swipeleft'+this.namespace,this.nextSlide);}};ContentSlider.prototype._bindDestructors=function(){return this.$container.on('remove',this._destruct);};ContentSlider.prototype._destruct=function(){console.log("Destructing...",intervals);$(window).unbind(this.namespace);return clearAllIntervals();};ContentSlider.prototype._renderNavigation=function(){var $navs,$next,$prev,_this=this;$navs=$("<div class=\"slider-navigation-container\">\n	<div class=\"slider-navigation next\">\n		<span class=\"icon-right-arrow\"></span>\n	</div>\n	<div class=\"slider-navigation prev\">\n		<span class=\"icon-left-arrow\"></span>\n	</div>\n</div>");if(this.$items.length>0&&!this.$container.find('.slider-navigation-container').length>0){$next=$navs.find('.next');$prev=$navs.find('.prev');this.$contentSlideContainer.append($navs);$next.on('click'+this.namespace,function(){console.log('clicked next');_this.nextSlide();if(_this.autoPlayStopOnInteraction!=null){return clearAllIntervals();}});return $prev.on('click'+this.namespace,function(){_this.prevSlide();if(_this.autoPlayStopOnInteraction!=null){return clearAllIntervals();}});}};ContentSlider.prototype._createContentSlide=function(cls){var $slide;if(cls==null){cls='';}
$slide=$("<div class=\"content-slide "+cls+"\"><div class=\"row\"></div></div>");this.$contentSlideContainer.prepend($slide);return $slide.find('.row');};ContentSlider.prototype._renderSlideIndicators=function(){if(this.renderIndicators&&!this.$container.find('.slide-indicators').length>0){this.$indicators=$("<div class=\"slide-indicators\"></div>");this.$indicatorContainer=$("<div class=\"slider-indicator-container\"></div>");this.$indicatorContainer.append(this.$prev);this.$indicatorContainer.append(this.$indicators);this.$indicatorContainer.append(this.$next);return this.$container.append(this.$indicatorContainer);}};ContentSlider.prototype._autoPlay=function(){var _this=this;if(this.autoPlay){if(this.$container.length!==0){this._autoPlayID=setClearableInterval((function(){return _this.nextSlide();}),this.autoPlay);return console.log("Autoplaying....",this._autoPlayID);}}};ContentSlider.prototype._clearAutoPlay=function(){return clearAllIntervals();};ContentSlider.prototype._bindIndicatorHandlers=function(){var _this=this;return $(document).on('click'+this.namespace,""+this.selector+" .indicator",function(ev){return _this.goToSlide($(ev.currentTarget).data('slide-number'));});};ContentSlider.prototype._updateIndicators=function(){var i,_i,_ref,_results;if(this.$indicators){this.$indicators.html('');_results=[];for(i=_i=0,_ref=this.slideCount;0<=_ref?_i<_ref:_i>_ref;i=0<=_ref?++_i:--_i){_results.push(this.$indicators.append(this._getIndicatorHTML(i)));}
return _results;}};ContentSlider.prototype._getIndicatorHTML=function(num){var active;active=num===this.currentIndex?'active':'';return"<div class=\"indicator "+active+"\" data-slide-number=\""+num+"\"></div>";};ContentSlider.prototype._getItemsPerSlide=function(){if(_.isFunction(this.itemsPerSlide)){return this.itemsPerSlide();}else{return this.itemsPerSlide;}};ContentSlider.prototype._getItemsForSlide=function(index){var end,itemsForSlide,itemsPerSlide,start;itemsPerSlide=this._getItemsPerSlide();start=index*itemsPerSlide;end=index*itemsPerSlide+itemsPerSlide;itemsForSlide=this.$items.slice(start,end);return itemsForSlide;};ContentSlider.prototype.initialize=function(){this.renderSlide({slideNum:this.initialSlide,animateTransition:true});return this.$container.trigger('slider:updated');};ContentSlider.prototype._getDirection=function(){if(this.currentIndex<this.lastIndex){return"left";}else{return"right";}};ContentSlider.prototype.goToSlide=function(slideNum){this.renderSlide({slideNum:slideNum,animateTransition:true});return this._updateNavigation();};ContentSlider.prototype.prevSlide=function(){return this.renderSlide({slideNum:this._getPrevSlideNum(),animateTransition:true});};ContentSlider.prototype.nextSlide=function(){return this.renderSlide({slideNum:this._getNextSlideNum(),animateTransition:true});};ContentSlider.prototype.renderSlide=function(_arg){var $indicators,animateTransition,slideNum,_ref;_ref=_arg!=null?_arg:{},slideNum=_ref.slideNum,animateTransition=_ref.animateTransition;if(slideNum==null){slideNum=this.currentIndex;}
this.lastIndex=this.currentIndex||slideNum;this.$oldSlide.html(this.$activeSlide.html());this.$activeSlide.html(this._getItemsForSlide(slideNum));this.currentIndex=slideNum;$indicators=$(""+this.selector+" .indicator");$indicators.removeClass('active');$indicators.eq(slideNum).addClass('active');console.log("Rendering slide",slideNum);if(animateTransition){if(_.isFunction(this.transitionFunction)){this.transitionFunction(this);}else{this[this.transitionFunction](this);}}
if(this.onAfterRenderSlide){this.onAfterRenderSlide(this);}
return root.lazyload();};ContentSlider.prototype._crossFade=function(){this.$oldSlide.show();return this.$activeSlide.hide().fadeIn(this.animationSpeed,'easeInExpo');};ContentSlider.prototype._directionalSlideFade=function(speed){var direction,newEnd,newStart,oldEnd,oldStart,width;if(speed==null){speed=800;}
direction=this._getDirection();width=$(window).width();oldStart={x:0,opacity:1};oldEnd={opacity:0,zIndex:-1};newStart={opacity:0};newEnd={x:0,opacity:1};if(direction==='right'){$.extend(oldEnd,{x:"-50px"});$.extend(newStart,{x:"50px"});}else{$.extend(oldEnd,{x:"50px"});$.extend(newStart,{x:"-50px"});}
this.$oldSlide.show().css(oldStart).stop(true,true).transition(oldEnd,speed,'out',function(){return $(this).css(oldStart).hide();});return this.$activeSlide.show().css(newStart).stop(true,true).transition(newEnd,speed,'out');};ContentSlider.prototype._directionalSlide=function(){var direction,newEnd,newStart,oldEnd,oldStart,width;direction=this._getDirection();width=$(window).width();oldStart={x:0};newEnd={x:0};if(direction==='right'){oldEnd={x:"-"+width+"px"};newStart={x:""+width+"px"};}else{oldEnd={x:""+width+"px"};newStart={x:"-"+width+"px"};}
this.$oldSlide.show().css(oldStart).transition(oldEnd,this.animationSpeed,'out',function(){return $(this).css(oldStart).hide();});return this.$activeSlide.show().css(newStart).transition(newEnd,this.animationSpeed,'out');};return ContentSlider;})(root.mixins.Gallery);root.DeferUntil=(function(){function DeferUntil(_arg){var _ref;_ref=_arg!=null?_arg:{},this.deferredFunction=_ref.deferredFunction,this.deferralCheck=_ref.deferralCheck;this.executeIfLoaded=__bind(this.executeIfLoaded,this);this.interval=setInterval(this.executeIfLoaded,500);}
DeferUntil.prototype.executeIfLoaded=function(){if(!this.executed&&this.deferralCheck()){this.deferredFunction();return clearInterval(this.interval);}};return DeferUntil;})();root=typeof exports!=="undefined"&&exports!==null?exports:this;$.fn.extend({loadFragment:function(){'Given a container element, target URL, and fragment template name, replace its contents.';var $this,data,defaultOptions,onSuccess,options,success,template,url;if(arguments.length===1){options=arguments[0];onSuccess=options.onSuccess;}else{url=arguments[0],template=arguments[1],success=arguments[2];data={template:template};}
$this=$(this);if(!$this.length>0){return;}
options=options||{};defaultOptions={url:'.',data:{template:options.template},success:function(response){if(options.fade){$this.fadeOut().html(response).fadeIn();}else{$this.html(response);}
root.utils.bindJSControllers($this);if(onSuccess){return onSuccess(response);}},headers:{'X-GROVE-AJAX-HANDLER':options.ajax_handler,'X-GROVE-AJAX':true,'X-GROVE-TEMPLATE':options.template}};options=$.extend(defaultOptions,options);return $.ajax(options);},loadFragmentOnSubmit:function(){return'Load template fragment on submit of form';}});$(document).on('ready pjax:end',function(){return $("[data-ajax-template]").each(function(index,el){return $(el).on('submit',function(ev){var $this;ev.preventDefault();$this=$(this);return $(el).loadFragment({url:$this.attr('action'),data:$this.serialize(),ajax_handler:$this.data('ajax-handler'),template:$this.data('ajax-template'),type:$this.attr('method')||'GET'});});});});Instafeed=(function(){function Instafeed(params){var option,value;this.options={target:'instafeed',get:'popular',resolution:'thumbnail',sortBy:'most-recent',links:true,limit:15,mock:false};if(typeof params==='object'){for(option in params){value=params[option];this.options[option]=value;}}
this.unique=this._genKey();}
Instafeed.prototype.run=function(){var header,instanceName,script;if(typeof this.options.clientId!=='string'){if(typeof this.options.accessToken!=='string'){throw new Error("Missing clientId or accessToken.");}}
if(typeof this.options.accessToken!=='string'){if(typeof this.options.clientId!=='string'){throw new Error("Missing clientId or accessToken.");}}
if((this.options.before!=null)&&typeof this.options.before==='function'){this.options.before.call(this);}
if(typeof document!=="undefined"&&document!==null){script=document.createElement('script');script.id='instafeed-fetcher';script.src=this._buildUrl();header=document.getElementsByTagName('head');header[0].appendChild(script);instanceName="instafeedCache"+this.unique;window[instanceName]=new Instafeed(this.options);window[instanceName].unique=this.unique;}
return true;};Instafeed.prototype.parse=function(response){var anchor,fragment,header,htmlString,image,imageString,images,img,instanceName,reverse,sortSettings,_i,_j,_len,_len1;if(typeof response!=='object'){if((this.options.error!=null)&&typeof this.options.error==='function'){this.options.error.call(this,'Invalid JSON data');return false;}else{throw new Error('Invalid JSON response');}}
if(response.meta.code!==200){if((this.options.error!=null)&&typeof this.options.error==='function'){this.options.error.call(this,response.meta.error_message);return false;}else{throw new Error("Error from Instagram: "+response.meta.error_message);}}
if(response.data.length===0){if((this.options.error!=null)&&typeof this.options.error==='function'){this.options.error.call(this,'No images were returned from Instagram');return false;}else{throw new Error('No images were returned from Instagram');}}
if((this.options.success!=null)&&typeof this.options.success==='function'){this.options.success.call(this,response);}
if(this.options.sortBy!=='most-recent'){if(this.options.sortBy==='random'){sortSettings=['','random'];}else{sortSettings=this.options.sortBy.split('-');}
reverse=sortSettings[0]==='least'?true:false;switch(sortSettings[1]){case'random':response.data.sort(function(){return 0.5-Math.random();});break;case'recent':response.data=this._sortBy(response.data,'created_time',reverse);break;case'liked':response.data=this._sortBy(response.data,'likes.count',reverse);break;case'commented':response.data=this._sortBy(response.data,'comments.count',reverse);break;default:throw new Error("Invalid option for sortBy: '"+this.options.sortBy+"'.");}}
if((typeof document!=="undefined"&&document!==null)&&this.options.mock===false){document.getElementById(this.options.target).innerHTML='';images=response.data;if(images.length>this.options.limit){images=images.slice(0,+this.options.limit+1||9e9);}
if((this.options.template!=null)&&typeof this.options.template==='string'){htmlString='';imageString='';for(_i=0,_len=images.length;_i<_len;_i++){image=images[_i];imageString=this._makeTemplate(this.options.template,{model:image,id:image.id,link:image.link,image:image.images[this.options.resolution].url,caption:this._getObjectProperty(image,'caption.text'),likes:image.likes.count,comments:image.comments.count,location:this._getObjectProperty(image,'location.name')});htmlString+=imageString;}
document.getElementById(this.options.target).innerHTML=htmlString;}else{fragment=document.createDocumentFragment();for(_j=0,_len1=images.length;_j<_len1;_j++){image=images[_j];img=document.createElement('img');img.src=image.images[this.options.resolution].url;if(this.options.links===true){anchor=document.createElement('a');anchor.href=image.link;anchor.appendChild(img);fragment.appendChild(anchor);}else{fragment.appendChild(img);}}
document.getElementById(this.options.target).appendChild(fragment);}
header=document.getElementsByTagName('head')[0];header.removeChild(document.getElementById('instafeed-fetcher'));instanceName="instafeedCache"+this.unique;delete window[instanceName];}
if((this.options.after!=null)&&typeof this.options.after==='function'){this.options.after.call(this);}
return true;};Instafeed.prototype._buildUrl=function(){var base,endpoint,final;base="https://api.instagram.com/v1";switch(this.options.get){case"popular":endpoint="media/popular";break;case"tagged":if(typeof this.options.tagName!=='string'){throw new Error("No tag name specified. Use the 'tagName' option.");}
endpoint="tags/"+this.options.tagName+"/media/recent";break;case"location":if(typeof this.options.locationId!=='number'){throw new Error("No location specified. Use the 'locationId' option.");}
endpoint="locations/"+this.options.locationId+"/media/recent";break;case"user":if(typeof this.options.userId!=='number'){throw new Error("No user specified. Use the 'userId' option.");}
if(typeof this.options.accessToken!=='string'){throw new Error("No access token. Use the 'accessToken' option.");}
endpoint="users/"+this.options.userId+"/media/recent";break;default:throw new Error("Invalid option for get: '"+this.options.get+"'.");}
final=""+base+"/"+endpoint;if(this.options.accessToken!=null){final+="?access_token="+this.options.accessToken;}else{final+="?client_id="+this.options.clientId;}
final+="&count="+this.options.limit;final+="&callback=instafeedCache"+this.unique+".parse";return final;};Instafeed.prototype._genKey=function(){var S4;S4=function(){return(((1+Math.random())*0x10000)|0).toString(16).substring(1);};return""+(S4())+(S4())+(S4())+(S4());};Instafeed.prototype._makeTemplate=function(template,data){var output,pattern,varName,varValue,_ref;pattern=/(?:\{{2})([\w\[\]\.]+)(?:\}{2})/;output=template;while(pattern.test(output)){varName=output.match(pattern)[1];varValue=(_ref=this._getObjectProperty(data,varName))!=null?_ref:'';output=output.replace(pattern,""+varValue);}
return output;};Instafeed.prototype._getObjectProperty=function(object,property){var piece,pieces;property=property.replace(/\[(\w+)\]/g,'.$1');pieces=property.split('.');while(pieces.length){piece=pieces.shift();if((object!=null)&&piece in object){object=object[piece];}else{return null;}}
return object;};Instafeed.prototype._sortBy=function(data,property,reverse){var sorter;sorter=function(a,b){var valueA,valueB;valueA=this._getObjectProperty(a,property);valueB=this._getObjectProperty(b,property);if(reverse){if(valueA>valueB){return 1;}else{return-1;}}
if(valueA<valueB){return 1;}else{return-1;}};data.sort(sorter.bind(this));return data;};return Instafeed;})();root=typeof exports!=="undefined"&&exports!==null?exports:window;root.Instafeed=Instafeed;root=typeof exports!=="undefined"&&exports!==null?exports:this;if(root.utils==null){root.utils={};}
root.utils.MatchHeight=(function(){MatchHeight.prototype.namespace='.match-height';function MatchHeight(_arg){var _ref;_ref=_arg!=null?_arg:{},this.target=_ref.target,this.copy=_ref.copy,this.on=_ref.on;this.onResize=__bind(this.onResize,this);this._bindElements();this._bindDestructors();this._bindHandlers();}
MatchHeight.prototype._bindElements=function(){this.$target=$(this.target);return this.$copy=$(this.copy);};MatchHeight.prototype._bindHandlers=function(){var debounced;debounced=this.onResize;$(window).on('resize'+this.namespace,debounced);debounced();_.delay(function(){return debounced();},200);return this.$target.find('img').on('load'+this.namespace,this.onResize);};MatchHeight.prototype._bindDestructors=function(){return $(window).unbind(this.namespace);};MatchHeight.prototype.onResize=function(){this._bindElements();return this.$target.css({height:this.$copy.outerHeight()});};return MatchHeight;})();root.utils.ViewportHeight=(function(){'The VH unit is not well supported. Use data-tags instead.\
	data-viewport-unit="line-height: 100vh; height: 100vh;';ViewportHeight.prototype.namespace='.viewport-styles';function ViewportHeight(_arg){var _ref;_ref=_arg!=null?_arg:{},this.element=_ref.element,this.styles=_ref.styles;this.onResize=__bind(this.onResize,this);this._vmin=__bind(this._vmin,this);this._vmax=__bind(this._vmax,this);this._vw=__bind(this._vw,this);this._vh=__bind(this._vh,this);this.$element=$(this.element);if(this.$element.hasClass('vp-loaded')){return;}
this.$element.addClass('vp-loaded');this.$window=$(window);this._bindDestructors();this._bindHandlers();this.onResize();}
ViewportHeight.prototype._bindDestructors=function(){return this.$window.unbind(this.namespace);};ViewportHeight.prototype._bindHandlers=function(){return $(window).on('resize'+this.namespace,_.debounce(this.onResize,50));};ViewportHeight.prototype._getStyles=function(){var key,style,styles,value,_i,_len,_ref,_ref1;styles={};_ref=_.filter(this.styles.split(';'),Boolean);for(_i=0,_len=_ref.length;_i<_len;_i++){style=_ref[_i];_ref1=style.split(':'),key=_ref1[0],value=_ref1[1];styles[$.trim(key)]=this._getValue(value);}
this._styles=styles;return this._styles;};ViewportHeight.prototype._getValue=function(value){var func,unit,viewportUnitMap;viewportUnitMap={'vh':this._vh,'vw':this._vw,'vmax':null,'vmin':null};value=$.trim(value.replace(';',''));for(unit in viewportUnitMap){func=viewportUnitMap[unit];if(value.substr(unit)){return func(parseInt(value))+'px';}}};ViewportHeight.prototype._vh=function(value){return this.$window.height()*value/100;};ViewportHeight.prototype._vw=function(value){return this.$window.width()*value/100;};ViewportHeight.prototype._vmax=function(value){return Math.max(this._vh(value),this._vw(value));};ViewportHeight.prototype._vmin=function(value){return Math.min(this._vh(value),this._vw(value));};ViewportHeight.prototype.onResize=function(){this.$element.css(this._getStyles());this.$element.trigger('change:size');return $("[data-viewport-style]:not(.vp-loaded)").each(function(index,el){return new root.utils.ViewportHeight({element:el,styles:$(el).data('viewport-style')});});};return ViewportHeight;})();root.utils.scrollTo=function(speed,easing){return $('body, html').animate({scrollTop:$(this).offset().top-50},speed||1000,easing||'easeInOutExpo');};root.utils.stickTo=function(element,stickTo,type){return'Stick to an element upon scrolling';};$.fn.extend({'scrollTo':function(){return root.utils.scrollTo.apply(this,arguments);},'forceLoadLazy':function(){return $(this).find(".lazy:not(.is-loaded)").each(function(index,el){return $(el).trigger('appear');});}});root.utils.readCookie=function(name){var c,ca,i,nameEQ;nameEQ=name+"=";ca=document.cookie.split(";");i=0;while(i<ca.length){c=ca[i];while(c.charAt(0)===" "){c=c.substring(1,c.length);}
if(c.indexOf(nameEQ)===0){return c.substring(nameEQ.length,c.length).replace(/"/g,'');}
i++;}};root.utils.setCookie=function(cookieName,cookieValue){var expire,today;today=new Date();expire=new Date(today.getFullYear(),today.getMonth()+1,1);return document.cookie=cookieName+"="+escape(cookieValue)+";expires="+expire.toGMTString();};root.lazyload=function(){var onLazyLoad;$(window).unbind('.lazy');onLazyLoad=function(){var $this,background,src;$this=$(this);$this.addClass('is-loaded');background=$this.data('background');if(background==='parent'){src=$this.data('original');$this.parent().css({'background-image':"url("+src+")"}).addClass('is-loaded');return $this.remove();}};$('img.lazy:not(.is-loaded)').lazyload({failure_limit:10,threshold:400,event:'scroll.lazy',load:onLazyLoad});return $('img.lazy.lazy-full-height:not(.is-loaded)').lazyload({failure_limit:10,threshold:400,load:onLazyLoad,event:'scroll.lazy'});};root.loader.onReady(function(){var $scrollTo,$tooltip,delay,hash,sequentialLoad;root.lazyload();delay=0;sequentialLoad=function(func,delayAmount){_.delay(function(){return func();},delay);return delay+=delayAmount;};$('img.sequential-load:not(.is-loaded)').each(function(index,el){var $el,_this=this;$el=$(el);$el.hide();$el.attr('src',$el.data('original'));return sequentialLoad(function(){return $(_this).fadeIn();},75);});$("[data-viewport-style]").each(function(index,el){return new root.utils.ViewportHeight({element:el,styles:$(el).data('viewport-style')});});$("[data-match-height]").each(function(index,el){var $el,copy,matchHeight,target;$el=$(el);target=$el;copy=$el.data('match-height');return matchHeight=new root.utils.MatchHeight({target:$el,copy:$el.data('match-height')});});$("[data-scroll-to]").each(function(index,el){var $scrollTo,selector;selector=$(el).data('scroll-to');$scrollTo=$(selector);$(window).unbind('.scroll-to');return $(el).on('click.scroll-to',function(){return $scrollTo.scrollTo();});});if(window.location.hash){hash=window.location.hash;hash=hash.replace('#-','');$scrollTo=$("[data-scroll-to=\"#"+hash+"\"]");$scrollTo.click();}
$tooltip=void 0;return $("[data-util-hover-tooltip]").each(function(index,el){if($tooltip===void 0){$tooltip=$("<div class=\"util-hover-tooltip\"></div>");$("body").append($tooltip);}
$(el).hover(function(){return $tooltip.stop(true,true).fadeIn();},function(){return $tooltip.fadeOut();});return $(el).on('mousemove',function(ev){ev.pageX;ev.pageY;return $tooltip.css({left:ev.clientX+10,top:ev.clientY+10}).html($(this).data('util-hover-tooltip'));});});});root.utils.isElementInViewport=function(el){var rect;if(el instanceof jQuery){el=el[0];}
rect=el.getBoundingClientRect();return rect.top>=0&&rect.left>=0&&rect.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&rect.right<=(window.innerWidth||document.documentElement.clientWidth);};$.fn.isPartiallyInViewport=function(){var bounds,viewport,win;win=$(window);viewport={top:win.scrollTop(),left:win.scrollLeft()};viewport.right=viewport.left+win.width();viewport.bottom=viewport.top+win.height();bounds=this.offset();bounds.right=bounds.left+this.outerWidth();bounds.bottom=bounds.top+this.outerHeight();return!(viewport.right<bounds.left||viewport.left>bounds.right||viewport.bottom<bounds.top||viewport.top>bounds.bottom);};root=typeof exports!=="undefined"&&exports!==null?exports:this;root.loader.onReady(function(){var href;href=window.location.href;if(root.LAST_GOOGLE_ANALYTICS_LOCATION!==href){root.LAST_GOOGLE_ANALYTICS_LOCATION=href;return $(document).trigger("page-url-changed");}else{return console.log("Analytics: not sending hit; same url as before: "+href);}});$(document).on('page-url-changed',function(){ga('set','page',window.location.pathname);ga('send','pageview');return console.log("Analytics: sending hit, this is a new url: "+window.location.href);});root=typeof exports!=="undefined"&&exports!==null?exports:this;root.components.component=function($element,args){};root.components.scrollTo=function($element){var args,defaults,options;args=root.utils.getArgs($element);defaults={selector:'body',speed:1000,easing:'easeInOutExpo',event:'click'};options=$.extend({},defaults,args);console.log('bind scrollto ',options);return $element.on(options.event,function(){var offset;offset=$(options.selector).offset().top;console.log('event occured',options,args);return $('html, body').animate({scrollTop:offset},options.speed,options.easing);});};root.components.newsletterSubscription=function($form,args){var $email,$error,$submit,controller;controller={};$error=$form.find('[js-signup-error]');$email=$form.find('[js-signup-email]');$submit=$form.find('[js-signup-submit]');controller.init=function(){return $form.submit(controller.onSubmit);};controller.onSubmit=function(ev){var task,validEmailRegex;ev.preventDefault();validEmailRegex=/^[-a-z0-9~!$%^&*_=+}{\'?]+(\.[-a-z0-9~!$%^&*_=+}{\'?]+)*@([a-z0-9_][-a-z0-9_]*(\.[-a-z0-9_]+)*\.(aero|arpa|biz|com|coop|edu|gov|info|int|mil|museum|name|net|org|pro|travel|mobi|[a-z][a-z])|([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}))(:[0-9]{1,5})?$/i;if(!$email.val()){controller.onError("Please enter your email address");}
if(!$email.val().match(validEmailRegex)){controller.onError("Please enter a valid email address");return false;}
$form.removeClass('is-error');task=$.ajax({type:'POST',url:'/newsletter-signup/ajax/',data:{email:$email.val()},dataType:'json'});task.done(function(response){if(response.success){return controller.onSuccess();}else{return controller.onError(response.message);}});return task.fail(function(response){return controller.onError("An error ocurred while processing your signup");});};controller.onSuccess=function(){$email.val('Signed up!');$submit.hide();$email.prop('disabled',true);return $error.hide();};controller.onError=function(message){if(message==null){message="Please enter your email address";}
$form.addClass('is-error');return $error.html(message);};return controller.init();};root.components.instagramFeed=function($element,args){var instagramFeed;instagramFeed=new Instafeed({get:'user',tagName:'',accessToken:'3680549.467ede5.e343e56a734a466a97166ebbc5a7294e',userId:1017689,mock:true,limit:8,success:function(response){var $image,contentSlider,image,_i,_len,_ref;_ref=response.data;for(_i=0,_len=_ref.length;_i<_len;_i++){image=_ref[_i];$image=$("<div class=\"gangstagram infinite-scroller-item\">\n  <img class=\"lazy\" data-original=\""+image.images.low_resolution.url+"\" src=\"/static/img/1x1.gif\" />\n  <a class=\"gangstagram-hover gvalign\" href=\""+image.link+"\" title=\""+image.caption.text+"\" target=\"_blank\">\n    <div class=\"text gvalign-child\">\n      "+image.caption.text+"\n    </div>\n  </a>\n</div>");$(".home-gangstagram .content-slider-items").append($image);}
contentSlider=new root.modules.ContentSlider({selector:'.home-gangstagram .content-slider-container',itemSelector:'.gangstagram',itemsPerSlide:function(){return 8;},onAfterRenderSlide:function(){return root.lazyload();},renderIndicators:false,renderNavigation:false});return root.lazyload();}});return instagramFeed.run();};root.components.swiper=function($element,args){return $element.swiper(args);};root.components.stickyElement=function($element,args){var controller;controller={};controller.isSticky=false;controller.init=function(){var $window;$window=$(window);$window.on('scroll',function(){var offset,scrollTop;scrollTop=$window.scrollTop();offset=$element.offset().top;if(args.offset){offset-=Number(args.offset);}
if(offset<scrollTop){controller.enableSticky();}else{controller.disableSticky();}});};controller.enableSticky=function(){$element.addClass('js-is-sticky');controller.isSticky=true;};controller.disableSticky=function(){$element.removeClass('js-is-sticky');controller.isSticky=false;};controller.init();return args;};$(document).on('ready pjax:end',function(){var $globalMessagesContainer;$globalMessagesContainer=$(".global-message-container");return $globalMessagesContainer.find('.close').click(function(ev){return $globalMessagesContainer.slideUp();});});root=typeof exports!=="undefined"&&exports!==null?exports:this;root.controllers.journalTextBlock=function($element,args){var doResize,ratio;ratio=16/9.0;doResize=function(){var columnWidth;columnWidth=$element.find('.textblock__inner').width();$element.find('iframe').attr('width',columnWidth+'px');return $element.find('iframe').attr('height',(columnWidth/ratio)+'px');};$(window).resize(doResize);return doResize();};root.controllers.journalCategory=function($element,args){var $journals,_this=this;console.log('journal category controller');$journals=$('[js-journal-slide]:not(:first)');return $("[js-journal-filter]").on('click',function(ev){var $el,$matches,category,query;$el=$(ev.currentTarget);category=($el.attr('js-journal-filter')).toLowerCase();console.log('clicked',category);$journals.hide();query="[js-journal-slide=\""+category+"\"]";console.log("Querying: ",query);$matches=$(query);$matches.fadeIn();console.log('matches',$matches);return $('html, body').animate({scrollTop:$(".journal-categories").offset().top-root.variables.navbarHeight},750,'easeInOutExpo');});};Superbar=(function(){Superbar.prototype.hoverIntentDelay=750;Superbar.prototype.hoverIntent={};function Superbar($element){this.close=__bind(this.close,this);this.activateSuperbar=__bind(this.activateSuperbar,this);this.hoverIntentCloseSuperbar=__bind(this.hoverIntentCloseSuperbar,this);this.hoverIntentCloseDropdown=__bind(this.hoverIntentCloseDropdown,this);this.initDropdownTriggers=__bind(this.initDropdownTriggers,this);this.initSubnav=__bind(this.initSubnav,this);this.registerInteraction=__bind(this.registerInteraction,this);this.hoverIntent=__bind(this.hoverIntent,this);this.$element=$element;this.$navbar=this.$element.find('[js-navbar]');this.$superbarContents=this.$element.find('[js-superbar-content]');this.$superbarTriggers=$("[js-superbar-trigger]");this.initSubnav();this.initDropdownTriggers();}
Superbar.prototype.hoverIntent=function(name,cb){clearTimeout(hoverIntent[name]);return hoverIntent[name]=_.delay(cb,this.hoverIntentDelay);};Superbar.prototype.registerInteraction=function(){};Superbar.prototype.initSubnav=function(){var _this=this;return this.$superbarTriggers.on('mouseenter',function(ev){clearTimeout(_this.hoverIntentSuperbarTriggerID);return _this.hoverIntentSuperbarTriggerID=_.delay(function(){var $this,superbar;$this=$(ev.currentTarget);superbar=$this.attr('js-superbar-trigger');return _this.activateSuperbar(superbar);},150);});};Superbar.prototype.initDropdownTriggers=function(){var _this=this;this.$triggers=this.$element.find('[js-superbar-dropdown-trigger]');this.$dropdowns=this.$element.find('[js-superbar-dropdown]');this.$triggers.on('mouseenter',function(ev){var $dropdown,$this;$this=$(ev.currentTarget);$dropdown=$this.parent().find('[js-superbar-dropdown]');_this.hoverIntentCloseDropdown($dropdown,false);return _this.hoverIntentCloseSuperbar(false);});this.$triggers.on('mouseleave',function(ev){var $this;$this=$(ev.currentTarget);return _this.hoverIntentCloseDropdown(null,true);});this.$superbarContents.on('mouseenter',function(){console.log("Entering super bar contents... prevent superbar close");return _this.hoverIntentCloseSuperbar(false);});this.$dropdowns.on('mouseenter',function(){_this.hoverIntentCloseDropdown(false);return _this.hoverIntentCloseSuperbar(false);});this.$dropdowns.on('mouseleave',function(){_this.hoverIntentCloseDropdown(null,true);return _this.hoverIntentCloseSuperbar(true);});this.$navbar.on('mouseleave',function(){_this.hoverIntentCloseDropdown(null,true);return _this.hoverIntentCloseSuperbar(true);});return this.$navbar.on('mousemove',function(){return clearTimeout(_this.hoverIntentCloseSuperbarID);});};Superbar.prototype.hoverIntentCloseDropdown=function($dropdown,apply){var _this=this;clearTimeout(this.hoverIntentCloseDropdownID);clearTimeout(this.hoverIntentSuperbarTriggerID);if(apply===false){if(!$dropdown.is(':visible')){this.$dropdowns.stop(true,true).slideUp();$dropdown.stop(true,true).slideDown({start:function(){return _this.fitDropdown($dropdown);}});}}
if(apply===true){return this.hoverIntentCloseDropdownID=_.delay(function(){return _this.$dropdowns.stop(true,true).slideUp();},this.hoverIntentDelay);}};Superbar.prototype.hoverIntentCloseSuperbar=function(apply){var _this=this;clearTimeout(this.hoverIntentCloseSuperbarID);if(apply===true){clearTimeout(this.hoverIntentSuperbarTriggerID);return this.hoverIntentCloseSuperbarID=_.delay(function(){_.delay(function(){_this.$superbarTriggers.removeClass('-active');_this.$superbarContents.removeClass('-active');return _this.$navbar.removeClass('-superbar-active');},350);return _this.$superbarContents.stop(true,true).slideUp();},this.hoverIntentDelay);}};Superbar.prototype.fitDropdown=function($dropdown){var maxWidth,padding,titleWidth,totalWidth,_this=this;if($dropdown.data('width-adjusted')){return;}
titleWidth=$dropdown.prev('[js-superbar-dropdown-trigger]').width();padding=$dropdown.innerWidth()-$dropdown.width();maxWidth=0;$dropdown.find('.superbar-dropdown__a').each(function(j,item){if($(item).width()>maxWidth){return maxWidth=$(item).width();}});totalWidth=maxWidth+padding;if(totalWidth>titleWidth){$dropdown.width(totalWidth);totalWidth=$dropdown.innerWidth();$dropdown.css('left',(-1/2)*(totalWidth-titleWidth));}
return $dropdown.data('width-adjusted',true);};Superbar.prototype.activateSuperbar=function(superbar){var $superbar,$superbarTrigger,_this=this;this.$dropdowns.hide();this.$superbarContents.removeClass('-active');this.$navbar.addClass('-superbar-active');$superbar=this.$superbarContents.filter("[js-superbar-content=\""+superbar+"\"]");$superbar.addClass('-active');_.delay(function(){return $superbar.stop(true,true).slideDown();},200);this.$superbarTriggers.removeClass('-active');$superbarTrigger=$("[js-superbar-trigger=\""+superbar+"\"]");return $superbarTrigger.addClass('-active');};Superbar.prototype.close=function(){};return Superbar;})();root.controllers.navbar=function($element,args){return this.api={};};root.controllers.superbar=function($element,args){var $navbar,_this=this;this.api={};$navbar=$element.find('');this.api.close=function(){return console.log('Closing superbar');};return this.api;};root.controllers.productGrid=function($element,args){var $select,productURL;$select=$element.find('.product-option');productURL=$element.find('.product-link').attr('href');return $select.on('change',function(){var variant_id;variant_id=$select.val();console.log('updating product grid image to ',variant_id);fbq('track','ViewContent',{content_type:'product',content_ids:[$(this).data('variant-sku')],value:parseFloat($(this).data('variant-price')),currency:'USD'});return $element.find("[js-product-grid-target]").loadFragment({url:'/collections/ajax/quick-add/',data:{template:'shop/products/fragments/shop_product.html',collection_variant_id:args.collectionVariantID,variant_id:variant_id}});});};root.controllers.collectionFilter=function($element){var initFilterDropdowns,initFilterPopup;(initFilterPopup=function(){var $filters,$trigger;$trigger=$element.find('[js-collection-filter-trigger]');$filters=$element.find('.collection-filter__items');return $trigger.on('mouseenter',function(){return $filters.fadeIn();});})();return(initFilterDropdowns=function(){var $trigger,getDropdownIndex,timeouts;$trigger=$element.find('[js-collection-filter-dropdown-trigger]');timeouts={};getDropdownIndex=function($dropdown){return $("[js-collection-filter-dropdown]").index($dropdown);};$trigger.on('mouseover',function(){var $dropdown;$dropdown=$(this).closest('.collection-filter__item').find('[js-collection-filter-dropdown]');return $dropdown.slideDown(800,'easeInOutExpo');});$trigger.on('mouseenter',function(){var $dropdown;$dropdown=$(this).closest('.collection-filter__item').find('[js-collection-filter-dropdown]');return clearTimeout(timeouts[getDropdownIndex($dropdown)]);});return $trigger.on('mouseleave',function(){var $dropdown;console.log('moused out');$dropdown=$(this).closest('.collection-filter__item').find('[js-collection-filter-dropdown]');return timeouts[getDropdownIndex($dropdown)]=setTimeout(function(){return $dropdown.slideUp(500,'easeInOutExpo');},300);});})();};root.controllers.productGridForm=function($element,args){return $element.submit(function(ev){ev.preventDefault();return $.ajax({url:"/my-cart/add-to-cart/",type:'post',data:$(this).serialize(),success:function(){if(args.reload_page){window.location.reload(true);return;}
return $("[js-cart-overlay-fragment]").loadFragment({url:"/my-cart/",data:{template:'shop/cart/fragments/v2_cart_overlay.html'},onSuccess:function(response){var cartCount;cartCount=Number($('.updated-cart-count').html());$(".cart-count").html(cartCount);if(cartCount>0){$(".cart-link").addClass('has-items');}else{$(".cart-link").removeClass('has-items');}
return $("[js-controller=\"cartOverlay\"]").fadeIn();}});}});});};root.controllers.contactForm=function($element,args){var $subjectSelect,_this=this;$subjectSelect=$(".contact-form-subject");return $subjectSelect.on('change',function(){var $html,$input,$next,$option,$target,field,inputs,label,question,subject,updateSubject,_i,_j,_len,_len1,_ref,_results;$option=$subjectSelect.find("option:selected");question=$option.html().trim();args=root.utils.getArgs($option);console.log($option.val(),args);$target=$element.find('[js-contact-form-target]');$target.html('');$next=$("<a class='button' target='_blank'>CONTACT US</a>");$next.css('width','100%');inputs=[];if(args.fields){_ref=args.fields;for(_i=0,_len=_ref.length;_i<_len;_i++){field=_ref[_i];console.log('processing field',field);label=field.label;$html=$("<div class=\"form-row\">\n    <div class=\"form-field-wrapper\">\n      <div class=\"form-field\">\n        <div class=\"form-field-label\">\n          "+label+"\n        </div>\n        <input type=\"text\" name=\""+label+"\" />\n      </div>\n    </div>\n  </div>");$html.appendTo($target);inputs.push($html);}}
$next.appendTo($target);console.log($next);subject='';updateSubject=function(){var $input,input,value,_j,_len1,_ref1;subject='';_ref1=$target.find(':input');for(_j=0,_len1=_ref1.length;_j<_len1;_j++){input=_ref1[_j];$input=$(input);label=$input.attr('name');value=$input.val();subject=subject+(""+label+": "+value+" ");console.log('updating subject..',label,value,$input);}
return $next.attr('href',"mailto:grovemade@grovemade.com?subject="+question+" - "+subject);};updateSubject();_results=[];for(_j=0,_len1=inputs.length;_j<_len1;_j++){$input=inputs[_j];_results.push($input.on('keyup change',updateSubject));}
return _results;});};root.controllers.productHeroSwiper=function($element,args){var $swiper,autoplay,swiper;$swiper=$element.find('[js-product-hero-swiper]');autoplay=true;if($element.find(".swiper-slide").length===1){autoplay=false;}
swiper=$swiper.swiper({prevButton:$element.find('.product__navigation-arrow--left')[0],nextButton:$element.find('.product__navigation-arrow--right')[0],autoplay:autoplay?4000:false,calculateHeight:true,grabCursor:true,speed:500,effect:'fade',loop:true,fade:{crossFade:true}});setTimeout(function(){return swiper.update();},500);return setTimeout(function(){return swiper.update();},1000);};root.controllers.productHero=function($element,args){var $variantInput,handleAddToCart,handleDynamicProductFragments,handleFacebookPixel,_this=this;$("body").addClass('no-navbar-padding');(handleAddToCart=function(){return $element.find('form').submit(function(ev){ev.preventDefault();return $.ajax({url:"/my-cart/add-to-cart/?view-desktop-site",type:'post',data:$(this).serialize(),success:function(){return $("[js-cart-overlay-fragment]").loadFragment({url:"/my-cart/",data:{template:'shop/cart/fragments/v2_cart_overlay.html'},onSuccess:function(response){var cartCount;cartCount=Number($('.updated-cart-count').html());$(".cart-count").html(cartCount);if(cartCount>0){$(".cart-link").addClass('has-items');}else{$(".cart-link").removeClass('has-items');}
return $("[js-controller=\"cartOverlay\"]").fadeIn();}});}});});})();$variantInput=$element.find("[js-variant-id]");(handleDynamicProductFragments=function(){return $variantInput.on('change',function(ev){var variant_id;variant_id=$variantInput.val();console.log("Variant changed to ",variant_id);$element.find("[js-product-fragment-gallery]").loadFragment({url:'.',data:{template:'shop/products/fragments/v2_gallery--sidebar.html',variant_id:variant_id},onSuccess:function(){return root.utils.bindJSControllers($element);}});$element.find("[js-product-fragment-info]").loadFragment({url:'.',data:{template:'shop/products/fragments/v2_info--sidebar.html',variant_id:variant_id}});return $element.find("[js-product-fragment-buy]").loadFragment({url:'.',data:{template:'shop/products/fragments/v2_buy.html',variant_id:variant_id}});});})();return(handleFacebookPixel=function(){var getVariantPrice,getVariantSku,_sendFBPixelAddToCart,_sendFBPixelContentView,_this=this;getVariantSku=function(){return $('[js-variant-info]').data('variant-sku');};getVariantPrice=function(){return parseFloat($("[js-variant-info]").data('variant-price'));};(_sendFBPixelContentView=function(){return _.delay(function(){var payload;payload={content_type:'product',content_ids:[getVariantSku()],value:getVariantPrice(),currency:'USD'};console.log('fbContentViewPayload',payload);return fbq('track','ViewContent',payload);},500);})();_sendFBPixelAddToCart=function(){return _.delay(function(){var payload;payload={content_type:'product',content_ids:[getVariantSku()],value:getVariantPrice(),currency:'USD'};console.log('fbAddToCartPayload',payload);return fbq('track','AddToCart',payload);},500);};$variantInput.on('change',_sendFBPixelContentView);return $element.find('form').on('submit',_sendFBPixelAddToCart);})();};root.controllers.productBar=function($element,args){return console.log('no desktop product bar');};root.controllers.product=function($element,args){var $variantInput,handleAddToCart,handleDynamicProductFragments,handleFacebookPixel,_this=this;$element.addClass('js-loaded');$element.find('[js-product-bar-down]').on('click',function(){console.log('click');return $('html, body').animate({scrollTop:$(window).scrollTop()+500},500,'easeInOutExpo');});(handleAddToCart=function(){return $element.find('form').on('submit',function(ev){console.log("Adding to cart");ev.preventDefault();return $.ajax({url:"/my-cart/add-to-cart/?view-desktop-site",type:'post',data:$(this).serialize(),success:function(){return $(".cart-popup-fragment").loadFragment({url:"/my-cart/",data:{template:'shop/cart/fragments/cart_popup.html'},onSuccess:function(response){var $cartPopupHandler,cartCount;cartCount=Number($('.updated-cart-count').html());$(".cart-count").html(cartCount);if(cartCount>0){$(".cart-link").addClass('has-items');}else{$(".cart-link").removeClass('has-items');}
$cartPopupHandler=$(".cart-popup-wrapper").data('handler');return $cartPopupHandler.open();}});}});});})();$variantInput=$element.find("[js-variant-id]");(handleDynamicProductFragments=function(){return $variantInput.on('change',function(ev){var variant_id;variant_id=$variantInput.val();console.log("Variant changed to ",variant_id);$element.find("[js-product-fragment-gallery]").loadFragment({url:'.',data:{template:'shop/products/fragments/v2_gallery.html',variant_id:variant_id},onSuccess:function(){return root.utils.bindJSControllers($element);}});$element.find("[js-product-fragment-info]").loadFragment({url:'.',data:{template:'shop/products/fragments/v2_info.html',variant_id:variant_id}});return $element.find("[js-product-fragment-buy]").loadFragment({url:'.',data:{template:'shop/products/fragments/v2_buy.html',variant_id:variant_id}});});})();return(handleFacebookPixel=function(){var getVariantPrice,getVariantSku,_sendFBPixelAddToCart,_sendFBPixelContentView,_this=this;getVariantSku=function(){return $('[js-variant-info]').data('variant-sku');};getVariantPrice=function(){return parseFloat($("[js-variant-info]").data('variant-price'));};(_sendFBPixelContentView=function(){return _.delay(function(){var payload;payload={content_type:'product',content_ids:[getVariantSku()],value:getVariantPrice(),currency:'USD'};console.log('fbContentViewPayload',payload);return fbq('track','ViewContent',payload);},500);})();_sendFBPixelAddToCart=function(){return _.delay(function(){var payload;payload={content_type:'product',content_ids:[getVariantSku()],value:getVariantPrice(),currency:'USD'};console.log('fbAddToCartPayload',payload);return fbq('track','AddToCart',payload);},500);};$variantInput.on('change',_sendFBPixelContentView);return $element.find('form').on('submit',_sendFBPixelAddToCart);})();};root.controllers.product2Up=function($element,args){var $cols;$cols=$element.find('[js-product-2up-col]');$(window).on('resize.clear-on-pjax',function(){return $element.height($element.find('.product-2up__content').outerHeight());});return $element.height($element.find('.product-2up__content').outerHeight());};root.controllers.productGallery=function($element,args){var $swiper,$swiperWrapper,getScrollFraction,parallaxOnScroll,swiper;$element.on('mousedown',function(){return $element.find('.product-gallery__hint').fadeOut();});$swiper=$element.find('[js-product-gallery-swiper]');swiper=$swiper.swiper({nextButton:$element.find('.product-gallery__navigation-arrow--right')[0],prevButton:$element.find('.product-gallery__navigation-arrow--left')[0],loop:true,grabCursor:true,effect:'fade',fade:{crossFade:true},onSlideChangeStart:function(swiper){var realIndex;realIndex=parseInt(swiper.slides.eq([swiper.activeIndex]).attr('data-swiper-slide-index')||swiper.activeIndex);return $element.find('[js-product-gallery-pagination-current]').html(realIndex+1);},onInit:function(swiper){return $element.find('[js-product-gallery-pagination-total]').html(swiper.slides.length-2);}});$swiperWrapper=$element.find('.swiper-wrapper');getScrollFraction=function(){var distanceFromEnteringViewpoint,eH,eT,element,endPoint,percentageTraveled,startPoint,totalDistance,wH,wT,window_;eH=$element.height();eT=$element.offset().top;element={h:eH,top:eT,bottom:eT+eH};wT=$(window).scrollTop();wH=$(window).height();window_={h:wH,top:wT,bottom:wT+wH};if(window_.bottom>element.top&&window_.top<element.bottom){startPoint=element.top;endPoint=element.bottom+window_.h;totalDistance=startPoint-endPoint;distanceFromEnteringViewpoint=window_.bottom-element.top;return percentageTraveled=distanceFromEnteringViewpoint/totalDistance;}};parallaxOnScroll=function(){var percentageTraveled,transform,translate;percentageTraveled=getScrollFraction();translate=250*percentageTraveled;transform="translate3d(0, "+translate+"px, 0)";return $swiperWrapper.css({transform:transform});};return $(window).on('scroll.clear-on-pjax',_.throttle(parallaxOnScroll,50));};root.controllers.productExploded=function($element,args){var $images,getScrollFraction,setImagePositions;$images=$element.find('[js-direction]');getScrollFraction=function(){var END_OFFSET,START_OFFSET,distanceFromEnteringViewpoint,eH,eT,element,endPoint,percentageTraveled,startPoint,totalDistance,wH,wT,window_;eH=$element.height();eT=$element.offset().top;START_OFFSET=0;END_OFFSET=0;element={h:eH,top:eT+START_OFFSET,bottom:eT+eH+END_OFFSET};wT=$(window).scrollTop();wH=$(window).height();window_={h:wH,top:wT,bottom:wT+wH};if(window_.bottom>element.top&&window_.top<element.bottom){startPoint=element.top;endPoint=element.bottom+window_.h;totalDistance=endPoint-startPoint;distanceFromEnteringViewpoint=window_.bottom-element.top;percentageTraveled=distanceFromEnteringViewpoint/totalDistance;return percentageTraveled;}
if(window_.bottom<element.top){return 0;}
if(window_.top<element.bottom){return 1;}};setImagePositions=function(){var scrollFraction;scrollFraction=Math.abs(getScrollFraction());return $images.each(function(){var direction,directionMultiplier,distance,distanceIntoRange,end,newDistance,newPercentage,progressIntoRange,start,startEndDistance;direction=$(this).attr('js-direction');distance=parseInt($(this).attr('js-distance'));start=Number($(this).attr('js-start-time'));end=Number($(this).attr('js-end-time'));startEndDistance=end-start;switch(direction){case'left':directionMultiplier=-1;break;case'right':directionMultiplier=1;}
distanceIntoRange=scrollFraction-start;progressIntoRange=distanceIntoRange/startEndDistance;if(progressIntoRange<0){progressIntoRange=0;}
if(progressIntoRange>1){progressIntoRange=1;}
newDistance=progressIntoRange*distance;newPercentage=newDistance*directionMultiplier;return $(this).css({left:newPercentage+'%'});});};return $(window).on('scroll.clear-on-pjax',_.throttle(setImagePositions,50));};root.controllers.productAcoustics=function($element,args){var $letters,getScrollFraction,setLetterOpacity;getScrollFraction=function(){var END_OFFSET,START_OFFSET,distanceFromEnteringViewpoint,eH,eT,element,endPoint,percentageTraveled,startPoint,totalDistance,wH,wT,window_;eH=$element.height();eT=$element.offset().top;START_OFFSET=0;END_OFFSET=0;element={h:eH,top:eT+START_OFFSET,bottom:eT+eH+END_OFFSET};wT=$(window).scrollTop();wH=$(window).height();window_={h:wH,top:wT,bottom:wT+wH};if(window_.bottom>element.top&&window_.top<element.bottom){startPoint=element.top;endPoint=element.bottom+window_.h;totalDistance=endPoint-startPoint;distanceFromEnteringViewpoint=window_.bottom-element.top;percentageTraveled=distanceFromEnteringViewpoint/totalDistance;if(percentageTraveled>.55){return 1-percentageTraveled;}
return percentageTraveled;}
if(window_.bottom<element.top){return 0;}
if(window_.top<element.bottom){return 1;}};$letters=$element.find('[js-product-acoustics-letter]');setLetterOpacity=function(){var scrollFraction;scrollFraction=Math.abs(getScrollFraction());return $letters.each(function(){var distanceIntoRange,end,progressIntoRange,start,startEndDistance,translateAmount;start=Number($(this).attr('js-start-time'));end=Number($(this).attr('js-end-time'));startEndDistance=end-start;distanceIntoRange=scrollFraction-start;progressIntoRange=distanceIntoRange/startEndDistance;if(progressIntoRange<0){progressIntoRange=0;}
if(progressIntoRange>1){progressIntoRange=1;}
translateAmount=-20*(1-progressIntoRange);return $(this).css({opacity:progressIntoRange,transform:"translateY("+translateAmount+"px)","-webkit-transform":"translateY("+translateAmount+"px)","-moz-transform":"translateY("+translateAmount+"px)"});});};return $(window).on('scroll.clear-on-pjax',_.throttle(setLetterOpacity,50));};root.controllers.speakerPopup=function($element,args){var handlePopup;(handlePopup=function(){var $close,cookieName,hide,path,shown,valid,validPaths,_i,_len,_this=this;validPaths=['iphone','iphone-case'];valid=false;for(_i=0,_len=validPaths.length;_i<_len;_i++){path=validPaths[_i];if(window.location.pathname.indexOf(path)>0){valid=true;}}
if(valid){cookieName=args.cookieName||'speaker-popup';shown=root.utils.readCookie(cookieName);if(window.location.host==='localhost:5000'){shown=false;}
if(!shown){setTimeout(function(){$element.fadeIn();return root.utils.setCookie(cookieName,true);},1000);}
hide=function(){return $element.fadeOut();};$close=$('[js-speaker-popup-close]');$close.on('click',hide);return $(document).on('keyup.clear-on-pjax',function(ev){if(ev.keyCode===27){return _this.hide();}});}})();return $(document).on('pjax:success',function(){return handlePopup();});};root.controllers.productPopupVideo=function($element,args){return $element.on('click',function(ev){var $container,$content,href,_this=this;console.log('clcked',href);href=$element.attr('href');$container=$("<div class=\"grove-overlay\">\n  <div class=\"grove-overlay-content product-image-video\">\n    <iframe width=\"853\" height=\"480\" src=\""+href+"\" frameborder=\"0\" allowfullscreen></iframe>\n  </div>\n</div>");$(".pjax-container").append($container);$content=$container.find('.grove-overlay-content');$content.css({width:853+20,height:480+20,marginTop:-480/2,marginLeft:-853/2});$container.fadeIn();ev.preventDefault();$container.on('click',function(){return $container.fadeOut('fast',function(){return $container.remove();});});return $(document).on('keyup.clear-on-pjax',function(ev){if(ev.keyCode===27){return $container.fadeOut('fast',function(){return $container.remove();});}});});};root.controllers.indexSwiper=function($element,args){var $swiper,swiper;$swiper=$element;return swiper=$swiper.swiper({loop:true,grabCursor:true});};root.controllers.productVimeo=function($element,args){};root.controllers.shopFilter=function($element,args){};root.controllers.minFooterHeight=function($element,args){var onResize;(onResize=function(){var height;height=$(window).height()-$(".v2-footer").outerHeight()-$(".navbar-height-retainer").height();return $element.css('min-height',height);})();return $(window).on('resize',onResize);};root.controllers.homeSwiper=function($element,args){return $element.swiper({loop:true,effect:"fade",fade:{crossFade:true},speed:1000,autoplay:5000,autoplayDisableOnInteraction:true,nextButton:'.home-swiper__arrow--next',prevButton:'.home-swiper__arrow--prev'});};root.controllers.desktop=function($element,args){return $.fn.matchHeight();};root=typeof exports!=="undefined"&&exports!==null?exports:this;root.NavbarHandler=(function(){function NavbarHandler(){this.onScroll=__bind(this.onScroll,this);this._bindElements();this._bindHandlers();}
NavbarHandler.prototype._bindElements=function(){this.$navbar=$(".navbar");return this.$stickyNavbarWrapper=$(".sticky-navbar-wrapper");};NavbarHandler.prototype._bindHandlers=function(){return this._bindStickyNavHandler();};NavbarHandler.prototype._bindStickyNavHandler=function(){return $(window).scroll(_.debounce(this.onScroll,10));};NavbarHandler.prototype.onScroll=function(){var top;top=$(window).scrollTop();this.stickyTop=21;if(top>=this.stickyTop){return this.onSticky();}else{return this.onUnSticky();}};NavbarHandler.prototype.onSticky=function(){this.$navbar.addClass('is-sticky');return $('[js-navbar]').trigger('toggle:sticky',[true]);};NavbarHandler.prototype.onUnSticky=function(){this.$navbar.removeClass('is-sticky');return $('[js-navbar]').trigger('toggle:sticky',[false]);};return NavbarHandler;})();root.NavbarCartHandler=(function(){function NavbarCartHandler(){this.onCartClick=__bind(this.onCartClick,this);this._bindElements();this._bindHandlers();}
NavbarCartHandler.prototype._bindElements=function(){this.$navbar=$('[js-navbar]');this.$cartLink=$(".cart-link");this.$cartPopup=$('.cart-popup-wrapper');return this.$cartPopup.data('handler',this);};NavbarCartHandler.prototype._bindHandlers=function(){var _this=this;$(document).on('click','.cart-popup-wrapper .close',function(){return _this.close();});this.$cartLink.on('mouseenter',function(){_this.$cartPopup.stop(true,true).fadeIn();return _this.$navbar.addClass('cart-open');});return $('.secondary-links').on('mouseleave',function(){_this.$cartPopup.stop(true,true).fadeOut();_this.$navbar.removeClass('cart-open');return $(".cart-open").removeClass('cart-open');});};NavbarCartHandler.prototype.onCartClick=function(ev){if(this.$cartPopup.is(':visible')){return this.close();}else{return this.open();}};NavbarCartHandler.prototype.open=function(){this.$cartPopup.slideDown();return $("html").addClass('cart-open');};NavbarCartHandler.prototype.close=function(){this.$cartPopup.fadeOut();return $("html").removeClass('cart-open');};return NavbarCartHandler;})();ScrollSpyElement=(function(){function ScrollSpyElement(element){this.getOffset=__bind(this.getOffset,this);var target;this.$element=$(element);target=this.$element.data('scrollspy');this.$target=$(target);}
ScrollSpyElement.prototype.calculateStatus=function(top){var offset;offset=this.getOffset();this.topOffset=offset;if(offset-50<=top){return this.activate();}else{return this.deactivate();}};ScrollSpyElement.prototype.getOffset=function(){var offset;offset=this.$target.offset();if(offset){return offset.top;}
return 0;};ScrollSpyElement.prototype.activate=function(){return this.$element.addClass('is-active');};ScrollSpyElement.prototype.deactivate=function(){return this.$element.removeClass('is-active');};return ScrollSpyElement;})();root.ScrollSpyHandler=(function(){ScrollSpyHandler.prototype.namespace='.scrollspy';function ScrollSpyHandler(){this.onScroll=__bind(this.onScroll,this);this.$watchedElements=[];this._bindDestructors();this._bindHandlers();this.$elements=$([]);}
ScrollSpyHandler.prototype._bindDestructors=function(){return $(window).unbind(this.namespace);};ScrollSpyHandler.prototype._bindHandlers=function(){return $(window).on('scroll'+this.namespace,_.throttle(this.onScroll,25));};ScrollSpyHandler.prototype.onScroll=function(){var $spyElement,max,top,_i,_len,_ref;top=$(window).scrollTop();_ref=this.$watchedElements;for(_i=0,_len=_ref.length;_i<_len;_i++){$spyElement=_ref[_i];$spyElement.calculateStatus(top);}
max=0;return this.$elements.filter('.is-active:not(:last)').removeClass('is-active');};ScrollSpyHandler.prototype.addElement=function(el){'Store all scrollspy elements';this.$watchedElements.push(new ScrollSpyElement(el));return this.$elements=this.$elements.add(el);};return ScrollSpyHandler;})();'Given an element to highlight, and an element to watch, efficiently toggle the state of highlight elements';$(function(){new root.NavbarHandler;return new root.NavbarCartHandler;});root=typeof exports!=="undefined"&&exports!==null?exports:this;root=typeof exports!=="undefined"&&exports!==null?exports:this;initializePage=function(){var i,resizeTiming,_i,_len,_results;$("[data-mh]").matchHeight();resizeTiming=[200,800];_results=[];for(_i=0,_len=resizeTiming.length;_i<_len;_i++){i=resizeTiming[_i];_results.push(_.delay(function(){$("[data-mh]").matchHeight();return $(window).trigger("resize");},i));}
return _results;};if($.support.pjax){$.pjax.defaults.timeout=3000;$.pjax.defaults.scrollTo=0;$(document).on('ready',function(){window.addShopifyLinkerLinks();$(document).on('click','a',function(ev){var maxPJAX,pjaxCount,target;maxPJAX=20;pjaxCount=parseInt(root.utils.readCookie('pjax-count')||maxPJAX);if(window.PJAX_OFF){return true;}
target=$(this).attr('target');if(target&&target.indexOf('blank')>0){return true;}
if(pjaxCount>0){$.pjax.click(ev,{container:'.pjax-container'});return root.utils.setCookie('pjax-count',pjaxCount-1);}else{console.log("[pjax]","pjax limit reached -- refreshing page");root.utils.setCookie('pjax-count',maxPJAX);return true;}});$(document).on('submit','form[data-pjax]',function(ev){$.pjax.submit(ev,'.pjax-container');return initializePage();});$(document).on('pjax:send',function(){console.log("[pjax]","pjax:send loading overlay in");return $(".loading-overlay").fadeIn(100);});$(document).on('pjax:success',function(){console.log("[pjax]","pjax:success");$(window).unbind('.clear-on-pjax');root.utils.bindJSControllers();$(".cart-open").removeClass('.cart-open');window.addShopifyLinkerLinks();initializePage();$(".loading-overlay").fadeOut(100);return $(document).trigger('aria-announce',[{priority:'assertive',message:'Loaded page: '+document.title}]);});$(document).on('pjax:popstate',function(){console.log("[pjax]",'pjax:popstate - force re execute JS');initializePage();$(window).unbind('.clear-on-pjax');root.utils.bindJSControllers(null,true);return window.addShopifyLinkerLinks();});return $(document).on('pjax:timeout',function(ev){return ev.preventDefault();});});}
root=typeof exports!=="undefined"&&exports!==null?exports:this;root.loader.executeOnKey('blog-list',function(){});root=typeof exports!=="undefined"&&exports!==null?exports:this;root.loader.executeOnKey('collection',function(){$(".collection-content").hover(function(){var _this=this;$(this).addClass('is-active');return _.delay(function(){var $description,$images;$description=$(_this).find('.collection-description');$description.animate({height:"show",marginTop:"show",marginBottom:"show",paddingTop:"show",paddingBottom:"show",opacity:1},600,'easeInOutCubic');$images=$(_this).parent().find('.collection-image');return $images.stop(true).animate({scale:1.07},10000);},300);},function(){var _this=this;$(this).removeClass('is-active');return _.delay(function(){var $description,$images;$description=$(_this).find('.collection-description');$description.stop(true,true).animate({height:"hide",marginTop:"hide",marginBottom:"hide",paddingTop:"hide",paddingBottom:"hide"},600,'easeInOutCubic');$images=$(_this).parent().find('.collection-image');return $images.stop(true).animate({scale:1},2000);},300);});return $(".collection-content").on('mouseenter',function(ev){var $images;return $images=$(this).parent().find('.collection-image');});});root=typeof exports!=="undefined"&&exports!==null?exports:this;root.CollectionFilterManager=(function(){function CollectionFilterManager(){this.onLabelClick=__bind(this.onLabelClick,this);this._show=__bind(this._show,this);this._bindElements();this._bindHandlers();}
CollectionFilterManager.prototype._bindElements=function(){this.$filterWrapper=$('.collection-filter-wrapper');this.$tabs=$(".collection-filter-tab");return this.$tabLabels=this.$tabs.find('.collection-filter-tab-label');};CollectionFilterManager.prototype._bindHandlers=function(){var _this=this;this.hoverIntentID=null;this.$tabLabels.on('click',this._show);this.$tabLabels.on('mouseenter',function(ev){clearTimeout(_this.hoverIntentID);return _this.hoverIntentID=_.delay(function(){return _this._show(ev);},350);});this.hoverIntentLeaveID=null;return $(".collection-filter-dropdown").on('mouseleave',function(){clearTimeout(_this.hoverIntentLeaveID);return _this.hoverIntentLeaveID=_.delay(function(){_this.$tabs.removeClass('is-active');return _this.$filterWrapper.removeClass('is-active');},350);});};CollectionFilterManager.prototype._show=function(ev){var $this;$this=$(ev.currentTarget);this.$tabs.removeClass('is-active');$this.closest('.collection-filter-tab').addClass('is-active');return this.$filterWrapper.addClass('is-active');};CollectionFilterManager.prototype.onLabelClick=function(ev){var $tab,$this;$this=$(ev.currentTarget);$tab=$this.closest('.collection-filter-tab');if($tab.hasClass('is-active')){this.$tabs.removeClass('is-active');this.$filterWrapper.removeClass('is-active');return this.close($tab);}else{this.$tabs.removeClass('is-active');$this.closest('.collection-filter-tab').addClass('is-active');this.$filterWrapper.addClass('is-active');return this.open($tab);}};CollectionFilterManager.prototype.open=function($tab){};CollectionFilterManager.prototype.close=function($tab){};return CollectionFilterManager;})();root.ProductGridManager=(function(){function ProductGridManager($element){this.onSelectChange=__bind(this.onSelectChange,this);this._init=__bind(this._init,this);this.$element=$($element);this._init();}
ProductGridManager.prototype._init=function(){this.$form=this.$element.find('form');this.$select=this.$element.find('select.product-option');return this.$select.on('change',this.onSelectChange);};ProductGridManager.prototype.onSelectChange=function(ev){var $this,$variantID,variantID;$this=$(ev.currentTarget);variantID=$this.val();$variantID=this.$element.find('input[name="variant_id"]');$variantID.val(variantID);return console.log('updating variant id to ',variantID);};return ProductGridManager;})();root.loader.executeOnKey(['collection_detail','product'],function(){var $images;new root.modules.ContentSlider({selector:'.collection-slider-product-filters',itemSelector:'.product-filter',renderIndicators:true,renderNavigation:false,itemsPerSlide:function(){return 10;},transitionFunction:function(slider){return slider._crossFade();}});new CollectionFilterManager();if(!window.is_mobile){$images=$(".collection-header-container .collection-image");$(window).on('scroll.clear-on-pjax',function(){var initial,maxRange,offset,opacity,percentage,scrollTop;if(window.windowHeight==null){window.windowHeight=$(window).height();}
scrollTop=$(window).scrollTop();if(scrollTop>2000){return;}
percentage=scrollTop/400;maxRange=100;initial=0;offset=initial-(maxRange*percentage);opacity=1-percentage;return $(".collection-header-container .collection-image").css({'background-position-y':""+(offset.toFixed(0))+"px",opacity:opacity});});}
$(".product-grid").each(function(index,$el){return new ProductGridManager($el);});return $(".product-grid").on('click','[js-shop-product-add-to-cart]',function(ev){var $form,$grid;fbq('track','AddToCart',{content_type:'product',content_ids:[$(this).data('variant-sku')],value:parseFloat($(this).data('variant-price')),currency:'USD'});$grid=$(this).closest('.product-grid');$form=$grid.find('form');$form.submit();ev.preventDefault();return false;});});root=typeof exports!=="undefined"&&exports!==null?exports:this;root.loader.executeOnKey('corporate',function(){var updateHeights;setTimeout(function(){if(window.location.pathname==='/corporate/'){return window.location.href='http://engravegoods.com';}},10000);new root.modules.ContentSlider({selector:'.content-slider-container.corporate-marquee',itemSelector:'.corporate-marquee-item',renderIndicators:true,autoPlay:4000,itemsPerSlide:function(){return 1;},transitionFunction:function(slider){return slider._crossFade();},onAfterRenderSlide:function(slider){return $("[data-viewport-style]").each(function(index,el){return new root.utils.ViewportHeight({element:el,styles:$(el).data('viewport-style')});});}});new root.modules.ContentSlider({selector:'.content-slider-container.corporate-gallery',itemSelector:'.corporate-gallery-item',renderIndicators:false,itemsPerSlide:function(){return 3;},transitionFunction:function(slider){return slider._crossFade();},onAfterRenderSlide:function(slider){}},$(document).on('click',".corporate-order-form .close",function(){return $(".corporate-order-overlay").fadeOut();}),$(document).on('click',".order-now, .learn-more-button",function(ev){return $("html, body").animate({scrollTop:$("#crmWebToEntityForm").offset().top},1000,'easeInOutExpo');}),$(document).on('click','.corporate-order-overlay',function(){return $(this).fadeOut();}),$(document).on('click',".corporate-order-form",function(ev){return ev.stopPropagation();}));intervals=[];setClearableInterval=function(func,interval){var id;id=setInterval(func,interval);intervals.push(id);console.log("setting interval",id);return id;};clearAllIntervals=function(){var id,_i,_len;for(_i=0,_len=intervals.length;_i<_len;_i++){id=intervals[_i];console.log('clearing interval...',id);clearInterval(id);}
return intervals=[];};setClearableInterval(function(){return $(".corporate-product-stacked-image-child").toggleClass('is-visible');},4000);updateHeights=function(){var $el,$elements,currentRowStart,currentTallest,rowDivs,topPosition;console.log("Updating heights");$elements=$("[data-equal-height]");currentTallest=0;currentRowStart=0;rowDivs=new Array();$el=void 0;topPosition=0;$elements.css("height","auto");setTimeout((function(){$elements.each(function(){var currentDiv,topPostion;$el=$(this);topPostion=$el.position().top;if(currentRowStart!==topPostion){currentDiv=0;while(currentDiv<rowDivs.length){rowDivs[currentDiv].height(currentTallest);currentDiv++;}
rowDivs.length=0;currentRowStart=topPostion;currentTallest=$el.height();rowDivs.push($el);}else{rowDivs.push($el);currentTallest=(currentTallest<$el.height()?$el.height():currentTallest);}
currentDiv=0;while(currentDiv<rowDivs.length){rowDivs[currentDiv].height(currentTallest);currentDiv++;}});}),200);};window.updateHeights=updateHeights;$(window).on("resize",updateHeights);return updateHeights();});root=typeof exports!=="undefined"&&exports!==null?exports:this;root.loader.executeOnKey(['faq'],function(){var hash;$(".question").on('click',function(ev){var $faqItem;$faqItem=$(this).closest('.faq-item');$faqItem.addClass('is-active');$faqItem.find('.answer').slideDown();return ev.preventDefault();});hash=window.location.hash.substr(1);return $(".view-more").on('click',function(){console.log('faq clicked');$(this).closest('ul').find('.faq-item.is-hidden').slideDown();return $(this).slideUp();});});root=typeof exports!=="undefined"&&exports!==null?exports:this;root=typeof exports!=="undefined"&&exports!==null?exports:this;root.loader.executeOnKey('warranty-form',function(){return $("[name=action]").change(function(){if($(this).val()==='REPLACEMENT'){return $(".warranty-form-replacement-address").slideDown();}else{return $(".warranty-form-replacement-address").slideUp();}});});root=typeof exports!=="undefined"&&exports!==null?exports:this;ExplodingWatchManager=(function(){ExplodingWatchManager.prototype.namespace='.watch';function ExplodingWatchManager(){this.explodeWatch=__bind(this.explodeWatch,this);this._bindElements();this._bindHandlers();}
ExplodingWatchManager.prototype._bindElements=function(){this.$wrapper=$('.watch-exploding-wrapper');this.$container=this.$wrapper.find('.watch-exploding-container');return this.$elements=this.$container.find('.watch-exploding-element');};ExplodingWatchManager.prototype._bindHandlers=function(){var _this=this;$(window).on('scroll'+this.namespace,this.explodeWatch);$(".button-unexplode").click(function(){return _this.$elements.css({x:0});});return $(".button-explode").click(function(){var $el,el,widthAdjustmentFactor,x,xPercentage,_i,_len,_ref,_results;_ref=_this.$elements;_results=[];for(_i=0,_len=_ref.length;_i<_len;_i++){el=_ref[_i];$el=$(el);x=$el.data('final-x');widthAdjustmentFactor=3.5;xPercentage=parseFloat(x)*widthAdjustmentFactor;_results.push($el.css({x:xPercentage+'%'}));}
return _results;});};ExplodingWatchManager.prototype.explodeWatch=function(){var _this=this;if(this._explodeWatch==null){this._explodeWatch=function(){var $el,EASE_IN_OUT_CONST,adjustedTop,easeInOutApprox,easeInOutCubic,easeOutAppox,easeOutCubic,el,elStart,endTop,position,range,rect,startTop,widthAdjustmentFactor,windowHeight,x,xPercentage,_i,_len,_ref;rect=_this.$container.get(0).getBoundingClientRect();windowHeight=$(window).height()+200;startTop=windowHeight-200;endTop=0;range=startTop-endTop;adjustedTop=rect.top-endTop;position=adjustedTop/startTop;easeInOutCubic=function(x){if(x<0.5){return 4*x*x*x;}else{x-=1;return 1+(4*x*x*x);}};easeOutAppox=function(x){return 1-Math.pow(1-x,1.685);};EASE_IN_OUT_CONST=0.5*Math.pow(0.5,1.925);easeInOutApprox=function(x){if(x<0.5){return EASE_IN_OUT_CONST*Math.pow(x,1.925);}else{return 1-EASE_IN_OUT_CONST*Math.pow(1-x,1.925);}};easeOutCubic=function(x){x-=1;return 1+(x*x*x);};if(position<1&&position>0){position=1-position;_ref=_this.$elements;for(_i=0,_len=_ref.length;_i<_len;_i++){el=_ref[_i];$el=$(el);x=$el.data('final-x');widthAdjustmentFactor=3.5;xPercentage=parseFloat(x)*widthAdjustmentFactor;elStart=rect.top+rect.height;$el.css({x:xPercentage*position+'%'});}}
if(position>1){return _this.$elements.css({x:0});}};}
if(window.is_mobile){if(this._explodeWatchDebounced==null){this._explodeWatchDebounced=_.debounce(this._explodeWatch,500);}
return this._explodeWatchDebounced();}else{return this._explodeWatch();}};return ExplodingWatchManager;})();RotatingWatchManager=(function(){RotatingWatchManager.prototype.namespace='.watch';function RotatingWatchManager(){this.rotateWatch=__bind(this.rotateWatch,this);this._bindElements();this._bindHandlers();}
RotatingWatchManager.prototype._bindElements=function(){this.$container=$(".watch-rotate-container");this.$hour=this.$container.find('.watch-rotate-hour');return this.$minute=this.$container.find('.watch-rotate-minute');};RotatingWatchManager.prototype._bindHandlers=function(){return $(window).on('scroll'+this.namespace,this.rotateWatch);};RotatingWatchManager.prototype.rotateWatch=function(){var throttle,_this=this;throttle=50;if(window.is_mobile){throttle=500;}
if(this._rotateWatch==null){this._rotateWatch=_.throttle(function(){var absoluteDecimalPosition,amountMoved,currentPosition,end,endBottom,movementRange,position,rect,start,startTop,windowHeight;start=10.1666;end=14.6666;rect=_this.$container.get(0).getBoundingClientRect();windowHeight=$(window).height();startTop=rect.top;endBottom=0;position=(rect.top+rect.height)/windowHeight;if(position<1.1&&position>-.23){position=1-position;movementRange=end-start;amountMoved=movementRange*position;currentPosition=start+amountMoved;absoluteDecimalPosition=currentPosition/12;_this.$hour.css({rotate:(absoluteDecimalPosition*360).toFixed(6)});return _this.$minute.css({rotate:((absoluteDecimalPosition*360)*12).toFixed(6)});}},throttle);}
return this._rotateWatch();};return RotatingWatchManager;})();handleSubnav=function(){var $subnav,el,navHeight,scrollspy,_i,_len,_ref;scrollspy=new root.ScrollSpyHandler();_ref=$("[data-scrollspy]");for(_i=0,_len=_ref.length;_i<_len;_i++){el=_ref[_i];scrollspy.addElement(el);}
$subnav=$(".no-touch .subnav");navHeight=50;return $(window).on('scroll.home',_.throttle(function(){var offset,stickAt,top;top=$(window).scrollTop();offset=$(window).height()-$subnav.height();stickAt=top+navHeight;if(offset<=stickAt){return $subnav.addClass('is-sticky');}else{return $subnav.removeClass('is-sticky');}},10));};handleMainVideo=function(){var image,videoId;if(window.is_mobile){image=$(".watch-marquee").data('mobile-bg-image');return $(".watch-marquee").css({'background-image':"url("+image+")"});}else{videoId='_GlmngBlwPM';$('.tubular-video').tubular({videoId:videoId,ratio:16/9,wrapperZIndex:5});$("#tubular-container").hide().delay(1500).fadeIn();return $('.tubular-video').on('remove',function(){$("#tubular-container").remove();return $("#tubular-shield").remove();});}};handleWatchSignup=function(){return $(".watch-sign-up").click(function(){});};handleVideoPopup=function(){return $(".watch-video").click(function(ev){var $container,$content,href;console.log('clicked');ev.preventDefault();href='//www.youtube.com/embed/cvV_OtFg3-E?autoplay=1&controls=0&fs=1&modestbranding=1&rel=0&showinfo=0&autohide=1&allowfullscreen=1';$container=$("<div class=\"grove-overlay\">\n	<div class=\"grove-overlay-content product-image-video\">\n		<iframe width=\"853\" height=\"480\" src=\""+href+"\" frameborder=\"0\" allowfullscreen></iframe>\n	</div>\n</div>");$("body").append($container);$content=$container.find('.grove-overlay-content');$content.css({width:853+20,height:480+20,marginTop:-480/2,marginLeft:-853/2});$container.fadeIn();ev.preventDefault();$container.on('click.watch',function(){return $container.fadeOut('fast',function(){return $container.remove();});});return false;});};$.fn.extend({popup:function(_arg){var $popup,popupClass;_arg;popupClass='grove-overlay-popup';$popup=$("body").find(popupClass);if($popup.length===0){$popup=$("<div class=\""+popupClass+"\"></div>");return $("body").append($popup);}}});handleParallax=function(){var _this=this;if(window.is_mobile){return;}
window.windowHeight=$(window).height();$(window).resize(function(){return window.windowHeight=$(window).height();});return $(window).on('scroll.clear-on-pjax',function(){var offset,opacity,percentage,scrollTop;scrollTop=$(window).scrollTop();if(scrollTop>2000){return;}
percentage=scrollTop/window.windowHeight;offset=percentage*window.windowHeight*.1;opacity=1-percentage;offset=50-offset;return $(".watch-marquee").css({'background-position':"50% "+(offset.toFixed(5))+"%",opacity:opacity});});};handleVideo=function(){var $landscapeVideo,$toolingVideo,updateSize;$toolingVideo=$(".watch-tooling-video");$landscapeVideo=$(".watch-looping-landscape-video");updateSize=function(){var width;width=$(window).width();$toolingVideo.css({width:width,height:width*(384/1280)});return $landscapeVideo.css({width:width*.6666666,height:width*(482/953)*.66666});};$(window).on('resize.clear-on-pjax',function(){return updateSize();});return updateSize();};handleOverflows=function(){var handlePixelRounding;handlePixelRounding=_.debounce(function(){var $element,height;$element=$("#how-it-works");$element.css('height','auto');height=$element.height()-5;console.log(height);return $element.css({height:""+height+"px",overflow:'hidden'});},100);$(window).resize(handlePixelRounding);return handlePixelRounding();};root.loader.executeOnKey('watch',function(){root.ewm=new ExplodingWatchManager;root.rwm=new RotatingWatchManager;handleSubnav();handleWatchSignup();handleVideoPopup();handleOverflows();handleParallax();return handleVideo();});root=typeof exports!=="undefined"&&exports!==null?exports:this;root.controllers.ariaAnnouncerPolite=function($element,args){var _this=this;return $(document).on('aria-announce',function(event,options){if(options.priority==='polite'){console.log("Announcing polite message: ",options.message);return $element.html(options.message);}});};root.controllers.ariaAnnouncerAssertive=function($element,args){var _this=this;console.log("init aria announce assertive");return $(document).on('aria-announce',function(event,options){if(options.priority==='assertive'){console.log("Announcing assertive message: ",options.message);return $element.html(options.message);}});};root=typeof exports!=="undefined"&&exports!==null?exports:this;root.controllers.cartForm=function($element,args){var $submit;$submit=$element.find('[js-checkout-button]');return $submit.on('click',function(ev){fbq('track','InitiateCheckout',args.fbqArgs);return console.log('[cart]',args.fbqArgs);});};root=typeof exports!=="undefined"&&exports!==null?exports:this;root.controllers.cartItem=function($element,args){var $quantity,$remove,$update,originalQuantity,_this=this;this.api={};$update=$element.find('[js-cart-item-update]');$update.on('click',function(){var originalQuantity;originalQuantity=_this.api.getQuantity();_this.api.changeQuantity();return $update.fadeOut();});$remove=$element.find('[js-cart-item-remove]');$remove.on('click',function(){return _this.api.changeQuantity(0);});$quantity=$element.find('[js-cart-item-quantity]');originalQuantity=$quantity.val();$quantity.on('click',function(){return $(this).select();});$quantity.on('keyup',function(){if($(this).val()!==originalQuantity){return $update.show();}else{return $update.hide();}});this.api.updateCart=function(data){$("[js-cart-total-updated]").html('$'+data.total);$("[js-cart-quantity-updated]").html(data.item_count);return $("[js-checkout-link-updated]").attr('href',data.checkout_link);};this.api.getQuantity=function(){var $qty;$qty=$element.find('[js-cart-item-quantity]');return parseInt($qty.val());};return this.api.changeQuantity=function(qty){var $qty;if(qty==null){qty=void 0;}
if(qty===void 0){qty=_this.api.getQuantity();}
$.ajax({url:'/my-cart/ajax/',data:{action:'change-quantity',id:args.shopify_id,quantity:qty},dataType:'json',method:'post',success:function(response){if(qty===0){console.log('change quantity 0 -- fading out');$element.fadeOut();}
return _this.api.updateCart(response);},error:function(ex){return console.error(ex);}});$qty=$element.find("[js-cart-item-quantity]");$qty.on('click',function(){return $(this).select();});return $qty.on('change',function(){return $element.find("[data-cart-item-update]").fadeIn();});};};root=typeof exports!=="undefined"&&exports!==null?exports:this;root.controllers.cartOverlay=function($element,args){var close,isOpen,open;isOpen=function(){return $element.is(":visible");};close=function(){console.log('[cartOverlay]','closing');return $element.fadeOut();};open=function(){console.log('[cartOverlay]','opening');return $element.fadeIn();};$(document).on('pjax:send',function(){console.log("[cartOverlay]","pjax detected",isOpen(),close);if(isOpen()){console.log('[cartOverlay]','pjax:send while cart is open; closing.');return setTimeout(function(){return close();},300);}});$(document).on('click','[js-cart-overlay-close]',function(){console.log("[cartOverlay]","close clicked");return close();});$(document).on('click',function(ev){if(!isOpen()){return;}
if(!$(ev.target).closest('[js-cart-overlay-fragment]').length){console.log('[cartOverlay]','detectd click outside content; closing');return close();}});$(document).on('keyup',function(ev){if(!isOpen()){return;}
if(ev.keyCode===27){return close();}});return{};};root=typeof exports!=="undefined"&&exports!==null?exports:this;root.controllers.cartUpsellVariant=function($element,args){var $add,$remove,added,originalAddText,removed;$add=$element.find('[js-cart-upsell-add]');$remove=$element.find('[js-cart-upsell-remove]');originalAddText=$add.text();added=function(){$element.addClass('js-added');return $add.html(originalAddText);};removed=function(){return $element.removeClass('js-added');};$element.find('form').on('submit',function(ev){ev.preventDefault();return false;});$add.on('click',function(){var addToCartPromise;$add.html('ADDING....');return addToCartPromise=$.ajax({type:'post',url:"/my-cart/add-to-cart/?view-desktop-site",type:'post',data:$element.find("input").serialize(),success:function(){added();return $("[js-cart-overlay-fragment]").loadFragment({url:"/my-cart/",data:{template:'shop/cart/fragments/v2_cart_overlay.html'},onSuccess:function(response){var cartCount;cartCount=Number($('.updated-cart-count').html());$("[js-navbar-cart-count]").html(cartCount);if(cartCount>0){$(".cart-link").addClass('has-items');}else{$(".cart-link").removeClass('has-items');}
return $("[js-controller=\"cartOverlay\"]").fadeIn();}});}});});return $remove.on('click',function(){var _this=this;return $.ajax({url:'/my-cart/ajax/',data:{action:'change-quantity',id:args.variant_id,quantity:0},dataType:'json',method:'post',success:function(response){return removed();},error:function(ex){return console.error(ex);}});});};root=typeof exports!=="undefined"&&exports!==null?exports:this;root.controllers.v2FilterBar=function($element,args){var $mobileFilter,$open;$open=$element.find('[data-filter-bar-open]');$mobileFilter=$element.find("[js-controller=\"v2FilterBarMobile\"]");return $open.on('click',function(){if($mobileFilter.css('opacity')>.9){$element.removeClass('js-open');return $mobileFilter.trigger('close');}else{$element.addClass('js-open');return $mobileFilter.trigger('open');}});};root.controllers.v2Footer=function($element,args){var $scroll;$scroll=$element.find('[data-footer-scroll-up]');return $scroll.on('click',function(){return $("html, body").animate({scrollTop:0},1000,'easeInOutExpo');});};root=typeof exports!=="undefined"&&exports!==null?exports:this;root.controllers.productCoverflow=function($element,args){var $swiper,swiper;$swiper=$element.find('[js-product-coverflow-swiper]');swiper=$swiper.swiper({slidesPerView:args.desktopSlidesPerView||1.5,autoplay:args.autoplay||false,autoplayDisableOnInteraction:true,centeredSlides:true,slideToClickedSlide:true,loop:true,loopAdditionalSlides:3,nextButton:$element.find('.product-coverflow__navigation-arrow--right')[0],prevButton:$element.find('.product-coverflow__navigation-arrow--left')[0],grabCursor:true,breakpoints:{768:{slidesPerView:args.mobileSlidesPerView}}});window.slider=swiper;return $element.on('mousemove touchstart touchend click',function(){return $element.find('.product-coverflow__hint').fadeOut();});};root=typeof exports!=="undefined"&&exports!==null?exports:this;root.controllers.dragHint=function($element,args){};root=typeof exports!=="undefined"&&exports!==null?exports:this;root.controllers.v2FilterBar=function($element,args){var $mobileFilter,$open;$open=$element.find('[data-filter-bar-open]');$mobileFilter=$element.find("[js-controller=\"v2FilterBarMobile\"]");return $open.on('click',function(){if($mobileFilter.is(":visible")&&$mobileFilter.css('opacity')>.9){$element.removeClass('js-open');return $mobileFilter.trigger('close');}else{$element.addClass('js-open');return $mobileFilter.trigger('open');}});};root=typeof exports!=="undefined"&&exports!==null?exports:this;root.controllers.v2FilterBarMobile=function($element,args){var $close,$contents,$links,animationParams,close,open,_this=this;$contents=$element.find("[data-filter-bar-mobile-links-content]");$links=$element.find("[data-filter-bar-mobile-links]");$contents.css({zIndex:1,opacity:0});$links.on('click',function(ev){var $el,$target,target;$el=$(ev.currentTarget);target=$el.data('filter-bar-mobile-links');$target=$("[data-filter-bar-mobile-links-content=\""+target+"\"]");$contents.stop().animate({opacity:0,zIndex:1},'slow');$target.stop().animate({opacity:1,zIndex:3},'slow');$links.removeClass('js-active');return $el.addClass('js-active');});animationParams={queue:false,duration:1000,easing:'easeInOutExpo'};close=function(){$element.trigger('filterbar:closing');$element.stop(true,true).slideUp(animationParams).animate({opacity:0},animationParams);return console.log('[v2FilterBarMobile]','close');};open=function(){$element.stop(true,true).slideDown(animationParams).animate({opacity:1},animationParams);return console.log('[v2FilterBarMobile]','open');};$close=$element.find('[data-filter-bar-mobile-close]');$close.on('click',close);$element.on('open',open);$element.on('close',close);$(document).on('pjax:success',close);return _.delay(function(){return $links.filter(":first").click();},500);};root=typeof exports!=="undefined"&&exports!==null?exports:this;root.controllers.journalTile=function($element,args){var $content,$image,selectors;selectors={image:'[data-journal-tile-img]',content:'[data-journal-tile-content]'};$content=$element.find(selectors.content);$image=$element.find(selectors.image);if($element.hasClass('journal-tile--wide')){return $element.find(""+selectors.image+","+selectors.content).matchHeight();}else{console.log('[journalTile]','match height');return $element.find(selectors.content).matchHeight();}};root=typeof exports!=="undefined"&&exports!==null?exports:this;root.controllers.v2Navbar=function($element,args){var handleMobileNav,handleSupernav,_this=this;(handleSupernav=function(){var $supernavTriggers,$supernavs,close,open,openSuperNav;$supernavTriggers=$element.find("[data-navbar-supernav-trigger]");$supernavs=$element.find("[data-navbar-supernav]");open=function($supernav){$supernavs.css({zIndex:1});$supernavs.not($supernav).fadeOut();return $supernav.fadeIn('fast',function(){return $supernav.css({zIndex:2});});};close=function(){return $supernavs.fadeOut('fast');};openSuperNav=function(value){var $supernav;$supernav=$element.find("[data-navbar-supernav=\""+value+"\"]");return open($supernav);};$supernavTriggers.on('mouseenter',function(){var type;type=$(this).data('navbar-supernav-trigger');return openSuperNav(type);});$supernavs.on("mouseleave",function(){return close();});return $(document).on('pjax:send',function(){if($supernavs.filter(":visible").length>0){close();return console.log("[v2Navbar]",'supernavs visible on pjax send, closing');}});})();return(handleMobileNav=function(){var $mobileNavbar,$mobileTrigger,close,open,toggle;$mobileNavbar=$element.find("[data-navbar-mobile=\"shop\"]");open=function(){$mobileNavbar.trigger('open');return $element.addClass('js-mobile-nav-open');};close=function(preventTrigger){if(!preventTrigger){console.log("sending mobile nav close event");$mobileNavbar.trigger('close');}
return $element.removeClass('js-mobile-nav-open');};toggle=function(){if($mobileNavbar.is(":visible")&&$mobileNavbar.css('opacity')>.9){return close();}else{return open();}};$mobileTrigger=$element.find('[data-navbar-mobile-trigger]');$mobileTrigger.on('click',toggle);return $element.on("filterbar:closing",function(){return close(true);});})();};root=typeof exports!=="undefined"&&exports!==null?exports:this;root.controllers.newsletterPopup=function($element,args){var $close,$open,cookieName,hide,show,shown,_this=this;$close=$element.find("[js-newsletter-popup-close]");cookieName=args.cookieName||'newsletter-popup-opened';show=function(){return $element.fadeIn();};hide=function(){return $element.fadeOut();};$close.on("click",hide);if(args.openTriggerSelector){$open=$(args.openTriggerSelector);$open.on("click",show);}
$element.on('click',function(ev){var $content;$content=$(ev.target).closest('[js-newsletter-popup-content]');if($content.length===0){return hide();}});$(document).on("keyup",function(ev){if(ev.keyCode===27){return hide();}});if(args.autoShow){shown=root.utils.readCookie(cookieName);if(!shown){root.utils.setCookie(cookieName,true);setTimeout(function(){show();return $element.addClass('js-after-show');},3000);}}
return $element.on('hubspotformsuccess',function(){return $element.addClass('js-form-success');});};root=typeof exports!=="undefined"&&exports!==null?exports:this;root.controllers.productGalleryV3=function($element,args){var $swiper,autoplay,pagination,swiper;$swiper=$element.find('[js-product-gallery-v3-swiper]');autoplay=true;pagination=$element.find('[js-product-gallery-v3-pagination]')[0];if($element.find(".swiper-slide").length<=1){autoplay=false;pagination=null;}
swiper=$swiper.swiper({prevButton:$element.find('[js-product-gallery-v3-left]')[0],nextButton:$element.find('[js-product-gallery-v3-right]')[0],pagination:pagination,paginationClickable:true,autoplay:autoplay?4000:false,calculateHeight:true,grabCursor:true,speed:500,effect:'fade',loop:true,fade:{crossFade:true},nextButton:$element[0]});setTimeout(function(){return swiper.update();},500);return setTimeout(function(){return swiper.update();},1000);};root=typeof exports!=="undefined"&&exports!==null?exports:this;root.controllers.productHeroV3=function($element,args){var $variantInput,handleAddToCart,handleDynamicProductFragments,handleFacebookPixel,_this=this;$("body").addClass('no-navbar-padding');$element.find("[data-mh]").matchHeight();$element.addClass('product-hero-v3--loaded');(handleAddToCart=function(){var $buy,originalText,showUpsell;$buy=$("[data-product-detail-hero-buy]");originalText=$buy.text();showUpsell=true;return $element.find('form').submit(function(ev){var addToCartPromise,loadAndOpenCart;ev.preventDefault();$buy.text('ADDING TO CART...');showUpsell=function(){return $("[js-cart-overlay-fragment]").loadFragment({url:"/my-cart/",data:{template:'shop/cart/fragments/v2_upsell_overlay.html'},onSuccess:function(response){return $("[js-controller=\"upsellOverlay\"]").fadeIn();}});};loadAndOpenCart=function(){return $("[js-cart-overlay-fragment]").loadFragment({url:"/my-cart/",data:{template:'shop/cart/fragments/v2_cart_overlay.html'},onSuccess:function(response){var cartCount;cartCount=Number($('.updated-cart-count').html());$("[js-navbar-cart-count]").html(cartCount);if(cartCount>0){$(".cart-link").addClass('has-items');}else{$(".cart-link").removeClass('has-items');}
return $("[js-controller=\"cartOverlay\"]").fadeIn();}});};return addToCartPromise=$.ajax({url:"/my-cart/add-to-cart/?view-desktop-site",type:'post',data:$(this).serialize(),success:function(data){loadAndOpenCart();$buy.html(originalText);$("[js-cart-total-updated]").html('$'+data.total);return $("[js-cart-quantity-updated]").html(data.item_count);}});});})();$variantInput=$element.find("[js-variant-id]");(handleDynamicProductFragments=function(){return $variantInput.on('change',function(ev){var variant_id;variant_id=$variantInput.val();console.log("Variant changed to ",variant_id);$element.find("[js-product-fragment-gallery]").loadFragment({url:'.',data:{template:'shop/products/fragments/v3_product_gallery.html',variant_id:variant_id},onSuccess:function(){return root.utils.bindJSControllers($element);}});$element.find("[js-product-fragment-info]").loadFragment({url:'.',data:{template:'shop/products/fragments/v3_info.html',variant_id:variant_id}});$element.find("[js-product-fragment-buy]").loadFragment({url:'.',data:{template:'shop/products/fragments/v3_buy.html',variant_id:variant_id}});return $element.find('[js-product-fragment-lead-time]').loadFragment({url:'.',data:{template:'shop/products/fragments/v3_lead_time.html',variant_id:variant_id}});});})();return(handleFacebookPixel=function(){var getVariantPrice,getVariantSku,_sendFBPixelAddToCart,_sendFBPixelContentView,_this=this;getVariantSku=function(){return $('[js-variant-info]').data('variant-sku');};getVariantPrice=function(){return parseFloat($("[js-variant-info]").data('variant-price'));};(_sendFBPixelContentView=function(){return _.delay(function(){var payload;payload={content_type:'product',content_ids:[getVariantSku()],value:getVariantPrice(),currency:'USD'};console.log('fbContentViewPayload',payload);return fbq('track','ViewContent',payload);},500);})();_sendFBPixelAddToCart=function(){return _.delay(function(){var payload;payload={content_type:'product',content_ids:[getVariantSku()],value:getVariantPrice(),currency:'USD'};console.log('fbAddToCartPayload',payload);return fbq('track','AddToCart',payload);},500);};$variantInput.on('change',_sendFBPixelContentView);$element.find('form').on('submit',_sendFBPixelAddToCart);return $(document).off('.product').on('click.product',"[product-notify-trigger]",function(ev){var $container,$content,$template,content;console.log('product notify trigger clicked');$template=$('[product-notify-template]');content=$template.html();if($(".grove-overlay").length>0){$(".grove-overlay").remove();}
$container=$("<div class=\"grove-overlay\">"+content+"</div>");$("body").append($container);$content=$container.find('.grove-overlay-content');$container.fadeIn();ev.preventDefault();$container.on('click',function(ev){if(!$(ev.target).closest('.grove-overlay-content').length){return $(this).fadeOut('fast',function(){return $container.remove();});}});return $(".product-notify-form").submit(function(ev){$(this).validate({errorPlacement:function(error,element){var $wrapped;$wrapped=element.wrap('<div class="error-wrapper"/>').parent();return error.appendTo($wrapped);},rules:{email:{required:true,email:true}},submitHandler:function(form){return form.submit();}});ev.preventDefault();return false;});});})();};root=typeof exports!=="undefined"&&exports!==null?exports:this;root.controllers.productQuickAdd=function($element,args){var $content,$trigger,_this=this;$trigger=$element.find('[js-product-quick-add-trigger]');$content=$element.find('[js-product-quick-add-content]');return $trigger.on('mouseenter',function(){return $content.slideDown();});};root=typeof exports!=="undefined"&&exports!==null?exports:this;root.controllers.productReviews=function($element,args){var $arrow,$quote,$reviews,activateElement,loadNewReview,skipInterval;$quote=$element.find('[js-product-review-quote-target]');$reviews=$element.find('[js-product-review-quote]');loadNewReview=function(quote){return $quote.animate({opacity:0},250,'easeInOutExpo',function(){$quote.html(quote);return $quote.animate({opacity:1},250,'easeInOutExpo');});};$arrow=$element.find('[js-product-reviews-arrow]');skipInterval=false;activateElement=function($el){var left,quote;$reviews.removeClass('is-active');$el.addClass('is-active');left=$el.offset().left+($el.width()/2);$arrow.css({left:""+left+"px"});quote=$el.attr('js-product-review-quote');return loadNewReview("&ldquo;"+quote+"&rdquo;");};activateElement($reviews.eq(2));return $reviews.on('click',function(){var $el;$el=$(this);if($el.hasClass('is-active')){return;}
activateElement($el);return skipInterval=true;});};root=typeof exports!=="undefined"&&exports!==null?exports:this;root.controllers.productsCarousel=function($element,args){var $swiper;$swiper=$element.find('[js-products-carousel-swiper]');return $swiper.swiper({slidesPerView:args.desktopSlidesPerView,slidesPerGroup:args.desktopSlidesPerView,breakpoints:{768:{slidesPerView:args.mobileSlidesPerView,slidesPerGroup:args.mobileSlidesPerView}},pagination:$element.find("[js-products-carousel-pagination]")[0],autoplay:args.autoplay,autoplayDisableOnInteraction:true,onSlideChangeStart:function(){var $hint;$hint=$element.find("[js-products-carousel-drag-hint]");return $hint.fadeOut();},onInit:function(swiper){var onResize;onResize=_.debounce(function(){var slidesPerView;slidesPerView=args.desktopSlidesPerView;if($(window).width()<768){slidesPerView=args.mobileSlidesPerView;}
console.debug("testing",slidesPerView);if(swiper.slides.length<=slidesPerView){return $element.addClass('js-single-slide');}else{return $element.removeClass('js-single-slide');}});onResize();return $(window).on('resize.clear-on-pjax',onResize);}});};root=typeof exports!=="undefined"&&exports!==null?exports:this;log=console.log.bind(this,'[products_with_callout]');root.controllers.productsWithCallout=function($element,args){var $mh,$tile,isMobile,matchHeights;$mh=$element.find("[data-products-callout-match-height]");$tile=$element.find("[data-products-callout-tile]");isMobile=$(window).width()<root.variables.breakpoints.desktop;matchHeights=function(){if(isMobile){return $mh.css({'height':''});}else{return $mh.matchHeight({byRow:false});}};matchHeights();return $(window).on('resize.clear-on-pjax',_.debounce(matchHeights,200));};root=typeof exports!=="undefined"&&exports!==null?exports:this;root.controllers.recommendedJournals=function($element,args){var selectors;selectors={image:'[data-journal-tile-img]',content:'[data-journal-tile-content]'};return $element.find(selectors.content).matchHeight();};root=typeof exports!=="undefined"&&exports!==null?exports:this;root.controllers.specs=function($element,args){var $groups,$titles;$titles=$element.find('[data-specs-title]');$groups=$element.find('[data-specs-group]');return $titles.on('click',function(){var $group,$text;$group=$(this).closest('[data-specs-group]');$text=$group.find('[data-specs-text]');return $group.toggleClass('is-expanded');});};root=typeof exports!=="undefined"&&exports!==null?exports:this;root.controllers.customBlockTeam=function($element,args){var TeamManager;TeamManager=(function(){function TeamManager(){this.onClickItem=__bind(this.onClickItem,this);this.setHeights=__bind(this.setHeights,this);this._bindElements();this._bindHandlers();}
TeamManager.prototype._bindElements=function(){this.$container=$(".team-section");return this.$items=$(".team-member");};TeamManager.prototype._bindHandlers=function(){var _this=this;this.$items.click(this.onClickItem);$(window).resize(_.debounce(this.setHeights,200));if(root.jRes!==void 0){return root.jRes.addFunc({breakpoint:'*',enter:function(){return _this.initialize();}});}};TeamManager.prototype._bindNavHandlers=function(){var _this=this;return this.$container.find('.team-popup-nav').click(function(ev){var $next,$this,next;$this=$(ev.currentTarget);next=$this.data('next');$next=_this.$items.eq(next-1);return $next.click();});};TeamManager.prototype.setHeights=function(){var height;height=$(".team-popup-image-container:visible").height();return $(".team-popup-description-container").css({height:height});};TeamManager.prototype.initialize=function(){if(this.activeItem){return this._loadPopup(this.activeItem);}};TeamManager.prototype.onClickItem=function(ev){'On click, expand content below the next row.';var $this;$this=$(ev.currentTarget);this.activeItem=$this;this._loadPopup($this);return root.lazyload();};TeamManager.prototype._loadPopup=function($item){var $lastItem,$obsoleteContainers,$popupContainer,cols,row,selector;$lastItem=this._getLastItemInRow($item);row=this._getRowNumber($item);cols=this._getItemsPerRow();selector=".team-popup-container.row-"+row+".cols-"+cols;$popupContainer=this.$container.find(selector);if(!$popupContainer.length>0){$obsoleteContainers=this.$container.find('.team-popup-container');$obsoleteContainers.slideUp('slow',(function(){return $(this).remove();}));$popupContainer=$("<div class=\"team-popup-container row-"+row+" cols-"+cols+"\">\n</div>");$popupContainer.hide();$lastItem.after($popupContainer);_.delay((function(){var obsoleteHeight,top;obsoleteHeight=$obsoleteContainers.height();top=$popupContainer.offset().top-200;return $('html, body').animate({scrollTop:top},500);}),400);}
this._crossFadeToItem($popupContainer,$item);this._bindNavHandlers();return this.$container.forceLoadLazy();};TeamManager.prototype._crossFadeToItem=function($popupContainer,$item){var $descriptionContainer,$existingWrappers,$original,_this=this;$existingWrappers=$popupContainer.find(".xfadewrapper");if($existingWrappers.length){$existingWrappers.fadeOut(200,function(){return $(this).remove();});}
$original=$('<div class="xfadewrapper"><div class="row"></div></div>');$original.find('.row').html($item.find('.team-popup-content').html()).hide().fadeIn(200);$popupContainer.prepend($original);$descriptionContainer=$popupContainer.find('.team-popup-description-container');$descriptionContainer.hide();if(!$popupContainer.is(':visible')){$popupContainer.slideDown('normal').animate({opacity:1},{queue:true,duration:'normal',easing:'easeInOutExpo'});}
return $popupContainer.find('img').on('load',function(){_this.setHeights();return $descriptionContainer.fadeIn();});};TeamManager.prototype._getRowNumber=function($item){var row;row=Math.floor(this.$items.index($item)/this._getItemsPerRow())+1;return row;};TeamManager.prototype._getLastItemInRow=function($item){var $lastItem,lastItem,lastItemIndex,row;row=this._getRowNumber($item);lastItem=row*this._getItemsPerRow();if(lastItem>this.$items.length){lastItemIndex=this.$items.length;}else{lastItemIndex=lastItem;}
$lastItem=this.$items.eq(lastItemIndex-1);return $lastItem;};TeamManager.prototype._getItemsPerRow=function(){if($(window).width()>700){return 6;}
return 3;};TeamManager.prototype._nextItem=function(){};return TeamManager;})();return new TeamManager;};root=typeof exports!=="undefined"&&exports!==null?exports:this;root.controllers.upsellOverlay=function($element,args){var close,isOpen,open;isOpen=function(){return $element.is(":visible");};close=function(){console.log('[upsellOverlay]','closing');return $element.fadeOut();};open=function(){console.log('[upsellOverlay]','opening');return $element.fadeIn();};$(document).on('pjax:send',function(){console.log("[upsellOverlay]","pjax detected",isOpen(),close);if(isOpen()){console.log('[upsellOverlay]','pjax:send while cart is open; closing.');return setTimeout(function(){return close();},300);}});$(document).on('click','[js-upsell-overlay-close]',function(){console.log("[upsellOverlay]","close clicked");return close();});$(document).on('click',function(ev){if(!isOpen()){return;}
if(!$(ev.target).closest('[js-upsell-overlay-fragment]').length){console.log('[upsellOverlay]','detectd click outside content; closing');return close();}});$(document).on('keyup',function(ev){if(!isOpen()){return;}
if(ev.keyCode===27){return close();}});return{};};root=typeof exports!=="undefined"&&exports!==null?exports:this;root.controllers.videoEmbed=function($element,args){var $desktop,$mobile;$desktop=$element.find('[data-video-embed-desktop]');$mobile=$element.find('[data-video-embed-mobile]');if(!window.Modernizr){return;}
return window.Modernizr.on('videoautoplay',function(result){if(result){return console.log('[videoEmbed]','autoplay detected');}else{console.log('[videoEmbed]','no autoplay detected');$desktop.remove();return $mobile.show();}});};}).call(this);